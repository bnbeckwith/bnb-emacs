<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-01-30 Tue 14:20 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Beckwith Tangled Emacs Initialization</title>
<meta name="author" content="Benjamin Beckwith" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="src/readtheorg_theme/css/readtheorg.css"/>
<script type="text/javascript" src="src/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="src/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="src/readtheorg_theme/js/readtheorg.js"></script>
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Beckwith Tangled Emacs Initialization</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org2765177">1. Introduction</a>
<ul>
<li><a href="#org50b865c">1.1. Installation</a></li>
<li><a href="#org9ed685e">1.2. Notes</a>
<ul>
<li><a href="#orgef014cf">1.2.1. Emacs Build</a></li>
<li><a href="#orgfcc8978">1.2.2. Pending sections</a></li>
<li><a href="#org06d57dd">1.2.3. Performance</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org16a074f">2. Preamble</a>
<ul>
<li><a href="#org3deff2c">2.1. Personal Information</a></li>
<li><a href="#org6aeb2c4">2.2. Local customizations (custom.el, username.var.el)</a>
<ul>
<li><a href="#orge88bd3d">2.2.1. Local variables (user-login-name)</a></li>
</ul>
</li>
<li><a href="#org7002dbb">2.3. Early Initialization</a></li>
<li><a href="#orgb91b931">2.4. Libraries</a>
<ul>
<li><a href="#org3135842">2.4.1. Dash</a></li>
<li><a href="#org0c2ee76">2.4.2. Delight</a></li>
<li><a href="#org2af74a0">2.4.3. Hydra</a></li>
<li><a href="#orgd2104ef">2.4.4. Seq</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgb4de008">3. Settings</a>
<ul>
<li><a href="#org7370772">3.1. Keys</a>
<ul>
<li><a href="#orga20e3fb">3.1.1. Binding Keys</a></li>
<li><a href="#org31509ee">3.1.2. Personal Keymaps</a></li>
<li><a href="#orgda7f860">3.1.3. Super keys</a></li>
</ul>
</li>
<li><a href="#orgcbe7eb2">3.2. Command Launchers</a>
<ul>
<li><a href="#org7da8ced">3.2.1. Hydra</a></li>
<li><a href="#orgdb15dcf">3.2.2. Vertico</a></li>
</ul>
</li>
<li><a href="#org6796c80">3.3. Expansion</a>
<ul>
<li><a href="#org6606dce">3.3.1. Abbrev</a></li>
<li><a href="#org0fdf34f">3.3.2. Auto-completion</a></li>
</ul>
</li>
<li><a href="#orgcd6c183">3.4. Built-in Features</a>
<ul>
<li><a href="#orgbbf0815">3.4.1. Backups</a></li>
<li><a href="#orga3c098e">3.4.2. Bookmarks</a></li>
<li><a href="#org11defe0">3.4.3. Default File encoding</a></li>
<li><a href="#org2dba548">3.4.4. Native Compilation</a></li>
<li><a href="#org8eabb74">3.4.5. Path</a></li>
<li><a href="#org05b26af">3.4.6. Server</a></li>
<li><a href="#org4b68dfb">3.4.7. Sounds</a></li>
<li><a href="#org0d8705c">3.4.8. Recentf</a></li>
<li><a href="#org56c830e">3.4.9. Timezones</a></li>
<li><a href="#org96ecbb8">3.4.10. Isearch</a></li>
</ul>
</li>
<li><a href="#org69b15f0">3.5. Minibuffer</a>
<ul>
<li><a href="#orgf4ff2f8">3.5.1. Minibuffer History</a></li>
</ul>
</li>
<li><a href="#org14ef6fe">3.6. Movement</a>
<ul>
<li><a href="#orge23d3b7">3.6.1. Ace Utilities</a></li>
<li><a href="#orgf8b4a13">3.6.2. Errors</a></li>
<li><a href="#org1e287f8">3.6.3. Read-only helpers</a></li>
<li><a href="#org39540be">3.6.4. Scroll Screen Position</a></li>
</ul>
</li>
<li><a href="#org628513b">3.7. Custom Helpers</a>
<ul>
<li><a href="#orgbda9fb7">3.7.1. Auto-display agenda</a></li>
<li><a href="#org7f3adc8">3.7.2. Auto-indent when pasting</a></li>
<li><a href="#org2dd0892">3.7.3. Better window splitting functions</a></li>
<li><a href="#orge977105">3.7.4. Hide mode line</a></li>
<li><a href="#org9e14686">3.7.5. Open/Edit This file</a></li>
<li><a href="#org5a6c6ff">3.7.6. Org-column resizing</a></li>
<li><a href="#orge9a1028">3.7.7. Styled HTML Export</a></li>
<li><a href="#org9d3f464">3.7.8. Transparency</a></li>
<li><a href="#org67f6ef1">3.7.9. Weekly Score Goal in Org-Agenda</a></li>
<li><a href="#orge78ffcd">3.7.10. Weekly Time Reporting</a></li>
<li><a href="#org372c9e9">3.7.11. Workweeks</a></li>
</ul>
</li>
<li><a href="#orged84092">3.8. Editing</a>
<ul>
<li><a href="#org3cb8284">3.8.1. Ediff single frame</a></li>
<li><a href="#org1aa324d">3.8.2. Multiple Cursors</a></li>
<li><a href="#org451d100">3.8.3. Regexp-Builder</a></li>
<li><a href="#orged2eead">3.8.4. Executable Scripts on save</a></li>
<li><a href="#orgc0c6538">3.8.5. Auto Reverting</a></li>
</ul>
</li>
<li><a href="#orgd4dea40">3.9. Images</a>
<ul>
<li><a href="#orgf0cb838">3.9.1. ImageMagick</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9e85451">4. Minor Modes</a>
<ul>
<li><a href="#org0a6a2cf">4.1. Reference</a>
<ul>
<li><a href="#org28a3f2d">4.1.1. Discover my mode</a></li>
<li><a href="#org724c6f2">4.1.2. Helpful</a></li>
<li><a href="#org0cb7759">4.1.3. Which Key</a></li>
<li><a href="#orgaebe035">4.1.4. Dictionary</a></li>
</ul>
</li>
<li><a href="#org76274d9">4.2. Editing</a>
<ul>
<li><a href="#orgc977ec1">4.2.1. Adaptive Fill</a></li>
<li><a href="#org8670c23">4.2.2. Focus Mode</a></li>
<li><a href="#org98f6c89">4.2.3. General Editing</a></li>
<li><a href="#org36d8c4b">4.2.4. Easy Kill</a></li>
<li><a href="#orgcdea120">4.2.5. Undo Tree</a></li>
<li><a href="#orgf8a5acf">4.2.6. Expand Region</a></li>
<li><a href="#org31fdbd8">4.2.7. Edit Server</a></li>
<li><a href="#org2ca3340">4.2.8. Citar (Bibtex completions)</a></li>
<li><a href="#org2d6ba8f">4.2.9. Tree Sitter</a></li>
</ul>
</li>
<li><a href="#org64f9664">4.3. Version Control</a>
<ul>
<li><a href="#org232193c">4.3.1. Git</a></li>
</ul>
</li>
<li><a href="#orgd274e68">4.4. Checking</a>
<ul>
<li><a href="#org804f23f">4.4.1. Writegood Mode</a></li>
<li><a href="#org250a9a2">4.4.2. Spell Checking</a></li>
<li><a href="#org9845f95">4.4.3. Proselint</a></li>
</ul>
</li>
<li><a href="#orge92b7ab">4.5. Buffers</a>
<ul>
<li><a href="#org42e4148">4.5.1. Midnight Mode</a></li>
<li><a href="#org4e656f6">4.5.2. IBuffer</a></li>
<li><a href="#orgbd47b56">4.5.3. Unique Buffer Names</a></li>
<li><a href="#org74baa33">4.5.4. Relative line numbers</a></li>
</ul>
</li>
<li><a href="#org84f7d7c">4.6. Development</a>
<ul>
<li><a href="#orgf03e56a">4.6.1. Check parens on save</a></li>
<li><a href="#org2c74f34">4.6.2. Eldoc</a></li>
<li><a href="#orgdc025a4">4.6.3. LSP</a></li>
<li><a href="#org0665c47">4.6.4. Paredit</a></li>
<li><a href="#org1534251">4.6.5. Paxedit</a></li>
<li><a href="#org5945c1c">4.6.6. Show Paren</a></li>
</ul>
</li>
<li><a href="#orgcf2e607">4.7. Organization</a>
<ul>
<li><a href="#orgc78fe19">4.7.1. Project</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgae374a2">5. Major Modes</a>
<ul>
<li><a href="#org1e4a517">5.1. File Management</a>
<ul>
<li><a href="#org0ca672f">5.1.1. Dired</a></li>
<li><a href="#org9025f62">5.1.2. Neotree</a></li>
<li><a href="#orgdc08aee">5.1.3. OSX Dictionary</a></li>
<li><a href="#org0405402">5.1.4. OSX Reveal</a></li>
</ul>
</li>
<li><a href="#orgfcb70c2">5.2. Documents</a>
<ul>
<li><a href="#orgd6cff71">5.2.1. AucTeX</a></li>
<li><a href="#orga66b286">5.2.2. Markdown</a></li>
<li><a href="#orgfac8217">5.2.3. Orgmode</a></li>
<li><a href="#org5738512">5.2.4. PDF Tools</a></li>
</ul>
</li>
<li><a href="#orge597980">5.3. Miscellaneous</a>
<ul>
<li><a href="#org0e04bfc">5.3.1. Calc</a></li>
</ul>
</li>
<li><a href="#orgeef56b9">5.4. Programming Languages</a>
<ul>
<li><a href="#orgfbaeca8">5.4.1. C++</a></li>
<li><a href="#org8e79e1c">5.4.2. Elisp</a></li>
<li><a href="#org574583d">5.4.3. HTML</a></li>
<li><a href="#orgb3857a0">5.4.4. Javascript</a></li>
<li><a href="#org8f87541">5.4.5. Plantuml</a></li>
<li><a href="#orgf5f25b0">5.4.6. Pollen</a></li>
<li><a href="#org2fe22cc">5.4.7. Rust</a></li>
<li><a href="#orgae317a4">5.4.8. Sass</a></li>
<li><a href="#org7eea684">5.4.9. Shaders</a></li>
<li><a href="#orgbfc9b8c">5.4.10. Utilities</a></li>
<li><a href="#orgf2af665">5.4.11. Web Mode</a></li>
</ul>
</li>
<li><a href="#org191e93a">5.5. Shells</a>
<ul>
<li><a href="#orge4f07f3">5.5.1. Ansi Term</a></li>
<li><a href="#orgcf830ee">5.5.2. Eshell</a></li>
</ul>
</li>
<li><a href="#orgede521e">5.6. Visual</a>
<ul>
<li><a href="#orge62e695">5.6.1. All the icons</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgf52b114">6. Style</a>
<ul>
<li><a href="#org7913f92">6.1. Frame Changes</a></li>
<li><a href="#orga21fe4b">6.2. Window Changes</a></li>
<li><a href="#orga51cfa7">6.3. Faces</a>
<ul>
<li><a href="#org15ad9ed">6.3.1. Default Fonts</a></li>
<li><a href="#orgb962227">6.3.2. Unicode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#orge5f20a3">6.3.3. Trying out fonts on Windows</a></li>
<li><a href="#orgf72ee0a">6.3.4. Dynamic Font sizes</a></li>
<li><a href="#org94d04e5">6.3.5. Mode Line Style</a></li>
<li><a href="#orgfc40ec2">6.3.6. Missing Glyphs</a></li>
<li><a href="#org1be60cb">6.3.7. Cursor width</a></li>
</ul>
</li>
<li><a href="#org4ef1ae4">6.4. Themes</a>
<ul>
<li><a href="#org3dec937">6.4.1. Extra Themes</a></li>
</ul>
</li>
<li><a href="#orgd0125c0">6.5. Sky Color Clock</a></li>
<li><a href="#org478d964">6.6. Doom Modeline</a></li>
<li><a href="#org7e0e31d">6.7. ⁂ Mode</a></li>
<li><a href="#orgd522bf5">6.8. Font lock profiling</a></li>
<li><a href="#org91b7fa2">6.9. Pretty Symbols</a>
<ul>
<li><a href="#org13a16cb">6.9.1. Pretty mode</a></li>
<li><a href="#org8cb6450">6.9.2. Prettify symbols mode</a></li>
</ul>
</li>
<li><a href="#org8ebd76e">6.10. Color</a>
<ul>
<li><a href="#orgc5162c5">6.10.1. Rainbow Mode</a></li>
<li><a href="#org87a554e">6.10.2. KureColor</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org379db67">7. Postamble</a>
<ul>
<li><a href="#orgbcd0c8d">7.1. Local customizations (custom.el)</a></li>
<li><a href="#org46e6fc7">7.2. Local customizations (euser-login-name)</a></li>
<li><a href="#org345853f">7.3. Housekeeping</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
This document tangles (in literate programming style) the necessary
commands to initialize Emacs to my liking and the documentation for my
choices.
</p>

<p>
To clone, go to the <a href="http://github.com/bnbeckwith/bnb-emacs">github repository</a>. For a pretty view, head over to
the <a href="http://bnbeckwith.com/bnb-emacs/">generated page</a>.
</p>

<div id="outline-container-org2765177" class="outline-2">
<h2 id="org2765177"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org50b865c" class="outline-3">
<h3 id="org50b865c"><span class="section-number-3">1.1.</span> Installation</h3>
<div class="outline-text-3" id="text-1-1">
<p>
My <code>init.el</code> file is quite simple and is generated by the following
block. Essentially, I just have to install this package
(<code>bnb-emacs</code>) in the <a href="file:///Users/ben.beckwith/.emacs.d/">~/.emacs.d/</a> directory and run the following
code block (<code>C-c C-c</code>) to bootstrap the system.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;;; </span><span style="color: #8e908c; font-style: italic;">init.el --- bnbeckwith config -*- eval: (read-only-mode 1) -*-</span>
(<span style="color: #718c00;">setq</span> package-enable-at-startup nil)
(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-installer-version</span> 0.6)
(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-directory</span> (expand-file-name <span style="color: #3e999f;">"elpaca/"</span> user-emacs-directory))
(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-builds-directory</span> (expand-file-name <span style="color: #3e999f;">"builds/"</span> elpaca-directory))
(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-repos-directory</span> (expand-file-name <span style="color: #3e999f;">"repos/"</span> elpaca-directory))
(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-order</span>
  '(elpaca <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"https://github.com/progfolio/elpaca.git"</span>
           <span style="color: #8959a8;">:ref</span> nil
           <span style="color: #8959a8;">:files</span> (<span style="color: #8959a8;">:defaults</span> <span style="color: #3e999f;">"elpaca-test.el"</span> (<span style="color: #8959a8;">:exclude</span> <span style="color: #3e999f;">"extensions"</span>))
           <span style="color: #8959a8;">:build</span> (<span style="color: #8959a8;">:not</span> elpaca--activate-package)))

(<span style="color: #718c00;">let*</span> ((repo  (expand-file-name <span style="color: #3e999f;">"elpaca/"</span> elpaca-repos-directory))
       (build (expand-file-name <span style="color: #3e999f;">"elpaca/"</span> elpaca-builds-directory))
       (order (cdr elpaca-order))
       (default-directory repo))
  (add-to-list 'load-path (<span style="color: #718c00;">if</span> (file-exists-p build) build repo))
  (<span style="color: #718c00;">unless</span> (file-exists-p repo)
    (make-directory repo t)
    (<span style="color: #718c00;">when</span> (&lt; emacs-major-version 28) (<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">subr-x</span>))
    (<span style="color: #718c00;">condition-case-unless-debug</span> err
        (<span style="color: #718c00;">if-let</span> ((buffer (pop-to-buffer-same-window <span style="color: #3e999f;">"*elpaca-bootstrap*"</span>))
                 ((zerop (call-process <span style="color: #3e999f;">"git"</span> nil buffer t <span style="color: #3e999f;">"clone"</span>
                                       (plist-get order <span style="color: #8959a8;">:repo</span>) repo)))
                 ((zerop (call-process <span style="color: #3e999f;">"git"</span> nil buffer t <span style="color: #3e999f;">"checkout"</span>
                                       (<span style="color: #718c00;">or</span> (plist-get order <span style="color: #8959a8;">:ref</span>) <span style="color: #3e999f;">"--"</span>))))
                 (emacs (concat invocation-directory invocation-name))
                 ((zerop (call-process emacs nil buffer nil <span style="color: #3e999f;">"-Q"</span> <span style="color: #3e999f;">"-L"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"--batch"</span>
                                       <span style="color: #3e999f;">"--eval"</span> <span style="color: #3e999f;">"(byte-recompile-directory \".\" 0 'force)"</span>)))
                 ((<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">elpaca</span>))
                 ((elpaca-generate-autoloads <span style="color: #3e999f;">"elpaca"</span> repo)))
            (<span style="color: #718c00;">progn</span> (message <span style="color: #3e999f;">"%s"</span> (buffer-string)) (kill-buffer buffer))
          (<span style="color: #c82829; font-weight: bold;">error</span> <span style="color: #3e999f;">"%s"</span> (<span style="color: #718c00;">with-current-buffer</span> buffer (buffer-string))))
      ((<span style="color: #c82829; font-weight: bold;">error</span>) (<span style="color: #c82829; font-weight: bold;">warn</span> <span style="color: #3e999f;">"%s"</span> err) (delete-directory repo 'recursive))))
  (<span style="color: #718c00;">unless</span> (<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">elpaca-autoloads</span> nil t)
    (<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">elpaca</span>)
    (elpaca-generate-autoloads <span style="color: #3e999f;">"elpaca"</span> repo)
    (load <span style="color: #3e999f;">"./elpaca-autoloads"</span>)))
(add-hook 'after-init-hook #'elpaca-process-queues)
(<span style="color: #718c00;">elpaca</span> `(,@elpaca-order))
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Install use-package support</span>
(<span style="color: #718c00;">elpaca</span> elpaca-use-package
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Enable :elpaca use-package keyword.</span>
  (elpaca-use-package-mode)
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Assume :elpaca t unless otherwise specified.</span>
  (<span style="color: #718c00;">setq</span> elpaca-use-package-by-default t))
(elpaca-wait)

(load <span style="color: #3e999f;">"~/.emacs.d/full.el"</span>)
</pre>
</div>

<p>
From there on, the bootstrapping is simple. Emacs finds
<a href="file:///Users/ben.beckwith/.emacs.d/init.el">~/.emacs.d/init.el</a> and runs the code. 
</p>

<p>
First, I disable <code>package</code>, and use the standard <code>elpaca</code>
initialization. Following that, I enable <code>elpaca-use-package</code> so that
the rest of this setup can use the standard <a href="use-package">use-package</a> interface.
</p>

<p>
Finally, the output of this file, <a href="file:///Users/ben.beckwith/.emacs.d/full.el">~/.emacs.d/full.el</a>, is loaded for
the complete initialization.
</p>

<p>
If you are reading this online, the html version of this file is
generated by using `bnb/export-readme` explained in <a href="#orge9a1028">Styled HTML
Export</a>.
</p>
</div>
</div>

<div id="outline-container-org9ed685e" class="outline-3">
<h3 id="org9ed685e"><span class="section-number-3">1.2.</span> Notes</h3>
<div class="outline-text-3" id="text-1-2">
<p>
This section has specific notes that are relevant to my emacs setup
in general and this document in particular.
</p>
</div>

<div id="outline-container-orgef014cf" class="outline-4">
<h4 id="orgef014cf"><span class="section-number-4">1.2.1.</span> Emacs Build</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
My current flavor of Emacs comes from:
<a href="https://github.com/d12frosted/homebrew-emacs-plus">https://github.com/d12frosted/homebrew-emacs-plus</a>
</p>

<p>
To install with <code>brew</code>, run the following command:
</p>
<div class="org-src-container">
<pre class="src src-sh">brew install emacs-plus@29 --with-nobu417-big-sur-icon --with-imagemagick --with-native-comp
</pre>
</div>

<p>
Notes: <a href="https://www.masteringemacs.org/article/whats-new-in-emacs-29-1">What's new in 29.1</a>
</p>
</div>
</div>

<div id="outline-container-orgfcc8978" class="outline-4">
<h4 id="orgfcc8978"><span class="section-number-4">1.2.2.</span> Pending sections</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
There are some features that I like to take on a <i>trial run</i>. These
are marked with the <b>PENDING</b> tag to help me remember and evaluate.
</p>
</div>
</div>

<div id="outline-container-org06d57dd" class="outline-4">
<h4 id="org06d57dd"><span class="section-number-4">1.2.3.</span> Performance</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
By utilizing elements of <code>use-package</code>, I can keep an eye on
troublesome packages during startup. Together, these turn on
reporting and set the minimum time to consider when building the
report.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> use-package-verbose t
      use-package-compute-statistics t
      use-package-minimum-reported-time 0)
</pre>
</div>

<p>
The generated messages will be found in the <code>*Messsages*</code> buffer.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org16a074f" class="outline-2">
<h2 id="org16a074f"><span class="section-number-2">2.</span> Preamble</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org3deff2c" class="outline-3">
<h3 id="org3deff2c"><span class="section-number-3">2.1.</span> Personal Information</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The full name is used for email messages.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> user-full-name <span style="color: #3e999f;">"Benjamin Beckwith"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6aeb2c4" class="outline-3">
<h3 id="org6aeb2c4"><span class="section-number-3">2.2.</span> Local customizations (custom.el, username.var.el)</h3>
<div class="outline-text-3" id="text-2-2">
<p>
I typically use the customize interface to generate any local
settings such as proxies, paths, fonts, etc. that may vary from
machine to machine. This keeps the setup the same and allows for
only some details to differ.
</p>

<p>
I like to set the custom file explicitly. Mine resides in the
<code>~/.emacs.d/</code> directory. This code block loads it if it exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> custom-file <span style="color: #3e999f;">"~/.emacs.d/custom.el"</span>)
(<span style="color: #718c00;">if</span> (file-exists-p custom-file)
    (load-file custom-file))
</pre>
</div>

<p>
If the file doesn't exist, <code>Emacs</code> will still use the file if any
changes are made through the <i>custom interface</i>.
</p>

<p>
Sometimes I'll get bad settings or cruft in that file. I now have a
key, <code>&lt;F7&gt;</code>, for easy navigation to wherever the <code>custom-file</code> points.
</p>
</div>

<div id="outline-container-orge88bd3d" class="outline-4">
<h4 id="orge88bd3d"><span class="section-number-4">2.2.1.</span> Local variables (user-login-name)</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
I also intend to have a generic call to an installed local file
that may need to behave differently from <code>custom.el</code>. This loads
last so that it can modify any existing setting made here to work
on the specific system in question.
</p>

<p>
In the code below, I add <code>~/.emacs.d/</code> to the load path and have a
protected call to <code>load-library</code>.  If the file exists, it gets
loaded, otherwise the error normally returned if the file is
non-existent gets ignored.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">condition-case</span> err
    (<span style="color: #718c00;">progn</span>
      (load-file (format <span style="color: #3e999f;">"~/.emacs.d/%s.vars.el"</span>  user-login-name))
      (message <span style="color: #3e999f;">"Loaded local settings file %s.vars.el"</span> user-login-name))
  (file-error
   (message <span style="color: #3e999f;">"Skipping %s.vars library as it does not exist."</span> user-login-name))
  nil)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7002dbb" class="outline-3">
<h3 id="org7002dbb"><span class="section-number-3">2.3.</span> Early Initialization</h3>
<div class="outline-text-3" id="text-2-3">
<p>
In order to speed up emacs initializtion, there are a few tweaks that we can make.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">default-gc-cons-threshold</span> 16777216 <span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">16mb</span>
  <span style="color: #8959a8;">"my default desired value of `</span><span style="color: #4271ae;">gc-cons-threshold</span><span style="color: #8959a8;">'</span>
<span style="color: #8959a8;">during normal emacs operations."</span>)

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">make garbage collector less invasive</span>
(<span style="color: #718c00;">setq</span>
 gc-cons-threshold
 most-positive-fixnum
 gc-cons-percentage 0.6)

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Prevent the glimpse of un-styled Emacs by disabling these UI elements early.</span>
(<span style="color: #718c00;">push</span> '(menu-bar-lines . 0) default-frame-alist)
(<span style="color: #718c00;">push</span> '(tool-bar-lines . 0) default-frame-alist)
(<span style="color: #718c00;">push</span> '(vertical-scroll-bars) default-frame-alist)

(<span style="color: #718c00;">setq</span>
 default-file-name-handler-alist
 file-name-handler-alist
 file-name-handler-alist nil)

(add-hook
 'emacs-startup-hook
 (<span style="color: #718c00;">lambda</span> (<span style="color: #4271ae;">&amp;rest</span> _)
   (<span style="color: #718c00;">setq</span>
    gc-cons-threshold
    default-gc-cons-threshold
    gc-cons-percentage 0.1
    file-name-handler-alist default-file-name-handler-alist)

   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">delete no longer necessary startup variable</span>
   (makunbound 'default-file-name-handler-alist)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb91b931" class="outline-3">
<h3 id="orgb91b931"><span class="section-number-3">2.4.</span> Libraries</h3>
<div class="outline-text-3" id="text-2-4">
</div>
<div id="outline-container-org3135842" class="outline-4">
<h4 id="org3135842"><span class="section-number-4">2.4.1.</span> Dash</h4>
<div class="outline-text-4" id="text-2-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dash</span>
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0c2ee76" class="outline-4">
<h4 id="org0c2ee76"><span class="section-number-4">2.4.2.</span> Delight</h4>
<div class="outline-text-4" id="text-2-4-2">
<p>
The mode line can get pretty busy showing all of the package
names. <code>delight</code> helps tone it down by removing some packages from
showing up, or changing their name to something shorter.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">delight</span> <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2af74a0" class="outline-4">
<h4 id="org2af74a0"><span class="section-number-4">2.4.3.</span> Hydra</h4>
<div class="outline-text-4" id="text-2-4-3">
<p>
Sometimes it is useful to go into a <i>command mode</i> that lets you
quickly do a few different actions. Hydra does that and more.
</p>

<p>
By defining specific <i>hydras</i>, you can group together commands with
documentation. Think of it as a mini-control-panel. I include it
here and use it elsewhere when grouping commands. (See <a href="#org8a938c3">3.1.2.1</a>
for an example)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">hydra</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd2104ef" class="outline-4">
<h4 id="orgd2104ef"><span class="section-number-4">2.4.4.</span> Seq</h4>
<div class="outline-text-4" id="text-2-4-4">
<p>
Magit needs an updated <code>seq</code>, so we can install it here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #8e908c; font-style: italic;">;;; </span><span style="color: #8e908c; font-style: italic;">Take care of the seq dependency</span>
(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">+elpaca-unload-seq</span> (e)
  (<span style="color: #718c00;">and</span> (<span style="color: #718c00;">featurep</span> '<span style="color: #4271ae;">seq</span>) (unload-feature 'seq t))
  (elpaca--continue-build e))
(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">+elpaca-seq-build-steps</span> ()
  (append (butlast (<span style="color: #718c00;">if</span> (file-exists-p (expand-file-name <span style="color: #3e999f;">"seq"</span> elpaca-builds-directory))
                       elpaca--pre-built-steps elpaca-build-steps))
          (list '+elpaca-unload-seq 'elpaca--activate-package)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">seq</span> <span style="color: #8959a8;">:elpaca</span> `(seq <span style="color: #8959a8;">:build</span> ,(+elpaca-seq-build-steps)))
<span style="color: #8e908c; font-style: italic;">;;; </span><span style="color: #8e908c; font-style: italic;">Wait for this to be processed before packages that depend on it</span>
(elpaca-wait)
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb4de008" class="outline-2">
<h2 id="orgb4de008"><span class="section-number-2">3.</span> Settings</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org7370772" class="outline-3">
<h3 id="org7370772"><span class="section-number-3">3.1.</span> Keys</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-orga20e3fb" class="outline-4">
<h4 id="orga20e3fb"><span class="section-number-4">3.1.1.</span> Binding Keys</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
For binding keys, I use the <a href="https://github.com/jwiegley/use-package/blob/master/bind-key.el">bind-key</a> package. Not only does it
easily bind keys, but it does so with some nice features.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-keys</span> (<span style="color: #3e999f;">"C-h B"</span> . describe-personal-keybindings)
             (<span style="color: #3e999f;">"&lt;f7&gt;"</span>  . (<span style="color: #718c00;">lambda</span> () (<span style="color: #718c00;">interactive</span> (find-file custom-file))))))
</pre>
</div>

<p>
By using <code>bind-key</code>, you can specify the keystrokes that invoke a
command. This is regular behavior that you can already achieve in
Emacs and will result in a global binding.
</p>

<p>
If you also want to override any possible minor-mode bindings of
the same keys, you can use <code>bind-key*</code> instead.
</p>

<p>
There is also an <code>unbind-key</code> to, of course, remove any binding.
</p>

<p>
The real kicker is that it will keep track of these bindings and
let you see a summary of your customizations with
</p>

<pre class="example">
M-x describe-personal-keybindings
</pre>


<p>
This is bound to <code>C-h B</code> above.
</p>

<p>
As of emacs 28.1, there is a setting to group bindings into an
outline format. Use the following settings with <code>M-x
    describe-bindings</code> or <code>C-h b</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> describe-bindings-outline t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org31509ee" class="outline-4">
<h4 id="org31509ee"><span class="section-number-4">3.1.2.</span> Personal Keymaps</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
These are inspired from
<a href="http://endlessparentheses.com/the-toggle-map-and-wizardry.html">http://endlessparentheses.com/the-toggle-map-and-wizardry.html</a>.
</p>
</div>

<ol class="org-ol">
<li><a id="org8a938c3"></a>Toggle Map<br />
<div class="outline-text-5" id="text-3-1-2-1">
<p>
This toggle map shows the current <i>toggleable</i> settings with
shortcut keys for enabling. The amaranth color makes this buffer
stay around until I press <code>q</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defmacro</span> <span style="color: #f5871f;">toggle-setting-string</span> (setting)
  `(<span style="color: #718c00;">if</span> (<span style="color: #718c00;">and</span> (boundp ',setting) ,setting) '[x] '[_]))

(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-key</span>
   <span style="color: #3e999f;">"C-x t"</span>
   (<span style="color: #718c00;">defhydra</span> hydra-toggle (<span style="color: #8959a8;">:color</span> amaranth)
     <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">    _c_ column-number : %(toggle-setting-string column-number-mode)  _b_ orgtbl-mode    : %(toggle-setting-string orgtbl-mode)  _x_/_X_ trans          : %(identity bnb/transparency)</span>
<span style="color: #8959a8;">    _e_ debug-on-error: %(toggle-setting-string debug-on-error)  _s_ orgstruct-mode : %(toggle-setting-string orgstruct-mode)  _m_   hide mode-line : %(toggle-setting-string bnb/hide-mode-line-mode)</span>
<span style="color: #8959a8;">    _u_ debug-on-quit : %(toggle-setting-string debug-on-quit)  _h_ diff-hl-mode   : %(toggle-setting-string diff-hl-mode)</span>
<span style="color: #8959a8;">    _f_ auto-fill     : %(toggle-setting-string auto-fill-function)  _B_ battery-mode   : %(toggle-setting-string display-battery-mode)</span>
<span style="color: #8959a8;">    _t_ truncate-lines: %(toggle-setting-string truncate-lines)  _l_ highlight-line : %(toggle-setting-string hl-line-mode)</span>
<span style="color: #8959a8;">    _r_ read-only     : %(toggle-setting-string buffer-read-only)  _n_ line-numbers   : %(toggle-setting-string linum-mode)</span>
<span style="color: #8959a8;">    _w_ whitespace    : %(toggle-setting-string whitespace-mode)  _N_ relative lines : %(if (eq linum-format 'linum-relative) '[x] '[_])</span>
<span style="color: #8959a8;">    "</span>
     (<span style="color: #3e999f;">"c"</span> column-number-mode nil)
     (<span style="color: #3e999f;">"e"</span> toggle-debug-on-error nil)
     (<span style="color: #3e999f;">"u"</span> toggle-debug-on-quit nil)
     (<span style="color: #3e999f;">"f"</span> auto-fill-mode nil)
     (<span style="color: #3e999f;">"t"</span> toggle-truncate-lines nil)
     (<span style="color: #3e999f;">"r"</span> dired-toggle-read-only nil)
     (<span style="color: #3e999f;">"w"</span> whitespace-mode nil)
     (<span style="color: #3e999f;">"b"</span> orgtbl-mode nil)
     (<span style="color: #3e999f;">"s"</span> orgstruct-mode nil)
     (<span style="color: #3e999f;">"x"</span> bnb/transparency-next nil)
     (<span style="color: #3e999f;">"B"</span> display-battery-mode nil)
     (<span style="color: #3e999f;">"X"</span> bnb/transparency-previous nil)
     (<span style="color: #3e999f;">"h"</span> diff-hl-mode nil)
     (<span style="color: #3e999f;">"l"</span> hl-line-mode nil)
     (<span style="color: #3e999f;">"n"</span> linum-mode nil)
     (<span style="color: #3e999f;">"N"</span> linum-relative-toggle nil)
     (<span style="color: #3e999f;">"m"</span> bnb/hide-mode-line-mode nil)
     (<span style="color: #3e999f;">"q"</span> nil))))
</pre>
</div>
</div>
</li>

<li><a id="orge111b5a"></a>Elisp Maps<br />
<div class="outline-text-5" id="text-3-1-2-2">
<p>
Here are some nice-to-have features when in <i>elisp-mode</i>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-key</span>
   <span style="color: #3e999f;">"C-c e"</span>
   (<span style="color: #718c00;">defhydra</span> hydra-elisp-cmds (<span style="color: #8959a8;">:color</span> blue)
     (<span style="color: #3e999f;">"b"</span> eval-buffer <span style="color: #3e999f;">"eval buffer"</span>)
     (<span style="color: #3e999f;">"e"</span> toggle-debug-on-error <span style="color: #3e999f;">"debug-on-error"</span>)
     (<span style="color: #3e999f;">"f"</span> emacs-lisp-byte-compile-and-load <span style="color: #3e999f;">"byte-compile-and-load"</span>)
     (<span style="color: #3e999f;">"r"</span> eval-region <span style="color: #3e999f;">"eval-region"</span>)
     (<span style="color: #3e999f;">"q"</span> nil))
   emacs-lisp-mode-map))
</pre>
</div>

<p>
There is one block for execuing items and another for looking up
specific <code>elisp</code> help.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">whitespace</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:custom</span>
  (whitespace-line-column nil)
  <span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">:hook (before-save . whitespace-cleanup)</span>
  <span style="color: #8959a8;">:delight</span> whitespace-mode)
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org3610311"></a>Deletion<br />
<div class="outline-text-7" id="text-3-1-2-2-0-1">
<p>
By default, <code>M-\</code> performs <code>delete-horizontal-space</code> and will
consume all of the whitespace present.
</p>

<p>
I'd like it to be smart and leave one or no spaces if
possible. The <code>fixup-whitespace</code> function will do that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-k"</span> 'fixup-whitespace))
</pre>
</div>
</div>
</li>
</ol>

<li><a id="orgf031263"></a>Scroll window up/down<br />
<div class="outline-text-6" id="text-3-1-2-2-1">
<p>
In addition to moving the cursor, it is also interesting to
scroll the screen (without moving the cursor with respect to the
frame).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/scroll-up-1</span> ()
  <span style="color: #8959a8;">"Scroll up by one line."</span>
  (<span style="color: #718c00;">interactive</span>)
  (cua-scroll-up 1))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/scroll-down-1</span> ()
  <span style="color: #8959a8;">"Scroll down by one line."</span>
  (<span style="color: #718c00;">interactive</span>)
  (cua-scroll-down 1))

(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">with-eval-after-load</span> 'bind-key
    (<span style="color: #718c00;">bind-keys</span>
     (<span style="color: #3e999f;">"M-n"</span> . bnb/scroll-up-1)
     (<span style="color: #3e999f;">"M-p"</span> . bnb/scroll-down-1))))
</pre>
</div>
</div>
</li>

<li><a id="org67d5c5e"></a>Align Regexp<br />
<div class="outline-text-6" id="text-3-1-2-2-2">
<p>
When selecting a region, a quick trip to <code>align-regexp</code> can align
all of that nasty text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">with-eval-after-load</span> 'bind-key
    (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-c TAB"</span> 'align-regexp)))
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgb784394"></a>Kill current buffer<br />
<div class="outline-text-5" id="text-3-1-2-3">
<p>
Another great tip from <a href="http://pragmaticemacs.com/emacs/dont-kill-buffer-kill-this-buffer-instead/">Pragmatic Emacs</a>, use <code>kill-this-buffer</code> to
kill the current buffer instead of asking which one.  I'm not
overriding the <code>C-x k</code> default, but added a <code>C-x C-k</code> alternative.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/kill-this-buffer</span> ()
  <span style="color: #8959a8;">"Kill the current buffer"</span>
  (<span style="color: #718c00;">interactive</span>)
  (kill-buffer (current-buffer)))

(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-keys</span>
   (<span style="color: #3e999f;">"C-x C-k"</span> . bnb/kill-this-buffer)))
</pre>
</div>
</div>
</li>
</ol>
</div>


<div id="outline-container-orgda7f860" class="outline-4">
<h4 id="orgda7f860"><span class="section-number-4">3.1.3.</span> Super keys</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
I like to be able to use the command (or super or hyper) keys for
shortcuts. I need to take care to not interfere with the built-in
shortcuts or my bindings will not work.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> mac-function-modifier 'hyper
mac-pass-command-to-system nil
mac-right-option-modifier 'super
mac-right-command-modifier 'hyper
mac-right-control-modifier 'hyper
mac-command-modifier 'meta
mac-control-modifier 'ctrl
mac-option-modifier 'none)
</pre>
</div>

<p>
Note that the right <code>option</code> and <code>command</code> keys will pass through to
the system. This is especially cool for the <code>option</code> key on a mac
that lets insert special characters directly. (E.g. á or ∑ or ®)
</p>

<p>
Inspiration for the keys comes from <a href="https://www.wisdomandwonder.com/article/10146/every-emacser-can-use-hyper-on-every-usb-hid-keyboard">wisdom and wonder</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgcbe7eb2" class="outline-3">
<h3 id="orgcbe7eb2"><span class="section-number-3">3.2.</span> Command Launchers</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org7da8ced" class="outline-4">
<h4 id="org7da8ced"><span class="section-number-4">3.2.1.</span> Hydra</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Sometimes it is useful to go into a <i>command mode</i> that lets you
quickly do a few different actions. Hydra does that and more.
</p>

<p>
By defining specific <i>hydras</i>, you can group together commands with
documentation. Think of it as a mini-control-panel. I include it
here and use it elsewhere when grouping commands. (See <a href="#org8a938c3">3.1.2.1</a>
for an example)
</p>

<p>
The setup is in TODO
</p>
</div>
</div>


<div id="outline-container-orgdb15dcf" class="outline-4">
<h4 id="orgdb15dcf"><span class="section-number-4">3.2.2.</span> Vertico</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
<a href="https://github.com/minad/vertico">https://github.com/minad/vertico</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">vertico</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span> (vertico-mode))

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Configure directory extension.</span>
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">vertico-directory</span>
  <span style="color: #8959a8;">:after</span> vertico
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">More convenient directory navigation commands</span>
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> vertico-map
              (<span style="color: #3e999f;">"RET"</span> . vertico-directory-enter)
              (<span style="color: #3e999f;">"DEL"</span> . vertico-directory-delete-char)
              (<span style="color: #3e999f;">"M-DEL"</span> . vertico-directory-delete-word)
              (<span style="color: #3e999f;">"?"</span> . minibuffer-completion-help))
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Tidy shadowed file names</span>
  <span style="color: #8959a8;">:hook</span> (rfn-eshadow-update-overlay . vertico-directory-tidy))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org8037231"></a>Embark<br />
<div class="outline-text-5" id="text-3-2-2-1">
<p>
<a href="https://github.com/oantolin/embark">https://github.com/oantolin/embark</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">embark</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  ((<span style="color: #3e999f;">"C-."</span> . embark-act)
   (<span style="color: #3e999f;">"C-;"</span> . embark-dwim)
   (<span style="color: #3e999f;">"C-x ."</span> . embark-act)
   (<span style="color: #3e999f;">"C-x ;"</span> . embark-dwim)
   (<span style="color: #3e999f;">"C-h C-b"</span> . embark-bindings))
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq</span> prefix-help-command #'embark-prefix-help-command)
  <span style="color: #8959a8;">:config</span>
  (add-to-list 'display-buffer-alist
               '(<span style="color: #3e999f;">"\\'\\*Embark Collect </span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">Live</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">Comletions</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">\\*"</span>
                 nil
                 (window-parameters (mode-line-format . none)))))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">embark-consult</span>
  <span style="color: #8959a8;">:after</span> (emark consult)
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:hook</span>
  (embark-collect-mode . consult-preview-at-point-mode))
</pre>
</div>
</div>
</li>

<li><a id="orga9d90ed"></a>Orderless<br />
<div class="outline-text-5" id="text-3-2-2-2">
<p>
<a href="https://github.com/oantolin/orderless">https://github.com/oantolin/orderless</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">orderless</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  (completion-styles '(orderless basic))
  (completion-category-overrides '((file (styles basic partial-completion)))))
</pre>
</div>
</div>
</li>

<li><a id="org3a4cd1f"></a>Consult<br />
<div class="outline-text-5" id="text-3-2-2-3">
<p>
<a href="https://github.com/minad/consult">https://github.com/minad/consult</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">consult</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">C-c bindings</span>
         (<span style="color: #3e999f;">"C-c h"</span> . consult-history)
         (<span style="color: #3e999f;">"C-c m"</span> . consult-mode-command)
         (<span style="color: #3e999f;">"C-c b"</span> . consult-bookmark)
         (<span style="color: #3e999f;">"C-c k"</span> . consult-macro)
         (<span style="color: #3e999f;">"C-c o"</span> . consult-outline)
         <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">C-x bindings</span>
         (<span style="color: #3e999f;">"C-x b"</span> . consult-buffer)
         (<span style="color: #3e999f;">"C-x 4 b"</span> . consult-buffer-other-window)
         (<span style="color: #3e999f;">"C-x 5 b"</span> . consult-buffer-other-frame)
         (<span style="color: #3e999f;">"C-x r x"</span> . consult-register)
         (<span style="color: #3e999f;">"C-x r b"</span> . consult-bookmark)
         <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Custom M bindings</span>
         (<span style="color: #3e999f;">"M-g o"</span> . consult-ouline)
         (<span style="color: #3e999f;">"M-y"</span> . consult-yank-pop)
         (<span style="color: #3e999f;">"M-i"</span> . consult-imenu))
  <span style="color: #8959a8;">:init</span>
  (fset 'multi-occur #'consult-multi-occur))
</pre>
</div>
</div>
</li>

<li><a id="org7d1b19d"></a>Marginalia<br />
<div class="outline-text-5" id="text-3-2-2-4">
<p>
<a href="https://github.com/minad/marginalia">https://github.com/minad/marginalia</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">marginalia</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span>
  (marginalia-mode)
  (<span style="color: #718c00;">setq</span> marginalia-annotators
        '(marginalia-annotators-heavy marginalia-annotators-light)))
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org6796c80" class="outline-3">
<h3 id="org6796c80"><span class="section-number-3">3.3.</span> Expansion</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-org6606dce" class="outline-4">
<h4 id="org6606dce"><span class="section-number-4">3.3.1.</span> Abbrev</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
The following block is courtesy of <a href="http://endlessparentheses.com/ispell-and-abbrev-the-perfect-auto-correct.html">Endless Parentheses</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/ispell-word-then-abbrev</span> (p)
  <span style="color: #8959a8;">"Call `</span><span style="color: #4271ae;">ispell-word</span><span style="color: #8959a8;">'. Then create an abbrev for the correction</span>
<span style="color: #8959a8;">    made. With prefix P, create local abbrev. Otherwise, it will be</span>
<span style="color: #8959a8;">    global."</span>
  (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span>)
  (<span style="color: #718c00;">let</span> ((bef (downcase (<span style="color: #718c00;">or</span> (thing-at-point 'word) <span style="color: #3e999f;">""</span>))) aft)
    (call-interactively 'ispell-word)
    (<span style="color: #718c00;">setq</span> aft (downcase (<span style="color: #718c00;">or</span> (thing-at-point 'word) <span style="color: #3e999f;">""</span>)))
    (<span style="color: #718c00;">unless</span> (string= aft bef)
      (message <span style="color: #3e999f;">"\"%s\" now expands to \"%s\" %sally"</span>
               bef aft (<span style="color: #718c00;">if</span> p <span style="color: #3e999f;">"loc"</span> <span style="color: #3e999f;">"glob"</span>))
      (define-abbrev
        (<span style="color: #718c00;">if</span> p global-abbrev-table local-abbrev-table)
        bef aft))))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">abbrev</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#9862;"</span>
  <span style="color: #8959a8;">:bind</span> ((<span style="color: #3e999f;">"C-x C-i"</span> . bnb/ispell-word-then-abbrev))
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> save-abbrevs t)
  (<span style="color: #718c00;">setq-default</span> abbrev-mode t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0fdf34f" class="outline-4">
<h4 id="org0fdf34f"><span class="section-number-4">3.3.2.</span> Auto-completion</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
Let the machine help with typing!
</p>
</div>

<ol class="org-ol">
<li><a id="orga52e13f"></a>Company<br />
<div class="outline-text-5" id="text-3-3-2-1">
<p>
<a href="http://company-mode.github.io">Company Mode</a> is an in-buffer completion system. To get started, I
need to load the mode and bind some keys.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">company</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> company-mode
  <span style="color: #8959a8;">:hook</span>
  (after-init .  global-company-mode)
  <span style="color: #8959a8;">:bind</span>
  ((<span style="color: #3e999f;">"C-&lt;tab&gt;"</span> . company-complete-common-or-cycle)
   (<span style="color: #3e999f;">"C-&lt;tab&gt;"</span> . company-complete-org-mode-map)
   <span style="color: #8959a8;">:map</span> company-active-map
   (<span style="color: #3e999f;">"s-&lt;tab&gt;"</span> . company-complete-common-or-cycle)
   (<span style="color: #3e999f;">"C-n"</span>     . company-select-next)
   (<span style="color: #3e999f;">"C-p"</span>     . company-select-previous)
   (<span style="color: #3e999f;">"M-&lt;"</span>     . company-select-first)
   (<span style="color: #3e999f;">"M-&gt;"</span>     . company-select-last))
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Turn off the auto downcasing of things</span>
  (company-dabbrev-downcase nil)
  (company-show-numbers t)
  (company-tooltip-align-annotations t)
  (company-selection-wrap-around t)
  (company-tooltip-flip-when-above t)
  (company-dabbrev-code-everywhere t)
  (company-dabbrev-code-ignore-case t))
</pre>
</div>
</div>
</li>

<li><a id="orgca2aae1"></a>Yasnippet<br />
<div class="outline-text-5" id="text-3-3-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">yasnippet</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 30
  <span style="color: #8959a8;">:hook</span>
  (prog-mode . yas-minor-mode)
  (text-mode . yas-minor-mode)
  <span style="color: #8959a8;">:config</span>
  (yas-reload-all))
</pre>
</div>
</div>
</li>


<li><a id="org0c4be83"></a>Hippie Expand<br />
<div class="outline-text-5" id="text-3-3-2-3">
<p>
Try to expand the text before point in an intelligent way. Repeat
the keypress to cycle through options.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-/"</span> 'hippie-expand))
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>


<div id="outline-container-orgcd6c183" class="outline-3">
<h3 id="orgcd6c183"><span class="section-number-3">3.4.</span> Built-in Features</h3>
<div class="outline-text-3" id="text-3-4">
</div>
<div id="outline-container-orgbbf0815" class="outline-4">
<h4 id="orgbbf0815"><span class="section-number-4">3.4.1.</span> Backups</h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
Sensible backup settings from <a href="https://www.emacswiki.org/emacs/BackupDirectory">https://www.emacswiki.org/emacs/BackupDirectory</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> backup-by-copying t
      create-lockfiles nil
      backup-directory-alist '((<span style="color: #3e999f;">".*"</span> . <span style="color: #3e999f;">"~/.emacs.d/.saves"</span>))
      <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">auto-save-file-name-transforms `((".*" "~/.saves" t))</span>
      kill-buffer-delete-auto-save-files t
      delete-old-versions t
      kept-new-versions 6
      kept-old-versions 2
      version-control t)
</pre>
</div>

<p>
Here's a quick rundown of the settings:
</p>

<dl class="org-dl">
<dt><a href="(describe-variable 'backup-by-copying)"><code>backup-by-copying</code></a></dt><dd>Use copying to create backups when <code>t</code></dd>
<dt><a href="(describe-variable 'create-lockfile)"><code>create-lockfiles</code></a></dt><dd>Don't use lockfiles if <code>nil</code></dd>
<dt><a href="(describe-variable 'backup-directory-alist)"><code>backup-directory-alist</code></a></dt><dd>List of regexp/location pairs of where to backup files</dd>
<dt>~<a href="(describe-variable 'backup-directory-alist)">kill-buffer-delete-auto-save-files~</a></dt><dd>Killing a buffer with an auto-save file will prompt for deletion</dd>
<dt><a href="(describe-variable 'delete-old-versions)"><code>delete-old-versions</code></a></dt><dd>Delete excess backups silently if <code>t</code></dd>
<dt><a href="(describe-variable 'kept-new-versions)"><code>kept-new-versions</code></a></dt><dd>Number of newest versions to keep</dd>
<dt><a href="(describe-variable 'kept-old-versions)"><code>kept-old-versions</code></a></dt><dd>Number of oldest versions to keep</dd>
<dt><a href="(describe-variable 'version-control)"><code>version-control</code></a></dt><dd>When <code>t</code>, make numeric backup versions always</dd>
</dl>
</div>
</div>

<div id="outline-container-orga3c098e" class="outline-4">
<h4 id="orga3c098e"><span class="section-number-4">3.4.2.</span> Bookmarks</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
<a href="http://emacswiki.org/emacs/BookMarks">http://emacswiki.org/emacs/BookMarks</a>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keystroke</th>
<th scope="col" class="org-left">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-x r m</code></td>
<td class="org-left">Set a bookmark</td>
</tr>

<tr>
<td class="org-left"><code>C-x r b</code></td>
<td class="org-left">Jump to a bookmark</td>
</tr>

<tr>
<td class="org-left"><code>C-x r l</code></td>
<td class="org-left">List your bookmarks</td>
</tr>

<tr>
<td class="org-left"><code>M-x bookmark-delete</code></td>
<td class="org-left">Delete bookmark by name</td>
</tr>
</tbody>
</table>

<p>
The settings below auto-save bookmarks, adds a fringe marker on the
current line when setting/jumping, and confirms bookmark deletion.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> bookmark-save-flag t
      bookmark-set-fringe-mark t
      bookmark-menu-confirm-deletion t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org11defe0" class="outline-4">
<h4 id="org11defe0"><span class="section-number-4">3.4.3.</span> Default File encoding</h4>
<div class="outline-text-4" id="text-3-4-3">
<p>
I like to have the files be <code>utf-8</code> by default. Do
let me know if I shouldn't do this, will you?
</p>

<p>
Set <code>utf-8</code> for all coding systems except for the clipboard on
windows. That one gets <code>utf-16le</code> to be compatible.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(prefer-coding-system       'utf-8)
(set-default-coding-systems 'utf-8)
(set-terminal-coding-system 'utf-8)
(set-keyboard-coding-system 'utf-8)
(set-language-environment 'utf-8)
(<span style="color: #718c00;">setq</span> buffer-file-coding-system 'utf-8
      x-select-request-type '(UTF8_STRING COMPOUND_TEXT TEXT STRING))
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">MS Windows clipboard is UTF-16LE</span>
(<span style="color: #718c00;">when</span> (eq system-type 'windows-nt)
  (set-clipboard-coding-system 'utf-16le-dos))
</pre>
</div>
</div>
</div>


<div id="outline-container-org2dba548" class="outline-4">
<h4 id="org2dba548"><span class="section-number-4">3.4.4.</span> Native Compilation</h4>
<div class="outline-text-4" id="text-3-4-4">
<p>
Emacs 28.1 introduced <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Native-Compilation.html">Native Compilation</a>. When this feature is
available, I use it to compile the packages.
</p>

<p>
There are also two settings to make the process slightly more
verbose and ensure that warnings and erros are bubbled up from any
async processes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">if</span> (native-comp-available-p)
    (<span style="color: #718c00;">setq</span> package-native-compile t
          native-comp-verbose 1
          native-comp-async-report-warnings-errors t))
</pre>
</div>
</div>
</div>


<div id="outline-container-org8eabb74" class="outline-4">
<h4 id="org8eabb74"><span class="section-number-4">3.4.5.</span> Path</h4>
<div class="outline-text-4" id="text-3-4-5">
<p>
Sometimes Emacs' idea of path differs from the shell. The package
<code>exec-path-from-shell</code> seeks to bring those in line with each other.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">exec-path-from-shell</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:config</span>
  (exec-path-from-shell-initialize))
</pre>
</div>
</div>
</div>

<div id="outline-container-org05b26af" class="outline-4">
<h4 id="org05b26af"><span class="section-number-4">3.4.6.</span> Server</h4>
<div class="outline-text-4" id="text-3-4-6">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html">Using Emacs as a server</a> is a great way to keep the power
responsive.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">when</span> (<span style="color: #718c00;">and</span> (<span style="color: #718c00;">or</span> (eq system-type 'windows-nt) (eq system-type 'darwin))
           (not (<span style="color: #718c00;">and</span> (boundp 'server-clients) server-clients))
           (not (daemonp)))
  (server-start))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4b68dfb" class="outline-4">
<h4 id="org4b68dfb"><span class="section-number-4">3.4.7.</span> Sounds</h4>
<div class="outline-text-4" id="text-3-4-7">
<p>
I dislike the bell ringing when I hit <code>C-g</code>. To silence the bell,
just set the <code>ring-bell-function</code> to <code>nil</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> visual-bell nil
      ring-bell-function `(<span style="color: #718c00;">lambda</span> () nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d8705c" class="outline-4">
<h4 id="org0d8705c"><span class="section-number-4">3.4.8.</span> Recentf</h4>
<div class="outline-text-4" id="text-3-4-8">
<p>
I enable emacs remembering recently open files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (recentf-mode t))
</pre>
</div>
</div>
</div>


<div id="outline-container-org56c830e" class="outline-4">
<h4 id="org56c830e"><span class="section-number-4">3.4.9.</span> Timezones</h4>
<div class="outline-text-4" id="text-3-4-9">
<p>
For <code>world-clock</code>, it's best to define the time zones most relevant
to me. For compatible time zones, check <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">this handy list</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> zoneinfo-style-world-list
      '((<span style="color: #3e999f;">"America/New_York"</span> <span style="color: #3e999f;">"CBUS"</span>)
        (<span style="color: #3e999f;">"America/Los_Angeles"</span> <span style="color: #3e999f;">"San Fran"</span>)
        (<span style="color: #3e999f;">"Europe/London"</span> <span style="color: #3e999f;">"London"</span>)
        (<span style="color: #3e999f;">"Australia/Sydney"</span> <span style="color: #3e999f;">"Sydney"</span>)
        (<span style="color: #3e999f;">"Asia/Kolkata"</span> <span style="color: #3e999f;">"Bangalore"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org96ecbb8" class="outline-4">
<h4 id="org96ecbb8"><span class="section-number-4">3.4.10.</span> Isearch</h4>
<div class="outline-text-4" id="text-3-4-10">
<p>
Folding quotes will allow isearch to find <i>similar</i> characters to
the ones being searched for.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">New in Emacs 29</span>
(<span style="color: #718c00;">setq</span> isearch-fold-quotes-mode t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org69b15f0" class="outline-3">
<h3 id="org69b15f0"><span class="section-number-3">3.5.</span> Minibuffer</h3>
<div class="outline-text-3" id="text-3-5">
</div>
<div id="outline-container-orgf4ff2f8" class="outline-4">
<h4 id="orgf4ff2f8"><span class="section-number-4">3.5.1.</span> Minibuffer History</h4>
<div class="outline-text-4" id="text-3-5-1">
<p>
Let's get rid of duplicates in the minibuffer history.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> history-delete-duplicates t)
</pre>
</div>

<p>
This saves the minibuffer histories to preserve across emacs
sessions.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">setq</span> savehist-additional-variables '(search-ring regexp-search-ring)
        savehist-file <span style="color: #3e999f;">"~/.emacs.d/savehist"</span>)
  (savehist-mode t))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org14ef6fe" class="outline-3">
<h3 id="org14ef6fe"><span class="section-number-3">3.6.</span> Movement</h3>
<div class="outline-text-3" id="text-3-6">
</div>
<div id="outline-container-orge23d3b7" class="outline-4">
<h4 id="orge23d3b7"><span class="section-number-4">3.6.1.</span> Ace Utilities</h4>
<div class="outline-text-4" id="text-3-6-1">
</div>
<ol class="org-ol">
<li><a id="orgc682510"></a>Ace Flyspell<br />
<div class="outline-text-5" id="text-3-6-1-1">
<p>
Turn on <a href="https://github.com/cute-jumper/ace-flyspell">ace-flyspell</a> when flyspell is enabled.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-flyspell</span>
  <span style="color: #8959a8;">:after</span> hydra
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (ace-flyspell-setup)
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-s"</span> . hydra-fly/body)
  <span style="color: #8959a8;">:hook</span>
  (flyspell-mode . ace-flyspell-setup)
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">defhydra</span> hydra-fly (<span style="color: #8959a8;">:color</span> pink)
    (<span style="color: #3e999f;">"n"</span> flyspell-goto-next-error <span style="color: #3e999f;">"Next error"</span>)
    (<span style="color: #3e999f;">"c"</span> ispell-word <span style="color: #3e999f;">"Correct word"</span>)
    (<span style="color: #3e999f;">"j"</span> ace-flyspell-jump-word <span style="color: #3e999f;">"Jump word"</span>)
    (<span style="color: #3e999f;">"."</span> ace-flyspell-dwim <span style="color: #3e999f;">"dwim"</span>)
    (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"Quit"</span>)))
</pre>
</div>
</div>
</li>


<li><a id="orgdf3633e"></a>Ace Isearch<br />
<div class="outline-text-5" id="text-3-6-1-2">
<p>
Supercharge <code>isearch</code> to vary its behavior depending on the
input. The <code>C-'</code> key let's me jump to the isearch match easily
with the <code>ace-jump</code> methods.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-isearch</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> isearch-mode-map
              (<span style="color: #3e999f;">"C-'"</span> . ace-isearch-jump-during-isearch))
  <span style="color: #8959a8;">:delight</span> ace-isearch-mode
  <span style="color: #8959a8;">:config</span>
  (global-ace-isearch-mode t)
  (<span style="color: #718c00;">setq</span> ace-isearch-input-length 8))
</pre>
</div>
</div>
</li>

<li><a id="orgcc3d64b"></a>Ace Link<br />
<div class="outline-text-5" id="text-3-6-1-3">
<p>
In modes with links, use <code>o</code> to jump to links. Map <code>M-o</code> to do the
same in <code>org-mode</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-link</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> org-mode-map (<span style="color: #3e999f;">"M-o"</span> . ace-link-org))
  <span style="color: #8959a8;">:config</span> (ace-link-setup-default))
</pre>
</div>
</div>
</li>

<li><a id="orgb445ed6"></a>Ace Window<br />
<div class="outline-text-5" id="text-3-6-1-4">
<p>
Instead of <code>C-x o</code> traversal, <code>ace-window</code> mode provides numbers
for quick window access
</p>

<p>
Set the keys to something other than the default numbers. Note
that this also limits the number of windows that can be used, but
given my usage, I doubt it goes up to 'j' often.
</p>

<p>
Also, I modify the face attribute to make the window numbers large.
</p>

<p>
After reading <a href="https://github.com/abo-abo/ace-window/wiki">the wiki</a>, I supercharged the interface for <code>ace-window</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-window</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-a"</span>    . ace-window)
  (<span style="color: #3e999f;">"&lt;f9&gt; a"</span> . ace-window)
  <span style="color: #8959a8;">:custom</span>
  (aw-keys '(?j ?k ?l ?\; ?n ?m))
  (aw-leading-char-style 'path)
  (aw-dispatch-always t)
  (aw-dispatch-alist
   '((?x aw-delete-window <span style="color: #3e999f;">"Ace - Delete Window"</span>)
     (?c aw-swap-window   <span style="color: #3e999f;">"Ace - Swap window"</span>)
     (?n aw-flip-window   <span style="color: #3e999f;">"Ace - Flip window"</span>)
     (?v aw-split-window-vert <span style="color: #3e999f;">"Ace - Split Vert Window"</span>)
     (?h aw-split-window-horz <span style="color: #3e999f;">"Ace - Split Horz Window"</span>)
     (?m delete-other-windows <span style="color: #3e999f;">"Ace - Maximize Window"</span>)
     (?b balance-windows))))

(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">progn</span>
    (<span style="color: #718c00;">defhydra</span> hydra-window-size (<span style="color: #8959a8;">:color</span> amaranth)
      <span style="color: #8959a8;">"Window size"</span>
      (<span style="color: #3e999f;">"h"</span> shrink-window-horizontally <span style="color: #3e999f;">"shrink horizontal"</span>)
      (<span style="color: #3e999f;">"j"</span> shrink-window <span style="color: #3e999f;">"shrink vertical"</span>)
      (<span style="color: #3e999f;">"k"</span> enlarge-window <span style="color: #3e999f;">"enlarge vertical"</span>)
      (<span style="color: #3e999f;">"l"</span> enlarge-window-horizontally <span style="color: #3e999f;">"enlarge horizontal"</span>)
      (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span>))

    (<span style="color: #718c00;">defhydra</span> hydra-window-frame (<span style="color: #8959a8;">:color</span> red)
      <span style="color: #8959a8;">"Frame"</span>
      (<span style="color: #3e999f;">"f"</span> make-frame <span style="color: #3e999f;">"new frame"</span>)
      (<span style="color: #3e999f;">"x"</span> delete-frame <span style="color: #3e999f;">"delete frame"</span>)
      (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span>))

    (<span style="color: #718c00;">defhydra</span> hydra-window-scroll (<span style="color: #8959a8;">:color</span> amaranth)
      <span style="color: #8959a8;">"Scroll other window"</span>
      (<span style="color: #3e999f;">"n"</span> scroll-other-window <span style="color: #3e999f;">"scroll"</span>)
      (<span style="color: #3e999f;">"p"</span> scroll-other-window-down <span style="color: #3e999f;">"scroll down"</span>)
      (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span>))

    (<span style="color: #718c00;">with-eval-after-load</span> 'ace-window
      (<span style="color: #718c00;">progn</span>
        (add-to-list 'aw-dispatch-alist '(?w hydra-window-size/body) t)
        (add-to-list 'aw-dispatch-alist '(?\; hydra-window-frame/body) t)
        (add-to-list 'aw-dispatch-alist '(?o hydra-window-scroll/body) t)
        (set-face-attribute 'aw-leading-char-face nil <span style="color: #8959a8;">:height</span> 2.0)))))
</pre>
</div>
</div>
</li>

<li><a id="orge062b85"></a>Avy Goto<br />
<div class="outline-text-5" id="text-3-6-1-5">
<p>
It is time to make some shortcuts for jumping to see if they make
sense for me.  The interesting feature that I can use is that
these highlight text an all shown buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">avy</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-SPC"</span> . avy-goto-char-timer)
  (<span style="color: #3e999f;">"H-w"</span>   . avy-goto-word-1)
  (<span style="color: #3e999f;">"H-c"</span>   . avy-goto-char-2)
  (<span style="color: #3e999f;">"H-l"</span>   . avy-goto-line)
  (<span style="color: #3e999f;">"H-d"</span>   . avy-goto-word-0)
  (<span style="color: #3e999f;">"&lt;f9&gt; SPC"</span> . avy-goto-char-timer)
  (<span style="color: #3e999f;">"C-c g"</span> . avy-goto-word-1)
  (<span style="color: #3e999f;">"M-g l"</span> . avy-goto-line)
  (<span style="color: #3e999f;">"M-g c"</span> . avy-goto-char-2)
  (<span style="color: #3e999f;">"M-g w"</span> . avy-goto-word-0))
</pre>
</div>

<p>
The commands begin with the normal prefix of <code>M-g</code> for the goto
commands and use l,c and w for lines, characters and words
respectively.
</p>

<p>
The char version I use here is the two-element version. For
single character jumping, I have the Ace Isearch mode below that
will facilitate quick jumping.
</p>
</div>
</li>

<li><a id="org20adcd2"></a>Avy Zap<br />
<div class="outline-text-5" id="text-3-6-1-6">
<p>
Zap to char using avy.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">avy-zap</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"M-z"</span> . avy-zap-to-char-dwim)
  (<span style="color: #3e999f;">"M-Z"</span> . avy-zap-up-to-char-dwim))
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgf8b4a13" class="outline-4">
<h4 id="orgf8b4a13"><span class="section-number-4">3.6.2.</span> Errors</h4>
<div class="outline-text-4" id="text-3-6-2">
<p>
When navigating errors (output from <code>M-x compile</code> for example), this
highlights the visited error. Although named for errors, this
functionality is also used for <code>M-x occur</code> and <code>M-x rgrep</code> and others.
</p>

<p>
Within the buffer full of errors or matches, <code>M-g M-n/M-p</code> will
navigate up/down visiting the errors in a separate buffer and
highlighting the current error or match.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #718c00;">setq</span> next-error-message-highlight t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1e287f8" class="outline-4">
<h4 id="org1e287f8"><span class="section-number-4">3.6.3.</span> Read-only helpers</h4>
<div class="outline-text-4" id="text-3-6-3">
<p>
For read-only files, look at them in <code>view-mode</code> which will enable
vi-style navigation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">view</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#128065;"</span>
  <span style="color: #8959a8;">:init</span> (<span style="color: #718c00;">setq</span> view-read-only t)
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> view-mode-map
              (<span style="color: #3e999f;">"n"</span> . next-line    )
              (<span style="color: #3e999f;">"p"</span> . previous-line)
              (<span style="color: #3e999f;">"j"</span> . next-line    )
              (<span style="color: #3e999f;">"k"</span> . previous-line)
              (<span style="color: #3e999f;">"l"</span> . forward-char)
              (<span style="color: #3e999f;">"h"</span> . bnb/view/h)
              (<span style="color: #3e999f;">"q"</span> . bnb/view/q))
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/view/h</span> ()
    <span style="color: #8959a8;">"Setup a function to go backwards a character"</span>
    (<span style="color: #718c00;">interactive</span>)
    (forward-char -1))
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/view/q</span> ()
    <span style="color: #8959a8;">"Setup a function to quit `view-mode`"</span>
    (<span style="color: #718c00;">interactive</span>)
    (view-mode -1)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org39540be" class="outline-4">
<h4 id="org39540be"><span class="section-number-4">3.6.4.</span> Scroll Screen Position</h4>
<div class="outline-text-4" id="text-3-6-4">
<p>
This is one of those cool finds for a problem I mostly knew that I
had. I often hit <code>C-v</code> by accident and lose my place.  With the
following setting, <code>M-v</code> completely undoes the scroll leaving the
cursor back in the original position.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> scroll-preserve-screen-position 'always)
</pre>
</div>

<p>
Thanks to <a href="http://irreal.org/blog/?p=3963">http://irreal.org/blog/?p=3963</a> for the tip.
</p>
</div>
</div>
</div>

<div id="outline-container-org628513b" class="outline-3">
<h3 id="org628513b"><span class="section-number-3">3.7.</span> Custom Helpers</h3>
<div class="outline-text-3" id="text-3-7">
<p>
This is a collection of code specific to how I use emacs. Some
are from different websites or other Emacs users.
</p>
</div>

<div id="outline-container-orgbda9fb7" class="outline-4">
<h4 id="orgbda9fb7"><span class="section-number-4">3.7.1.</span> Auto-display agenda</h4>
<div class="outline-text-4" id="text-3-7-1">
<p>
<a href="http://lists.gnu.org/archive/html/emacs-orgmode/2010-03/msg00367.html">John Weigley shows a way</a> to display the agenda after some period
of inactivity.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/jump-to-org-agenda</span> ()
  <span style="color: #8959a8;">"Create and jump to the bnb org agenda."</span>
  (<span style="color: #718c00;">interactive</span>)
  (<span style="color: #718c00;">let</span> ((buf (get-buffer <span style="color: #3e999f;">"*Org Agenda*"</span>))
        wind)
    (<span style="color: #718c00;">if</span> buf
        (<span style="color: #718c00;">if</span> (<span style="color: #718c00;">setq</span> wind (get-buffer-window buf))
            (select-window wind)
          (<span style="color: #718c00;">if</span> (called-interactively-p)
              (<span style="color: #718c00;">progn</span>
                (select-window (display-buffer buf t t))
                (org-fit-window-to-buffer))
            (<span style="color: #718c00;">with-selected-window</span> (display-buffer buf)
              (org-fit-window-to-buffer))))
      (bnb/org-agenda-with-tip nil))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/idle-agenda</span> (<span style="color: #4271ae;">&amp;optional</span> arg)
  <span style="color: #8959a8;">"Set or cancel idle agenda timer based on [ARG]."</span>
  (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span>)
  (<span style="color: #718c00;">setq</span> bnb/iagenda
        (<span style="color: #718c00;">if</span> arg
            (cancel-timer bnb/iagenda)
          (run-with-idle-timer 3600 t 'bnb/jump-to-org-agenda))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7f3adc8" class="outline-4">
<h4 id="org7f3adc8"><span class="section-number-4">3.7.2.</span> Auto-indent when pasting</h4>
<div class="outline-text-4" id="text-3-7-2">
<p>
Automatically indent pasted blocks of text.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #718c00;">dolist</span> (command '(yank yank-pop))
  (eval `(<span style="color: #718c00;">defadvice</span> ,command (after indent-region activate)
           (<span style="color: #718c00;">and</span> (not current-prefix-arg)
                (<span style="color: #718c00;">let</span> ((mark-even-if-inactive transient-mark-mode))
                  (indent-region (region-beginning) (region-end) nil))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2dd0892" class="outline-4">
<h4 id="org2dd0892"><span class="section-number-4">3.7.3.</span> Better window splitting functions</h4>
<div class="outline-text-4" id="text-3-7-3">
<p>
<a href="http://www.reddit.com/r/emacs/comments/25v0eo/you_emacs_tips_and_tricks/chldury">http://www.reddit.com/r/emacs/comments/25v0eo/you_emacs_tips_and_tricks/chldury</a>
</p>

<p>
These settings split the window and load a previous buffer (instead
of the same buffer in both).  This has a better chance of being
what I want when splitting strings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/vplit-last-buffer</span> ()
  <span style="color: #8959a8;">"When splitting the frame, load the last visited buffer."</span>
  (<span style="color: #718c00;">interactive</span>)
  (split-window-vertically)
  (other-window 1 nil)
  (switch-to-next-buffer))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/hsplit-last-buffer</span> ()
  <span style="color: #8959a8;">"When splitting the frame, load the last visited buffer."</span>
  (<span style="color: #718c00;">interactive</span>)
  (split-window-horizontally)
  (other-window 1 nil)
  (switch-to-next-buffer))

(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-keys</span>
   (<span style="color: #3e999f;">"C-x 2"</span> . bnb/vplit-last-buffer)
   (<span style="color: #3e999f;">"C-x 3"</span> . bnb/hsplit-last-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge977105" class="outline-4">
<h4 id="orge977105"><span class="section-number-4">3.7.4.</span> Hide mode line</h4>
<div class="outline-text-4" id="text-3-7-4">
<p>
This is a fun one I picked from a now defunct website. This block
of code hides the mode-line for the current buffer (window).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Setup buffer-local behavior</span>
(<span style="color: #718c00;">defvar-local</span> <span style="color: #eab700;">bnb/hide-mode-line-mode</span> nil)
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Setup minor mode</span>
(<span style="color: #718c00;">define-minor-mode</span> <span style="color: #f5871f;">bnb/hide-mode-line-mode</span>
  <span style="color: #8959a8;">"Minor mode to hide mode-line in current buffer"</span>
  <span style="color: #8959a8;">:init-value</span> nil
  <span style="color: #8959a8;">:global</span> nil
  <span style="color: #8959a8;">:variable</span> bnb/hide-mode-line-mode
  <span style="color: #8959a8;">:group</span> 'editing-basics
  (<span style="color: #718c00;">if</span> bnb/hide-mode-line-mode
      (<span style="color: #718c00;">setq</span> bnb/hide-mode-line-mode/saved-format mode-line-format
            mode-line-format nil)
    (<span style="color: #718c00;">setq</span> mode-line-format bnb/hide-mode-line-mode/saved-format
          bnb/hide-mode-line-mode/saved-format nil))
  (force-mode-line-update)
  (redraw-display)
  (<span style="color: #718c00;">when</span> (<span style="color: #718c00;">and</span> (called-interactively-p 'interactive)
             bnb/hide-mode-line-mode)
    (run-with-idle-timer
     0 nil 'message
     (concat <span style="color: #3e999f;">"Goodbye mode line!"</span>
             <span style="color: #3e999f;">"Use M-x bnb/hide-mode-line-mode to make the mode-line appear"</span>))))

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Bind global key</span>
(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"H-0"</span> 'bnb/hide-mode-line-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e14686" class="outline-4">
<h4 id="org9e14686"><span class="section-number-4">3.7.5.</span> Open/Edit This file</h4>
<div class="outline-text-4" id="text-3-7-5">
<p>
When I hit <code>&lt;F5&gt;</code>, open this file for editing. That way, any
time I have something I need to remember for my emacs setting, it
is just a button-push away.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-key</span>
   <span style="color: #3e999f;">"&lt;f5&gt;"</span>
   (<span style="color: #718c00;">lambda</span> ()
     (<span style="color: #718c00;">interactive</span>)
     (find-file <span style="color: #3e999f;">"~/.emacs.d/bnb-emacs/Readme.org"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5a6c6ff" class="outline-4">
<h4 id="org5a6c6ff"><span class="section-number-4">3.7.6.</span> Org-column resizing</h4>
<div class="outline-text-4" id="text-3-7-6">
<p>
In order to resize the face when `org-column` mode is on, some
advice is in order. The face used has a set <code>:height</code> that is not
overridden by custom face settings.
</p>

<p>
To have a custom height, this advice prepends the list with an
anonymous face with a height of 0.8. This setting happens first, so
it wins.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-overlay-font-override</span> (orig-fn beg end <span style="color: #4271ae;">&amp;optional</span> txt face)
  (<span style="color: #718c00;">let</span> ((bnbface (cons '(<span style="color: #8959a8;">:height</span> 0.8) face)))
    (funcall orig-fn beg end txt bnbface)))

(advice-add 'org-columns--new-overlay <span style="color: #8959a8;">:around</span> #'bnb/org-overlay-font-override)
<span style="color: #8e908c; font-style: italic;">;</span><span style="color: #8e908c; font-style: italic;">(advice-remove 'org-columns--new-overlay #'bnb/org-overlay-font-override)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orge9a1028" class="outline-4">
<h4 id="orge9a1028"><span class="section-number-4">3.7.7.</span> Styled HTML Export</h4>
<div class="outline-text-4" id="text-3-7-7">
<p>
This is how I get the one-page html output for Github Pages. There
are two main parts to setting up and executing the export.
</p>

<p>
First, I use a <code>SETUPFILE</code> from
<a href="https://github.com/fniessen/org-html-themes">https://github.com/fniessen/org-html-themes</a>. Specifically, I use
the <i>readtheorg</i> style.
</p>

<p>
Second, I setup the emacs theme correctly for nice code
output. Syntax highlighting in the export will pull from the
current theme. I don't want this. Instead, I want to specify which
theme to use for <i>every</i> export.
</p>

<p>
The code below stores away the current list of enabled themes
before disabling them all. Then, it enables my preferred export
theme (<code>sanityinc-tomorrow-day</code>) before performing the
export. Finally, it disables the last theme and renables all of the
ones on the list.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/export-readme</span> ()
  <span style="color: #8959a8;">"Export the tangled org setting as html.</span>

<span style="color: #8959a8;">`sanityinc-tomorrow-day` is used to style the code exports."</span>
  (<span style="color: #718c00;">interactive</span>)
  (<span style="color: #718c00;">let</span> ((themes custom-enabled-themes))
    (mapc 'disable-theme themes)
    (load-theme 'sanityinc-tomorrow-day)
    (org-html-export-to-html)
    (disable-theme 'sanityinc-tomorrow-day)
    (mapcar 'load-theme (reverse themes))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9d3f464" class="outline-4">
<h4 id="org9d3f464"><span class="section-number-4">3.7.8.</span> Transparency</h4>
<div class="outline-text-4" id="text-3-7-8">
<p>
Using the <code>ring</code> package, these commands will cycles through transparency settings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ring</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:commands</span> (bnb/transparency-apply bnb/transparency-next bnb/transparency-previous
                                    bnb/transparency-cycle bnb/transparency-add)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> bnb/transparency-ring
        (ring-convert-sequence-to-ring (list '(100 100) '(100 50) '(100 10) '(95 50) '(90 50) '(85 50)))
        bnb/transparency
        (ring-ref bnb/transparency-ring 0))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-apply</span> (trans)
    <span style="color: #8959a8;">"Apply the TRANS alpha value to the frame."</span>
    (set-frame-parameter (selected-frame) 'alpha (<span style="color: #718c00;">setq</span> bnb/transparency trans)))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-next</span> ()
    <span style="color: #8959a8;">"Apply the next transparency value in the ring `bnb/transparency-ring`."</span>
    (<span style="color: #718c00;">interactive</span>)
    (bnb/transparency-apply (ring-next bnb/transparency-ring bnb/transparency)))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-previous</span> ()
    <span style="color: #8959a8;">"Apply the previous transparency value in the ring `bnb/transparency-ring`."</span>
    (<span style="color: #718c00;">interactive</span>)
    (bnb/transparency-apply (ring-previous bnb/transparency-ring bnb/transparency)))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-cycle</span> ()
    <span style="color: #8959a8;">"Cycle to the next transparency setting."</span>
    (<span style="color: #718c00;">interactive</span>)
    (bnb/transparency-next))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-add</span> (active inactive)
    <span style="color: #8959a8;">"Add ACTIVE and INACTIVE transparency values to the ring."</span>
    (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"nActive Transparency:\nnInactive Transparency:"</span>)
    (ring-insert+extend bnb/transparency-ring (list active inactive) t)
    (bnb/transparency-apply (list active inactive))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org67f6ef1" class="outline-4">
<h4 id="org67f6ef1"><span class="section-number-4">3.7.9.</span> Weekly Score Goal in Org-Agenda</h4>
<div class="outline-text-4" id="text-3-7-9">
<p>
I use a scoring system to keep track of my overall progress.  This
involves scoring my tasks and attributing my idea of impact of a
particular done item.
</p>

<p>
To use these numbers, I do a weekly review on Monday and compare
the numbers to past years/weeks/etc. To keep pushing forward, this
little bit of code will insert a running status at the top of my
agenda.
</p>

<p>
If I am on track for the given day (at or above the scaled goal),
all is green.  Otherwise, I get a warning type formatting above 80%
and error type formatting under.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Define my goal to hit</span>
(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">bnb/weekly-score-goal</span> 42)

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Add up all the scores from DONE items in the agenda files</span>
(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/agenda-score-goal</span> ()
  <span style="color: #8959a8;">"Add up scores from done items.</span>

<span style="color: #8959a8;">   In the agenda, this will show the number of done items and the</span>
<span style="color: #8959a8;">   target goal from `bnb/weekly-score-goal`."</span>
  (<span style="color: #718c00;">let*</span> ((score <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Add up all scores from DONE items</span>
          (apply '+
                 (org-map-entries
                  (<span style="color: #718c00;">lambda</span> () (string-to-number (<span style="color: #718c00;">or</span> (org-entry-get (point) <span style="color: #3e999f;">"Score"</span>) <span style="color: #3e999f;">"0"</span>)))
                  <span style="color: #3e999f;">"/DONE"</span> 'agenda)))
         (scaled-goal (* bnb/weekly-score-goal
                         (/ (string-to-number (format-time-string <span style="color: #3e999f;">"%w"</span>))
                            5.0)))
         (face (<span style="color: #718c00;">cond</span> ((&gt;= score scaled-goal) 'success)
                     ((&gt;= score (* .8 scaled-goal)) 'warning)
                     (t 'error)))
         (goal-label (format <span style="color: #3e999f;">"&#10023; Score Goal (%d): "</span> scaled-goal))
         (goal-metric (format <span style="color: #3e999f;">"%d/%d\n"</span> score bnb/weekly-score-goal))
         (header-size (+ (string-width goal-label)
                         (string-width goal-metric)))
         (goal-separator (concat (make-string header-size ?&#9476;) <span style="color: #3e999f;">"\n"</span>)))
    (insert
     (concat
      (propertize goal-label 'face 'org-agenda-structure)
      (propertize goal-metric 'face face)
      (propertize goal-separator 'face 'org-agenda-structure)))))

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">This hook runs first in the agenda (and before it is set to read-only)</span>
(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (add-hook 'org-agenda-mode-hook 'bnb/agenda-score-goal))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge78ffcd" class="outline-4">
<h4 id="orge78ffcd"><span class="section-number-4">3.7.10.</span> Weekly Time Reporting</h4>
<div class="outline-text-4" id="text-3-7-10">
<p>
This is a function to create an entry like a datetree, but using
years and workweeks instead.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/find-year-create</span> (year)
  <span style="color: #8959a8;">"Find or create a [YEAR] in an Org journal."</span>
  (<span style="color: #718c00;">let</span> ((re <span style="color: #3e999f;">"^\\**[ \t]+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">[12][0-9]\\{</span><span style="color: #eab700;">3\\</span><span style="color: #3e999f;">}</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>)
        match)
    (org-narrow-to-subtree)
    (goto-char (point-min))
    (<span style="color: #718c00;">while</span> (<span style="color: #718c00;">and</span> (<span style="color: #718c00;">setq</span> match (re-search-forward re nil t))
                (goto-char (match-beginning 1))
                (&lt; (string-to-number (match-string 1)) year)))
    (<span style="color: #718c00;">cond</span>
     ((not match)
      (goto-char (point-max))
      (<span style="color: #718c00;">or</span> (bolp) (newline))
      (insert (format  <span style="color: #3e999f;">"** %s\n"</span> year)))
     ((= (string-to-number (match-string 1)) year)
      (goto-char (point-at-bol)))
     (t
      (beginning-of-line 1)
      (insert (format  <span style="color: #3e999f;">"** %s\n"</span> year))))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/find-ww-create</span> (ww)
  <span style="color: #8959a8;">"Find or create a [WW] (workweek) in an Org journal."</span>
  (<span style="color: #718c00;">let</span> ((re <span style="color: #3e999f;">"^\\**[ \t]+\\WW</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">[0-9]\\{</span><span style="color: #eab700;">2\\</span><span style="color: #3e999f;">}</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>)
        match)
    (org-narrow-to-subtree)
    (goto-char (point-min))
    (<span style="color: #718c00;">while</span> (<span style="color: #718c00;">and</span> (<span style="color: #718c00;">setq</span> match (re-search-forward re nil t))
                (goto-char (match-beginning 1))
                (&lt; (string-to-number (match-string 1)) ww)))
    (<span style="color: #718c00;">cond</span>
     ((not match)
      (goto-char (point-max))
      (<span style="color: #718c00;">or</span> (bolp) (newline))
      (insert (format <span style="color: #3e999f;">"*** WW%02d\n"</span> ww)))
     ((= (string-to-number (match-string 1)) ww)
      (goto-char (point-at-bol)))
     (t
      (beginning-of-line 1)
      (insert (format <span style="color: #3e999f;">"*** WW%02d\n"</span> ww))))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/insert-weekly-time-sheet</span> ()
  <span style="color: #8959a8;">"Generated and insert a weekly time sheet generated from the default Org Agenda."</span>
  (<span style="color: #718c00;">with-temp-buffer</span>
    (insert
     (concat  <span style="color: #3e999f;">"#+BEGIN: clocktable :maxlevel 3 :scope agenda-with-archives :block lastweek :fileskip0 t :properties (\"Score\") :indent nil \n"</span>
              <span style="color: #3e999f;">"#+TBLFM: $6='(org-clock-time% @2$4 $3..$5);%.1f::@2$2=vsum(@3$2..@&gt;$2)\n"</span>
              <span style="color: #3e999f;">"#+END:\n\n"</span>))
    (goto-char (point-min))
    (org-update-dblock)
    (buffer-substring (point-min) (point-max))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/insert-weekly-clocking</span> ()
  <span style="color: #8959a8;">"Insert the weekly clocking clocking data."</span>
  (<span style="color: #718c00;">let</span> ((year (number-to-string (nth 2 (calendar-gregorian-from-absolute (org-today)))))
        (ww (bnb/workweek)))
    (goto-char (point-min))
    (goto-char (cdr (org-id-find <span style="color: #3e999f;">"clocking"</span>)))
    (bnb/find-year-create (string-to-number year))
    (bnb/find-ww-create ww)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org372c9e9" class="outline-4">
<h4 id="org372c9e9"><span class="section-number-4">3.7.11.</span> Workweeks</h4>
<div class="outline-text-4" id="text-3-7-11">
<p>
This is vestigal content from my Intel days and this generates
their idea of a work week number.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">progn</span>
    (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek</span> ()
      <span style="color: #8959a8;">"Return the current workweek number."</span>
      (<span style="color: #718c00;">interactive</span>)
      (<span style="color: #718c00;">let*</span> ((now (current-time))
             (weeks (string-to-number
                     (format-time-string <span style="color: #3e999f;">"%W"</span> now)))
             (days (time-to-day-in-year now))
             (daynum (string-to-number
                      (format-time-string <span style="color: #3e999f;">"%w"</span> now)))
             (left (% days 7)))
        (<span style="color: #718c00;">if</span> (<span style="color: #718c00;">and</span> (= 0 daynum) (= left 0))
            weeks
          (+ 1 weeks))))

    (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek-string</span> ()
      <span style="color: #8959a8;">"Convert the current workweek into a string.</span>

<span style="color: #8959a8;">    The string is of the format WW##."</span>
      (<span style="color: #718c00;">interactive</span>)
      (concat <span style="color: #3e999f;">"WW"</span>
              (number-to-string
               (bnb/workweek))))

    (<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">calendar</span>)
    (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek-from-gregorian</span> (<span style="color: #4271ae;">&amp;optional</span> date)
      <span style="color: #8959a8;">"Calculate the workweek from the Gregorian calendar."</span>
      (<span style="color: #718c00;">let*</span> ((date (<span style="color: #718c00;">or</span> date (calendar-current-date)))
             (year (calendar-extract-year date))
             (fst (calendar-day-of-week (list 1 1 year)))
             (x   (<span style="color: #718c00;">if</span> (&gt;= fst 4)1 0)))
        (+ x
           (car
            (calendar-iso-from-absolute
             (calendar-absolute-from-gregorian date))))))

    (<span style="color: #718c00;">setq</span> calendar-week-start-day 1
          calendar-intermonth-text
          '(propertize
            (format <span style="color: #3e999f;">"%2d"</span>
                    (bnb/workweek-from-gregorian (list month day year)))
            'font-lock-face 'font-lock-function-name-face))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orged84092" class="outline-3">
<h3 id="orged84092"><span class="section-number-3">3.8.</span> Editing</h3>
<div class="outline-text-3" id="text-3-8">
</div>
<div id="outline-container-org3cb8284" class="outline-4">
<h4 id="org3cb8284"><span class="section-number-4">3.8.1.</span> Ediff single frame</h4>
<div class="outline-text-4" id="text-3-8-1">
<p>
I really dislike the multi-frame mode of <code>ediff</code>.  It is confusing
to use and really messes up my <a href="http://dwm.suckless.org">dwm</a> usage. By explicitly setting
the following setting, it forces <code>ediff</code> to use only one
frame.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> ediff-window-setup-function 'ediff-setup-windows-plain)
</pre>
</div>

<p>
Now the control window will be a small window instead of a
separate frame.
</p>
</div>
</div>


<div id="outline-container-org1aa324d" class="outline-4">
<h4 id="org1aa324d"><span class="section-number-4">3.8.2.</span> Multiple Cursors</h4>
<div class="outline-text-4" id="text-3-8-2">
<p>
This interface is a mix of an example on the <a href="https://github.com/abo-abo/hydra/wiki/multiple-cursors">hydra wiki</a> and my own
additions.
</p>

<p>
I think that the key thing is remembering to not have this affect
<b>all</b> cursors when prompted. Otherwise, it seems, the cursors are
duplicated in strange ways.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">multiple-cursors</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-m"</span>   . hydra-mc/body)
  (<span style="color: #3e999f;">"C-x m"</span> . hydra-mc/body)
  (<span style="color: #3e999f;">"s-&lt;mouse-1&gt;"</span> . mc/add-cursor-on-click)
  (<span style="color: #3e999f;">"C-x M"</span> . compose-mail)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">defhydra</span> hydra-mc (<span style="color: #8959a8;">:hint</span> nil)
    <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">     ^Up^            ^Down^        ^Miscellaneous^</span>
<span style="color: #8959a8;">-----------------------------------------------------------</span>
<span style="color: #8959a8;">[_p_]   Next    [_n_]   Next    [_l_] Edit lines  [_x_] Arrows</span>
<span style="color: #8959a8;">[_P_]   Skip    [_N_]   Skip    [_a_] Mark all    [_g_] Regexp</span>
<span style="color: #8959a8;">[_M-p_] Unmark  [_M-n_] Unmark  [_q_] Quit"</span>
    (<span style="color: #3e999f;">"l"</span>   mc/edit-lines <span style="color: #8959a8;">:exit</span> t)
    (<span style="color: #3e999f;">"a"</span>   mc/mark-all-like-this-dwim <span style="color: #8959a8;">:exit</span> t)
    (<span style="color: #3e999f;">"n"</span>   mc/mark-next-like-this)
    (<span style="color: #3e999f;">"N"</span>   mc/skip-to-next-like-this)
    (<span style="color: #3e999f;">"M-n"</span> mc/unmark-next-like-this)
    (<span style="color: #3e999f;">"p"</span>   mc/mark-previous-like-this)
    (<span style="color: #3e999f;">"P"</span>   mc/skip-to-previous-like-this)
    (<span style="color: #3e999f;">"M-p"</span> mc/unmark-previous-like-this)
    (<span style="color: #3e999f;">"g"</span>   mc/mark-all-in-region-regexp <span style="color: #8959a8;">:exit</span> t)
    (<span style="color: #3e999f;">"r"</span>   mc/mark-sgml-tag-pair <span style="color: #8959a8;">:exit</span> t)
    (<span style="color: #3e999f;">"x"</span>   mc/mark-more-like-this-extended)
    (<span style="color: #3e999f;">"q"</span>   nil))
  (add-hydra-mc-funcs))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">add-hydra-mc-funcs</span> ()
  <span style="color: #8959a8;">"Add my hydra-mc funcs to the proper whitelist"</span>
  (<span style="color: #718c00;">let*</span> ((hydra-mc-funcs
          (cl-remove-if-not
           'functionp
           (apply #'append hydra-mc/heads)))
         (mc-funcs-to-ignore (cl-intersection
                              hydra-mc-funcs
                              mc--default-cmds-to-run-once))
         (funcs-to-whitelist
          (cl-mapcar
           (<span style="color: #718c00;">lambda</span> (x) (intern (concat <span style="color: #3e999f;">"hydra-mc/"</span> (symbol-name x))))
           mc-funcs-to-ignore)))
    (<span style="color: #718c00;">let</span> (value)
      (<span style="color: #718c00;">dolist</span> (element funcs-to-whitelist nil)
        (add-to-list 'mc/cmds-to-run-once element)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org451d100" class="outline-4">
<h4 id="org451d100"><span class="section-number-4">3.8.3.</span> Regexp-Builder</h4>
<div class="outline-text-4" id="text-3-8-3">
<p>
Emacs regular expressions are not the easiest to use out of the
box. Emacs now has <a href="re-builder">regexp-builder</a> to assist you in building the
correct regexp as you type.
</p>

<p>
However, to complicate matters, there are five different <i>syntaxes</i>
of regular expression that the builder can use. The <code>string</code>
syntax is what I tend to use most in searching and replacing, so I
will make that my default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> reb-re-syntax 'string)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key Binding</th>
<th scope="col" class="org-left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-c TAB</code></td>
<td class="org-left">Switch syntax</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-e</code></td>
<td class="org-left">Sub-expression mode (show matching groups)</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-s/r</code></td>
<td class="org-left">Search forward/backward</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-w</code></td>
<td class="org-left">Copy regexp to kill ring</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-q</code></td>
<td class="org-left">Quit the builder</td>
</tr>
</tbody>
</table>

<p>
Be sure to consult the <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Regexps.html">syntax of regular expressions</a> to learn more
about the weird backslashing.
</p>
</div>
</div>


<div id="outline-container-orged2eead" class="outline-4">
<h4 id="orged2eead"><span class="section-number-4">3.8.4.</span> Executable Scripts on save</h4>
<div class="outline-text-4" id="text-3-8-4">
<p>
Taken from: <a href="http://mbork.pl/2015-01-10_A_few_random_Emacs_tips">http://mbork.pl/2015-01-10_A_few_random_Emacs_tips</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-save-hook
          'executable-make-buffer-file-executable-if-script-p)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0c6538" class="outline-4">
<h4 id="orgc0c6538"><span class="section-number-4">3.8.5.</span> Auto Reverting</h4>
<div class="outline-text-4" id="text-3-8-5">
<p>
For view-only buffers rendering content, it is useful to have them
<code>auto-revert</code> in case of changes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'doc-view-mode-hook 'auto-revert-mode)
(add-hook 'image-mode 'auto-revert-mode)
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgd4dea40" class="outline-3">
<h3 id="orgd4dea40"><span class="section-number-3">3.9.</span> Images</h3>
<div class="outline-text-3" id="text-3-9">
</div>
<div id="outline-container-orgf0cb838" class="outline-4">
<h4 id="orgf0cb838"><span class="section-number-4">3.9.1.</span> ImageMagick</h4>
<div class="outline-text-4" id="text-3-9-1">
<p>
Register file types if we can.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">when</span> (fboundp 'imagemagick-register-types)
    (imagemagick-register-types)))
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org9e85451" class="outline-2">
<h2 id="org9e85451"><span class="section-number-2">4.</span> Minor Modes</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org0a6a2cf" class="outline-3">
<h3 id="org0a6a2cf"><span class="section-number-3">4.1.</span> Reference</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org28a3f2d" class="outline-4">
<h4 id="org28a3f2d"><span class="section-number-4">4.1.1.</span> Discover my mode</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
If you ever wanted to know what keybindings were active in the
current buffer for the current mode, then it is now just a keypress
away.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">discover-my-major</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> ((<span style="color: #3e999f;">"C-h C-m"</span> . discover-my-major)
         (<span style="color: #3e999f;">"C-h C-d"</span> . discover-my-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org724c6f2" class="outline-4">
<h4 id="org724c6f2"><span class="section-number-4">4.1.2.</span> Helpful</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
Using <a href="https://github.com/Wilfred/helpful">Helpful</a> enables a better help buffer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">helpful</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-h K"</span> . helpful-key)
  (<span style="color: #3e999f;">"C-h v"</span> . helpful-variable)
  (<span style="color: #3e999f;">"C-h f"</span> . helpful-function)
  (<span style="color: #3e999f;">"C-h x"</span> . helpful-command)
  (<span style="color: #3e999f;">"C-h z"</span> . helpful-macro)
  (<span style="color: #3e999f;">"C-h ."</span> . helpful-at-point))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0cb7759" class="outline-4">
<h4 id="org0cb7759"><span class="section-number-4">4.1.3.</span> Which Key</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
This <a href="https://github.com/justbur/emacs-which-key">helpful little package</a> makes it easy to remember emacs
prefixed commands.  Start typing a prefix such as <code>C-x</code> after a brief
delay, the options for any following commands are shown.
</p>

<p>
I am using a setup that tries the right side of emacs first, and
punts to a bottom window if there is not enough room.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">which-key</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> which-key-mode
  <span style="color: #8959a8;">:init</span>
  (which-key-mode)
  (which-key-setup-side-window-right-bottom)
  (<span style="color: #718c00;">setq</span> which-key-max-description-length 60))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaebe035" class="outline-4">
<h4 id="orgaebe035"><span class="section-number-4">4.1.4.</span> Dictionary</h4>
<div class="outline-text-4" id="text-4-1-4">
<p>
To use the online dictionary at <a href="https://dict.org">dict.org</a>, set <code>dictionary-server</code>
accordingly. Then swap around keybindinds such that this is an easy
deafult, but the OSX version isn't far away.
</p>

<p>
One of the cooler features of this mode is that the <a href="https://dict.org">dict.org</a> server
has <a href="https://www.websters1913.com/">Webster's 1913</a> dictionary.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dictionary</span>
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq</span> dictionary-server <span style="color: #3e999f;">"dict.org"</span>)
  <span style="color: #8959a8;">:bind</span> ((<span style="color: #3e999f;">"C-c d"</span> . dictionary-search)
         (<span style="color: #3e999f;">"C-c D"</span> . osx-dictionary-search-word-at-point)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org76274d9" class="outline-3">
<h3 id="org76274d9"><span class="section-number-3">4.2.</span> Editing</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-orgc977ec1" class="outline-4">
<h4 id="orgc977ec1"><span class="section-number-4">4.2.1.</span> Adaptive Fill</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Try to keep any prefixed elements of the first line for paragraph
filling.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">filladapt</span>
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#9638;"</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> filladapt-mode
  <span style="color: #8959a8;">:init</span> (<span style="color: #718c00;">setq-default</span> filladapt-mode t)
  <span style="color: #8959a8;">:hook</span> ((text-mode . filladapt-mode)
         (org-mode . turn-off-filladapt-mode)
         (prog-mode . turn-off-filladapt-mode)))
</pre>
</div>
</div>
</div>


<div id="outline-container-org8670c23" class="outline-4">
<h4 id="org8670c23"><span class="section-number-4">4.2.2.</span> Focus Mode</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
Dim everything except for the thing-at-point. Improves focus when
reading code and text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">focus</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c f"</span> . focus-mode)
  (<span style="color: #3e999f;">"C-c F"</span> . focus-read-only-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org98f6c89" class="outline-4">
<h4 id="org98f6c89"><span class="section-number-4">4.2.3.</span> General Editing</h4>
<div class="outline-text-4" id="text-4-2-3">
</div>
<ol class="org-ol">
<li><a id="orgfdab610"></a>CUA mode<br />
<div class="outline-text-5" id="text-4-2-3-1">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/CUA-Bindings.html">CUA</a> has a primary feature of enabling cut, copy, paste and undo
shortcuts compatible with most applications (C-x, C-c,
C-v). However, it also has interesting rectangle features and
<b>that</b> is why I enable it. I also happen to turn off those other
bindings and prefer the emacs defaults.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">progn</span>
    (cua-mode t)
    (<span style="color: #718c00;">setq</span> cua-enable-cua-keys nil)))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgf9b1102"></a>Bindings<br />
<div class="outline-text-6" id="text-4-2-3-1-1">
<p>
There are two main binding types: <a href="#org804fd06">4.2.3.1.1.1</a> and <a href="#orgf90698d">4.2.3.1.1.2</a>.
</p>
</div>

<ol class="org-ol">
<li><a id="org804fd06"></a>CUA Rectangles<br />
<div class="outline-text-7" id="text-4-2-3-1-1-1">
<p>
These take place with an active rectangle. To start/cancel a
rectangle use <code>C-RET</code>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keys</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">M-&lt;arrow&gt;</td>
<td class="org-left">Move rectangle overlay</td>
</tr>

<tr>
<td class="org-left">C-SPACE</td>
<td class="org-left">Activate region bounded by rectangle</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">M-a</td>
<td class="org-left">Align all words at the left edge</td>
</tr>

<tr>
<td class="org-left">M-b</td>
<td class="org-left">Fill rectangle with blanks (tabs and spaces)</td>
</tr>

<tr>
<td class="org-left">M-c</td>
<td class="org-left">Closes the rectangle by removing left edge blanks</td>
</tr>

<tr>
<td class="org-left">M-f</td>
<td class="org-left">Fills the rectangle with a single character (prompt)</td>
</tr>

<tr>
<td class="org-left">M-i</td>
<td class="org-left">Increases number found on each line of rectangle</td>
</tr>

<tr>
<td class="org-left">M-k</td>
<td class="org-left">Kills the rectangle as normal multi-line kill</td>
</tr>

<tr>
<td class="org-left">M-l</td>
<td class="org-left">Downcases the rectangle</td>
</tr>

<tr>
<td class="org-left">M-m</td>
<td class="org-left">Copies the rectangle for normal multi-line paste</td>
</tr>

<tr>
<td class="org-left">M-n</td>
<td class="org-left">Fills each line with increasing numbers (prompt)</td>
</tr>

<tr>
<td class="org-left">M-o</td>
<td class="org-left">Opens the rect by moving hilighted text right and filling with blanks</td>
</tr>

<tr>
<td class="org-left">M-p</td>
<td class="org-left">Toggles virtual straight rectangle edges</td>
</tr>

<tr>
<td class="org-left">M-P</td>
<td class="org-left">Inserts tabs and spaces to make real straight edges</td>
</tr>

<tr>
<td class="org-left">M-q</td>
<td class="org-left">Performs text filling on the rectangle</td>
</tr>

<tr>
<td class="org-left">M-q</td>
<td class="org-left">Performs text filling on the rectangle</td>
</tr>

<tr>
<td class="org-left">M-r</td>
<td class="org-left">Replaces REGEXP (prompt) by STRING (prompt) in rectangle</td>
</tr>

<tr>
<td class="org-left">M-R</td>
<td class="org-left">Reverse the lines in the rectangle</td>
</tr>

<tr>
<td class="org-left">M-s</td>
<td class="org-left">Fills each line of the rectangle with the same STRING (prompt)</td>
</tr>

<tr>
<td class="org-left">M-t</td>
<td class="org-left">Performs text fill of the rectangle with TEXT (prompt)</td>
</tr>

<tr>
<td class="org-left">M-u</td>
<td class="org-left">Upcases the rectangle</td>
</tr>

<tr>
<td class="org-left">M-&lt;Vertical Bar&gt;</td>
<td class="org-left">Runs shell command on rectangle</td>
</tr>

<tr>
<td class="org-left">M-'</td>
<td class="org-left">Restricts rectangle to lines with CHAR (prompt) at left column</td>
</tr>

<tr>
<td class="org-left">M-/</td>
<td class="org-left">Restricts rectangle to lines matching REGEXP (prompt)</td>
</tr>

<tr>
<td class="org-left">C-?</td>
<td class="org-left">Shows a brief list of the above commands.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">M-C-&lt;UP/DOWN&gt;</td>
<td class="org-left">Scrolls the lines INSIDE the rectangle up/down</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="orgf90698d"></a>CUA Global Mark<br />
<div class="outline-text-7" id="text-4-2-3-1-1-2">
<p>
The global mark feature enables a target the receives any
typed/copied/killed text from any buffer (even the current
one).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&lt;ch&gt;</td>
<td class="org-left">All characters (including newlines) you type are inserted at the global mark!</td>
</tr>

<tr>
<td class="org-left">C-x</td>
<td class="org-left">If you cut a region or rectangle, it is automatically inserted at the global mark, and the global mark is advanced.</td>
</tr>

<tr>
<td class="org-left">C-c</td>
<td class="org-left">If you copy a region or rectangle, it is immediately inserted  at the global mark, and the global mark is advanced.</td>
</tr>

<tr>
<td class="org-left">C-v</td>
<td class="org-left">Copies a single character to the global mark.</td>
</tr>

<tr>
<td class="org-left">C-d</td>
<td class="org-left">Moves (i.e. deletes and inserts) a single character to the global mark.</td>
</tr>

<tr>
<td class="org-left">backspace</td>
<td class="org-left">deletes the character before the global mark</td>
</tr>

<tr>
<td class="org-left">delete</td>
<td class="org-left">deletes the character after the global mark.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">S-C-space</td>
<td class="org-left">Jumps to and cancels the global mark.</td>
</tr>

<tr>
<td class="org-left">C-u S-C-space</td>
<td class="org-left">Cancels the global mark (stays in current buffer).</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">TAB</td>
<td class="org-left">Indents the current line or rectangle to the column of the global mark.</td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</div>


<div id="outline-container-org36d8c4b" class="outline-4">
<h4 id="org36d8c4b"><span class="section-number-4">4.2.4.</span> Easy Kill</h4>
<div class="outline-text-4" id="text-4-2-4">
<p>
While looking for a way to store the filename in the clipboard, I
ran across <a href="https://github.com/leoliu/easy-kill">easy-kill</a>. Not only will it grab the filename, but
provides ways to grab all sorts of fun things.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">easy-kill</span>
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"M-w"</span> . easy-kill)
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcdea120" class="outline-4">
<h4 id="orgcdea120"><span class="section-number-4">4.2.5.</span> Undo Tree</h4>
<div class="outline-text-4" id="text-4-2-5">
<p>
It's time to give undo-tree another try. The following hydra makes
repeated undo/redo easier.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">undo-tree</span>
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#172;"</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  (undo-tree-history-directory-alist '((<span style="color: #3e999f;">"."</span> . <span style="color: #3e999f;">"~/.emacs.d/.undo-tree/"</span>)))
  (undo-tree-visualizer-timestamps t)
  (undo-tree-visualizer-diff t)
  <span style="color: #8959a8;">:config</span>
  (global-undo-tree-mode)
  (<span style="color: #718c00;">defhydra</span> hydra-undo-tree (<span style="color: #8959a8;">:color</span> yellow <span style="color: #8959a8;">:hint</span> nil)
    <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">_p_: undo _n_: redo _s_: save _l_: load  "</span>
    (<span style="color: #3e999f;">"p"</span> undo-tree-undo)
    (<span style="color: #3e999f;">"n"</span> undo-tree-redo)
    (<span style="color: #3e999f;">"s"</span> undo-tree-save-history)
    (<span style="color: #3e999f;">"l"</span> undo-tree-load-history)
    (<span style="color: #3e999f;">"u"</span> undo-tree-visualize <span style="color: #3e999f;">"visualize"</span> <span style="color: #8959a8;">:color</span> blue)
    (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span> <span style="color: #8959a8;">:color</span> blue))
  (global-set-key (kbd <span style="color: #3e999f;">"H-,"</span>) 'hydra-undo-tree/body))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8a5acf" class="outline-4">
<h4 id="orgf8a5acf"><span class="section-number-4">4.2.6.</span> Expand Region</h4>
<div class="outline-text-4" id="text-4-2-6">
<p>
Nice way to expand selections to semantic regions. Read more on
<a href="https://github.com/magnars/expand-region.el">https://github.com/magnars/expand-region.el</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">expand-region</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"C-="</span> . er/expand-region))
</pre>
</div>
</div>
</div>

<div id="outline-container-org31fdbd8" class="outline-4">
<h4 id="org31fdbd8"><span class="section-number-4">4.2.7.</span> Edit Server</h4>
<div class="outline-text-4" id="text-4-2-7">
<p>
The edit server talks to Chrome and uses emacs to edit any text
areas. I start this server here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">edit-server</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:init</span>
  (edit-server-start))
</pre>
</div>

<p>
Chrome needs to have the proper extension installed there too for
the installation to be complete.
</p>
</div>
</div>

<div id="outline-container-org2ca3340" class="outline-4">
<h4 id="org2ca3340"><span class="section-number-4">4.2.8.</span> Citar (Bibtex completions)</h4>
<div class="outline-text-4" id="text-4-2-8">
<p>
<a href="https://github.com/emacs-citar/citar">https://github.com/emacs-citar/citar</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">citar</span>
  <span style="color: #8959a8;">:commands</span> (citar-capf-setup)
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  (citar-bibliography bnb/biblio)
  (org-cite-global-bibliography bnb/biblio)
  (org-cite-insert-processor 'citar)
  (org-cite-follow-processor 'citar)
  (org-cite-activate-processor 'citar)
  <span style="color: #8959a8;">:hook</span>
  (LaTeX-mode . citar-capf-setup)
  (org-mode . citar-capf-setup))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">citar-embark</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> (citar embark)
  <span style="color: #8959a8;">:no-require</span>
  <span style="color: #8959a8;">:config</span> (citar-embark-mode)
  <span style="color: #8959a8;">:custom</span>
  (citar-at-point-function 'embark-act))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">citar-org-roam</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> (citar org-roam)
  <span style="color: #8959a8;">:config</span> (citar-org-roam-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d6ba8f" class="outline-4">
<h4 id="org2d6ba8f"><span class="section-number-4">4.2.9.</span> Tree Sitter</h4>
<div class="outline-text-4" id="text-4-2-9">
<p>
Introduced in emacs 29, <a href="https://tree-sitter.github.io/tree-sitter/">tree sitter</a> transforms code into a
concrete syntax tree.  <a href="https://www.masteringemacs.org/article/how-to-get-started-tree-sitter">Read up on how to get started with
tree-sitter</a>
</p>
</div>

<ol class="org-ol">
<li><a id="org01b1a37"></a>Treesit Auto<br />
<div class="outline-text-5" id="text-4-2-9-1">
<p>
Automatically install treesit grammars
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">treesit-auto</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  (treesit-auto-install 'prompt)
  <span style="color: #8959a8;">:config</span>
  (treesit-auto-add-to-auto-mode-alist 'all)
  (global-treesit-auto-mode))
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>


<div id="outline-container-org64f9664" class="outline-3">
<h3 id="org64f9664"><span class="section-number-3">4.3.</span> Version Control</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-org232193c" class="outline-4">
<h4 id="org232193c"><span class="section-number-4">4.3.1.</span> Git</h4>
<div class="outline-text-4" id="text-4-3-1">
</div>
<ol class="org-ol">
<li><a id="org06eeb6d"></a>Magit<br />
<div class="outline-text-5" id="text-4-3-1-1">
<p>
<a href="https://magit.vc/manual/magit.html">Magit</a> is a git interface for Emacs.
</p>

<p>
Here I set a global key for <code>magit-status</code>. Think 'G' looks like 6.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">You could embed this code directly in the reicpe, I just abstracted it into a function.</span>
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">magit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"&lt;f6&gt;"</span> . magit-status)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> magit-last-seen-setup-instructions <span style="color: #3e999f;">"1.4.0"</span>))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org327a9f7"></a>Release 1.4.0<br />
<div class="outline-text-6" id="text-4-3-1-1-1">
<p>
This magit release warns about auto-revert of buffers.  This is
turned on by default and I will keep that setting.  To turn off
the magit warning, I set <code>magit-last-seen-setup-instructions</code> to
1.4.0 as shown above.
</p>
</div>
</li>

<li><a id="org9c91a56"></a>Forge<br />
<div class="outline-text-6" id="text-4-3-1-1-2">
<p>
<a href="https://magit.vc/manual/forge/index.html#Top">Forge</a> is the replacement for magithub. It uses `ghub` to work
with git forges such as github and gitlab.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">forge</span>
  <span style="color: #8959a8;">:after</span> magit
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (forge-pull))
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org70cdfec"></a>Smerge<br />
<div class="outline-text-5" id="text-4-3-1-2">
<p>
Somewhere along the line, <code>smerge</code> was added. To facilitate editing
merge conflicts, this hydra helps me do the work.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (add-hook
   'smerge-mode-hook
   (<span style="color: #718c00;">lambda</span> ()
     (<span style="color: #718c00;">bind-key</span>
      <span style="color: #3e999f;">"C-c ^ h"</span>
      (<span style="color: #718c00;">defhydra</span> hydra-smerge (<span style="color: #8959a8;">:color</span> amaranth)
        (<span style="color: #3e999f;">"a"</span> smerge-keep-all <span style="color: #3e999f;">"Keep all"</span>)
        (<span style="color: #3e999f;">"b"</span> smerge-keep-base <span style="color: #3e999f;">"Keep base"</span>)
        (<span style="color: #3e999f;">"m"</span> smerge-keep-mine <span style="color: #3e999f;">"Keep mine"</span>)
        (<span style="color: #3e999f;">"o"</span> smerge-keep-other <span style="color: #3e999f;">"Keep other"</span>)
        (<span style="color: #3e999f;">"n"</span> smerge-next <span style="color: #3e999f;">"Next conflict"</span>)
        (<span style="color: #3e999f;">"p"</span> smerge-previous <span style="color: #3e999f;">"Previous conflict"</span>)
        (<span style="color: #3e999f;">"r"</span> smerge-resolve <span style="color: #3e999f;">"Keep mine"</span>)
        (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span>))
      smerge-mode-map))))
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgd274e68" class="outline-3">
<h3 id="orgd274e68"><span class="section-number-3">4.4.</span> Checking</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-org804f23f" class="outline-4">
<h4 id="org804f23f"><span class="section-number-4">4.4.1.</span> Writegood Mode</h4>
<div class="outline-text-4" id="text-4-4-1">
<p>
This mode installs through the ELPA system.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">writegood-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c g"</span>     . writegood-mode)
  (<span style="color: #3e999f;">"C-c C-g g"</span> . writegood-grade-level)
  (<span style="color: #3e999f;">"C-c C-g e"</span> . writegood-reading-ease))
</pre>
</div>
</div>
</div>

<div id="outline-container-org250a9a2" class="outline-4">
<h4 id="org250a9a2"><span class="section-number-4">4.4.2.</span> Spell Checking</h4>
<div class="outline-text-4" id="text-4-4-2">
<p>
<a href="http://blog.binchen.org/posts/what-s-the-best-spell-check-set-up-in-emacs.html">This site</a> has an interesting suggestion on how to use <code>aspell</code> for
CamelCase spell checking.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">progn</span>
    (<span style="color: #718c00;">cond</span>
     ((executable-find <span style="color: #3e999f;">"aspell"</span>)
      (<span style="color: #718c00;">setq</span> ispell-program-name (executable-find <span style="color: #3e999f;">"aspell"</span>)
            ispell-extra-args '(<span style="color: #3e999f;">"--sug-mode=ultra"</span> <span style="color: #3e999f;">"--lang=en_US"</span>)))
     (t (<span style="color: #718c00;">setq</span> ispell-program-name nil)
        (message <span style="color: #3e999f;">"No aspell found!"</span>)))
    (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"H-$"</span> 'ispell-word)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9845f95" class="outline-4">
<h4 id="org9845f95"><span class="section-number-4">4.4.3.</span> Proselint</h4>
<div class="outline-text-4" id="text-4-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> <span style="color: #3e999f;">"flycheck-mode"</span>
  (<span style="color: #718c00;">flycheck-define-checker</span> proselint
    <span style="color: #8959a8;">"A linter for prose"</span>
    <span style="color: #8959a8;">:command</span> (<span style="color: #3e999f;">"proselint"</span> source-inplace)
    <span style="color: #8959a8;">:error-patterns</span>
    ((warning line-start (file-name) <span style="color: #3e999f;">":"</span> line <span style="color: #3e999f;">":"</span> column <span style="color: #3e999f;">": "</span>
              (id (one-or-more (not (any <span style="color: #3e999f;">" "</span>))))
              (message (one-or-more not-newline)
                       (zero-or-more <span style="color: #3e999f;">"\n"</span> (any <span style="color: #3e999f;">" "</span>) (one-or-more not-newline)))
              line-end))
    <span style="color: #8959a8;">:modes</span> (text-mode markdown-mode gfm-mode org-mode))
  (add-to-list 'flycheck-checkers 'proselint))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge92b7ab" class="outline-3">
<h3 id="orge92b7ab"><span class="section-number-3">4.5.</span> Buffers</h3>
<div class="outline-text-3" id="text-4-5">
</div>
<div id="outline-container-org42e4148" class="outline-4">
<h4 id="org42e4148"><span class="section-number-4">4.5.1.</span> Midnight Mode</h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
This mode looks at midnight and kills any inactive buffers. By
default, <i>inactive</i> means is any buffer untouched for three days.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">midnight</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:defer</span> 10)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4e656f6" class="outline-4">
<h4 id="org4e656f6"><span class="section-number-4">4.5.2.</span> IBuffer</h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
Use <code>ibuffer</code> instead of <code>list-buffers</code> for buffer management. The
most visible difference being the coloring that <code>ibuffer</code> uses.
</p>

<p>
I also squash any empty groups from being displayed and add hooks
to automatically set the filter groups and update contents.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-x C-b"</span> 'ibuffer)
  (<span style="color: #718c00;">setq</span> ibuffer-show-empty-filter-groups nil)

  (add-hook 'ibuffer-mode-hook
            #'(<span style="color: #718c00;">lambda</span> ()
                (ibuffer-auto-mode 1)
                (ibuffer-switch-to-saved-filter-groups <span style="color: #3e999f;">"Standard"</span>))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org011b28c"></a>Groups<br />
<div class="outline-text-5" id="text-4-5-2-1">
<p>
The buffer list splits into arbitrary groups for easier
management. Below I create an "Org" group for <code>org-mode</code> buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> ibuffer-saved-filter-groups
      '((<span style="color: #3e999f;">"Standard"</span>
         (<span style="color: #3e999f;">"Emacs"</span> (<span style="color: #718c00;">or</span> (filename . <span style="color: #3e999f;">".*bnb-emacs.*"</span>)
                      (mode . emacs-lisp-mode)))
         (<span style="color: #3e999f;">"Org"</span> (mode . org-mode))
         (<span style="color: #3e999f;">"Magit"</span> (name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*magit"</span>))
         (<span style="color: #3e999f;">"Mail"</span> (<span style="color: #718c00;">or</span> (mode . message-mode)
                     (mode . mail-mode)))
         (<span style="color: #3e999f;">"HTML"</span> (mode . html-mode))
         (<span style="color: #3e999f;">"Help"</span> (<span style="color: #718c00;">or</span> (name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*Help</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span>)
                     (name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*Apropos</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span>)
                     (name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*info</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span>))))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgefea926"></a>VC Grouping<br />
<div class="outline-text-6" id="text-4-5-2-1-1">
<p>
The <code>ibuffer-vc</code> package provides groups according to version
control sets. Here I setup a small keybinding to get to the
filtered vc groups.  The keys <code>/ R</code> will go back to the standard
view.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ibuffer-vc</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #8959a8;">:map</span> ibuffer-mode-map
        (<span style="color: #3e999f;">"/ v"</span> . ibuffer-vc-set-filter-groups-by-vc-root)))
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-orgbd47b56" class="outline-4">
<h4 id="orgbd47b56"><span class="section-number-4">4.5.3.</span> Unique Buffer Names</h4>
<div class="outline-text-4" id="text-4-5-3">
<p>
When editing files with the same name, but different location, a
unique identifier (based on path) is preferred over a number.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">uniquify</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> uniquify-buffer-name-style 'post-forward
        uniquify-separator <span style="color: #3e999f;">":"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org74baa33" class="outline-4">
<h4 id="org74baa33"><span class="section-number-4">4.5.4.</span> Relative line numbers</h4>
<div class="outline-text-4" id="text-4-5-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">linum-relative</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org84f7d7c" class="outline-3">
<h3 id="org84f7d7c"><span class="section-number-3">4.6.</span> Development</h3>
<div class="outline-text-3" id="text-4-6">
</div>
<div id="outline-container-orgf03e56a" class="outline-4">
<h4 id="orgf03e56a"><span class="section-number-4">4.6.1.</span> Check parens on save</h4>
<div class="outline-text-4" id="text-4-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-save-hook  'check-parens nil t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2c74f34" class="outline-4">
<h4 id="org2c74f34"><span class="section-number-4">4.6.2.</span> Eldoc</h4>
<div class="outline-text-4" id="text-4-6-2">
<p>
While developing, documentation is nice to have handy and
automatic.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'cperl-mode-hook 'turn-on-eldoc-mode)
(add-hook 'eshell-mode-hook 'turn-on-eldoc-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc025a4" class="outline-4">
<h4 id="orgdc025a4"><span class="section-number-4">4.6.3.</span> LSP</h4>
<div class="outline-text-4" id="text-4-6-3">
<p>
<a href="https://emacs-lsp.github.io/lsp-mode/">Language Server Protocol</a> support for Emacs lets us have a very
active and informed development process.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-M-i</td>
<td class="org-left">completion at point</td>
</tr>

<tr>
<td class="org-left">M-.</td>
<td class="org-left">Goto definition</td>
</tr>

<tr>
<td class="org-left">M-?</td>
<td class="org-left">Symbol references</td>
</tr>

<tr>
<td class="org-left">M-x</td>
<td class="org-left">Rename</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">lsp-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (lsp lsp-deferred)
  <span style="color: #8959a8;">:custom</span>
  (lsp-edoc-render-all t)
  (lsp-idle-delay 0.6)
  <span style="color: #8959a8;">:hook</span>
  ((lsp-mode . lsp-enable-which-key-integration)
   (lsp-mode . lsp-ui-mode)
   (html-mode . lsp)
   (json-mode . lsp)
   (lisp-mode . lsp)
   (python-mode . lsp)
   (r-mode . lsp)
   (racket-mode . lsp)
   (rust-mode . lsp)
   (sh-mode . lsp)
   (yaml-mode . lsp)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">lsp-ui</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> lsp-ui-mode
  <span style="color: #8959a8;">:custom</span>
  (lsp-ui-peek-always-show t)
  (lsp-ui-sideline-show-hover t)
  (lsp-ui-doc-enable nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0665c47" class="outline-4">
<h4 id="org0665c47"><span class="section-number-4">4.6.4.</span> Paredit</h4>
<div class="outline-text-4" id="text-4-6-4">
<p>
I added <code>paredit-mode</code> to several of the lisp modes that follow.
</p>

<p>
<a href="http://www.emacswiki.org/emacs/PareditCheatsheet">Paredit Cheatsheet</a>
</p>

<p>
<a href="http://danmidwood.com/content/2014/11/21/animated-paredit.html">Animated Paredit</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">paredit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#127824;"</span>
  <span style="color: #8959a8;">:commands</span> (paredit-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1534251" class="outline-4">
<h4 id="org1534251"><span class="section-number-4">4.6.5.</span> Paxedit</h4>
<div class="outline-text-4" id="text-4-6-5">
<p>
Maybe even <i>more</i> power for lisp coding?
<a href="https://github.com/promethial/paxedit">Paxedit repo</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">paxedit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#41024;"</span>
  <span style="color: #8959a8;">:commands</span> (paxedit-mode)
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"M-&lt;right&gt;"</span> . paxedit-transpose-forward)
  (<span style="color: #3e999f;">"M-&lt;left&gt;"</span>  . paxedit-transpose-backward)
  (<span style="color: #3e999f;">"M-&lt;up&gt;"</span>    . paxedit-backward-up)
  (<span style="color: #3e999f;">"M-&lt;down&gt;"</span>  . paxedit-backward-end)
  (<span style="color: #3e999f;">"M-b"</span>       . paxedit-previous-symbol)
  (<span style="color: #3e999f;">"M-f"</span>       . paxedit-next-symbol)
  (<span style="color: #3e999f;">"C-%"</span>       . paxedit-copy)
  (<span style="color: #3e999f;">"C-&amp;"</span>       . paxedit-kill)
  (<span style="color: #3e999f;">"C-*"</span>       . paxedit-delete)
  (<span style="color: #3e999f;">"C-^"</span>       . paxedit-sexp-raise)
  (<span style="color: #3e999f;">"M-u"</span>       . paxedit-symbol-change-case)
  (<span style="color: #3e999f;">"C-@"</span>       . paxedit-symbol-copy)
  (<span style="color: #3e999f;">"C-#"</span>       . paxedit-symbol-kill))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5945c1c" class="outline-4">
<h4 id="org5945c1c"><span class="section-number-4">4.6.6.</span> Show Paren</h4>
<div class="outline-text-4" id="text-4-6-6">
<p>
For any lisp development, the following is nice to have.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(show-paren-mode t)
(<span style="color: #718c00;">setq</span> show-paren-context-when-offscreen 'overlay)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcf2e607" class="outline-3">
<h3 id="orgcf2e607"><span class="section-number-3">4.7.</span> Organization</h3>
<div class="outline-text-3" id="text-4-7">
</div>
<div id="outline-container-orgc78fe19" class="outline-4">
<h4 id="orgc78fe19"><span class="section-number-4">4.7.1.</span> Project</h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
The built-in emacs package <code>project</code> replaces the projectile
functionality. Use <code>C-x p p</code> to navigate to a project and get started.
</p>

<p>
Useful key mappings
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Binding</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-x p p</code></td>
<td class="org-left">Find project</td>
</tr>

<tr>
<td class="org-left"><code>C-x p f</code></td>
<td class="org-left">Find file in project</td>
</tr>

<tr>
<td class="org-left"><code>C-x p b</code></td>
<td class="org-left">Find buffer in project</td>
</tr>

<tr>
<td class="org-left"><code>C-x p e</code></td>
<td class="org-left">Eshell in project</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div id="outline-container-orgae374a2" class="outline-2">
<h2 id="orgae374a2"><span class="section-number-2">5.</span> Major Modes</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org1e4a517" class="outline-3">
<h3 id="org1e4a517"><span class="section-number-3">5.1.</span> File Management</h3>
<div class="outline-text-3" id="text-5-1">
</div>
<div id="outline-container-org0ca672f" class="outline-4">
<h4 id="org0ca672f"><span class="section-number-4">5.1.1.</span> Dired</h4>
<div class="outline-text-4" id="text-5-1-1">
</div>
<ol class="org-ol">
<li><a id="org00d778a"></a>Basic Settings<br />
<div class="outline-text-5" id="text-5-1-1-1">
<p>
First, some basic dired settings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> dired-kill-when-opening-new-dired-buffer t
      dired-do-revert-buffer t
      dired-mark-region t)
</pre>
</div>

<p>
The first setting, <code>dired-kill-when-opening-new-dired-buffer</code> keeps
<code>dired</code> from littering little visited folder buffers along the way.
</p>

<p>
To automatically revert buffers upon detected changes,
<code>dired-do-revert-buffer</code> is set to <code>t</code>.
</p>

<p>
Marking commands can now act on regions with <code>dired-mark-region</code>
set to <code>t</code>. 
</p>
</div>
</li>

<li><a id="org3a81436"></a>Hacks<br />
<div class="outline-text-5" id="text-5-1-1-2">
<p>
These are part of the <a href="https://github.com/Fuco1/dired-hacks">dired-hacks repository</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-hacks-utils</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-filter</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:hook</span> (dired-mode . dired-filter-mode)
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c C-d f"</span> . dired-filter-mode)
  <span style="color: #8959a8;">:bind-keymap</span>
  (<span style="color: #3e999f;">"C-c C-f"</span> . dired-filter-map))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-rainbow</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">progn</span>
    (dired-rainbow-define-chmod directory <span style="color: #3e999f;">"#6cb2eb"</span> <span style="color: #3e999f;">"d.*"</span>)
    (dired-rainbow-define html <span style="color: #3e999f;">"#eb5286"</span> (<span style="color: #3e999f;">"css"</span> <span style="color: #3e999f;">"less"</span> <span style="color: #3e999f;">"sass"</span> <span style="color: #3e999f;">"scss"</span> <span style="color: #3e999f;">"htm"</span> <span style="color: #3e999f;">"html"</span> <span style="color: #3e999f;">"jhtm"</span> <span style="color: #3e999f;">"mht"</span> <span style="color: #3e999f;">"eml"</span> <span style="color: #3e999f;">"mustache"</span> <span style="color: #3e999f;">"xhtml"</span>))
    (dired-rainbow-define xml <span style="color: #3e999f;">"#f2d024"</span> (<span style="color: #3e999f;">"xml"</span> <span style="color: #3e999f;">"xsd"</span> <span style="color: #3e999f;">"xsl"</span> <span style="color: #3e999f;">"xslt"</span> <span style="color: #3e999f;">"wsdl"</span> <span style="color: #3e999f;">"bib"</span> <span style="color: #3e999f;">"json"</span> <span style="color: #3e999f;">"msg"</span> <span style="color: #3e999f;">"pgn"</span> <span style="color: #3e999f;">"rss"</span> <span style="color: #3e999f;">"yaml"</span> <span style="color: #3e999f;">"yml"</span> <span style="color: #3e999f;">"rdata"</span>))
    (dired-rainbow-define document <span style="color: #3e999f;">"#9561e2"</span> (<span style="color: #3e999f;">"docm"</span> <span style="color: #3e999f;">"doc"</span> <span style="color: #3e999f;">"docx"</span> <span style="color: #3e999f;">"odb"</span> <span style="color: #3e999f;">"odt"</span> <span style="color: #3e999f;">"pdb"</span> <span style="color: #3e999f;">"pdf"</span> <span style="color: #3e999f;">"ps"</span> <span style="color: #3e999f;">"rtf"</span> <span style="color: #3e999f;">"djvu"</span> <span style="color: #3e999f;">"epub"</span> <span style="color: #3e999f;">"odp"</span> <span style="color: #3e999f;">"ppt"</span> <span style="color: #3e999f;">"pptx"</span>))
    (dired-rainbow-define markdown <span style="color: #3e999f;">"#ffed4a"</span> (<span style="color: #3e999f;">"org"</span> <span style="color: #3e999f;">"etx"</span> <span style="color: #3e999f;">"info"</span> <span style="color: #3e999f;">"markdown"</span> <span style="color: #3e999f;">"md"</span> <span style="color: #3e999f;">"mkd"</span> <span style="color: #3e999f;">"nfo"</span> <span style="color: #3e999f;">"pod"</span> <span style="color: #3e999f;">"rst"</span> <span style="color: #3e999f;">"tex"</span> <span style="color: #3e999f;">"textfile"</span> <span style="color: #3e999f;">"txt"</span>))
    (dired-rainbow-define database <span style="color: #3e999f;">"#6574cd"</span> (<span style="color: #3e999f;">"xlsx"</span> <span style="color: #3e999f;">"xls"</span> <span style="color: #3e999f;">"csv"</span> <span style="color: #3e999f;">"accdb"</span> <span style="color: #3e999f;">"db"</span> <span style="color: #3e999f;">"mdb"</span> <span style="color: #3e999f;">"sqlite"</span> <span style="color: #3e999f;">"nc"</span>))
    (dired-rainbow-define media <span style="color: #3e999f;">"#de751f"</span> (<span style="color: #3e999f;">"mp3"</span> <span style="color: #3e999f;">"mp4"</span> <span style="color: #3e999f;">"MP3"</span> <span style="color: #3e999f;">"MP4"</span> <span style="color: #3e999f;">"avi"</span> <span style="color: #3e999f;">"mpeg"</span> <span style="color: #3e999f;">"mpg"</span> <span style="color: #3e999f;">"flv"</span> <span style="color: #3e999f;">"ogg"</span> <span style="color: #3e999f;">"mov"</span> <span style="color: #3e999f;">"mid"</span> <span style="color: #3e999f;">"midi"</span> <span style="color: #3e999f;">"wav"</span> <span style="color: #3e999f;">"aiff"</span> <span style="color: #3e999f;">"flac"</span>))
    (dired-rainbow-define image <span style="color: #3e999f;">"#f66d9b"</span> (<span style="color: #3e999f;">"tiff"</span> <span style="color: #3e999f;">"tif"</span> <span style="color: #3e999f;">"cdr"</span> <span style="color: #3e999f;">"gif"</span> <span style="color: #3e999f;">"ico"</span> <span style="color: #3e999f;">"jpeg"</span> <span style="color: #3e999f;">"jpg"</span> <span style="color: #3e999f;">"png"</span> <span style="color: #3e999f;">"psd"</span> <span style="color: #3e999f;">"eps"</span> <span style="color: #3e999f;">"svg"</span>))
    (dired-rainbow-define log <span style="color: #3e999f;">"#c17d11"</span> (<span style="color: #3e999f;">"log"</span>))
    (dired-rainbow-define shell <span style="color: #3e999f;">"#f6993f"</span> (<span style="color: #3e999f;">"awk"</span> <span style="color: #3e999f;">"bash"</span> <span style="color: #3e999f;">"bat"</span> <span style="color: #3e999f;">"sed"</span> <span style="color: #3e999f;">"sh"</span> <span style="color: #3e999f;">"zsh"</span> <span style="color: #3e999f;">"vim"</span>))
    (dired-rainbow-define interpreted <span style="color: #3e999f;">"#38c172"</span> (<span style="color: #3e999f;">"py"</span> <span style="color: #3e999f;">"ipynb"</span> <span style="color: #3e999f;">"rb"</span> <span style="color: #3e999f;">"pl"</span> <span style="color: #3e999f;">"t"</span> <span style="color: #3e999f;">"msql"</span> <span style="color: #3e999f;">"mysql"</span> <span style="color: #3e999f;">"pgsql"</span> <span style="color: #3e999f;">"sql"</span> <span style="color: #3e999f;">"r"</span> <span style="color: #3e999f;">"clj"</span> <span style="color: #3e999f;">"cljs"</span> <span style="color: #3e999f;">"scala"</span> <span style="color: #3e999f;">"js"</span>))
    (dired-rainbow-define compiled <span style="color: #3e999f;">"#4dc0b5"</span> (<span style="color: #3e999f;">"asm"</span> <span style="color: #3e999f;">"cl"</span> <span style="color: #3e999f;">"lisp"</span> <span style="color: #3e999f;">"el"</span> <span style="color: #3e999f;">"c"</span> <span style="color: #3e999f;">"h"</span> <span style="color: #3e999f;">"c++"</span> <span style="color: #3e999f;">"h++"</span> <span style="color: #3e999f;">"hpp"</span> <span style="color: #3e999f;">"hxx"</span> <span style="color: #3e999f;">"m"</span> <span style="color: #3e999f;">"cc"</span> <span style="color: #3e999f;">"cs"</span> <span style="color: #3e999f;">"cp"</span> <span style="color: #3e999f;">"cpp"</span> <span style="color: #3e999f;">"go"</span> <span style="color: #3e999f;">"f"</span> <span style="color: #3e999f;">"for"</span> <span style="color: #3e999f;">"ftn"</span> <span style="color: #3e999f;">"f90"</span> <span style="color: #3e999f;">"f95"</span> <span style="color: #3e999f;">"f03"</span> <span style="color: #3e999f;">"f08"</span> <span style="color: #3e999f;">"s"</span> <span style="color: #3e999f;">"rs"</span> <span style="color: #3e999f;">"hi"</span> <span style="color: #3e999f;">"hs"</span> <span style="color: #3e999f;">"pyc"</span> <span style="color: #3e999f;">".java"</span>))
    (dired-rainbow-define executable <span style="color: #3e999f;">"#8cc4ff"</span> (<span style="color: #3e999f;">"exe"</span> <span style="color: #3e999f;">"msi"</span>))
    (dired-rainbow-define compressed <span style="color: #3e999f;">"#51d88a"</span> (<span style="color: #3e999f;">"7z"</span> <span style="color: #3e999f;">"zip"</span> <span style="color: #3e999f;">"bz2"</span> <span style="color: #3e999f;">"tgz"</span> <span style="color: #3e999f;">"txz"</span> <span style="color: #3e999f;">"gz"</span> <span style="color: #3e999f;">"xz"</span> <span style="color: #3e999f;">"z"</span> <span style="color: #3e999f;">"Z"</span> <span style="color: #3e999f;">"jar"</span> <span style="color: #3e999f;">"war"</span> <span style="color: #3e999f;">"ear"</span> <span style="color: #3e999f;">"rar"</span> <span style="color: #3e999f;">"sar"</span> <span style="color: #3e999f;">"xpi"</span> <span style="color: #3e999f;">"apk"</span> <span style="color: #3e999f;">"xz"</span> <span style="color: #3e999f;">"tar"</span>))
    (dired-rainbow-define packaged <span style="color: #3e999f;">"#faad63"</span> (<span style="color: #3e999f;">"deb"</span> <span style="color: #3e999f;">"rpm"</span> <span style="color: #3e999f;">"apk"</span> <span style="color: #3e999f;">"jad"</span> <span style="color: #3e999f;">"jar"</span> <span style="color: #3e999f;">"cab"</span> <span style="color: #3e999f;">"pak"</span> <span style="color: #3e999f;">"pk3"</span> <span style="color: #3e999f;">"vdf"</span> <span style="color: #3e999f;">"vpk"</span> <span style="color: #3e999f;">"bsp"</span>))
    (dired-rainbow-define encrypted <span style="color: #3e999f;">"#ffed4a"</span> (<span style="color: #3e999f;">"gpg"</span> <span style="color: #3e999f;">"pgp"</span> <span style="color: #3e999f;">"asc"</span> <span style="color: #3e999f;">"bfe"</span> <span style="color: #3e999f;">"enc"</span> <span style="color: #3e999f;">"signature"</span> <span style="color: #3e999f;">"sig"</span> <span style="color: #3e999f;">"p12"</span> <span style="color: #3e999f;">"pem"</span>))
    (dired-rainbow-define fonts <span style="color: #3e999f;">"#6cb2eb"</span> (<span style="color: #3e999f;">"afm"</span> <span style="color: #3e999f;">"fon"</span> <span style="color: #3e999f;">"fnt"</span> <span style="color: #3e999f;">"pfb"</span> <span style="color: #3e999f;">"pfm"</span> <span style="color: #3e999f;">"ttf"</span> <span style="color: #3e999f;">"otf"</span>))
    (dired-rainbow-define partition <span style="color: #3e999f;">"#e3342f"</span> (<span style="color: #3e999f;">"dmg"</span> <span style="color: #3e999f;">"iso"</span> <span style="color: #3e999f;">"bin"</span> <span style="color: #3e999f;">"nrg"</span> <span style="color: #3e999f;">"qcow"</span> <span style="color: #3e999f;">"toast"</span> <span style="color: #3e999f;">"vcd"</span> <span style="color: #3e999f;">"vmdk"</span> <span style="color: #3e999f;">"bak"</span>))
    (dired-rainbow-define vc <span style="color: #3e999f;">"#0074d9"</span> (<span style="color: #3e999f;">"git"</span> <span style="color: #3e999f;">"gitignore"</span> <span style="color: #3e999f;">"gitattributes"</span> <span style="color: #3e999f;">"gitmodules"</span>))
    (dired-rainbow-define-chmod executable-unix <span style="color: #3e999f;">"#38c172"</span> <span style="color: #3e999f;">"-.*x.*"</span>)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-narrow</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> dired-mode-map
              (<span style="color: #3e999f;">"C-c C-d n"</span> . dired-narrow-fuzzy)
              (<span style="color: #3e999f;">"C-c C-d r"</span> . dired-narrow-regexp))
  <span style="color: #8959a8;">:ensure</span> t)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-collapse</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c C-d c"</span> . dired-collapse-mode)
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>

<p>
Also, there is a nice faculty to run an external command on a given
file with <code>=!=</code>.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org9025f62" class="outline-4">
<h4 id="org9025f62"><span class="section-number-4">5.1.2.</span> Neotree</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
Neotree is a file sidebar for navigation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">neotree</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (neotree)
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"H-t"</span> . neotree-toggle)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> neo-theme (<span style="color: #718c00;">if</span> (display-graphic-p) 'icons 'arrow)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc08aee" class="outline-4">
<h4 id="orgdc08aee"><span class="section-number-4">5.1.3.</span> OSX Dictionary</h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
Search <code>Dictionary.app</code> from the comfort of an Emacs buffer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">osx-dictionary</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c d"</span> . osx-dictionary-search-word-at-point)
  (<span style="color: #3e999f;">"C-c i"</span> . osx-dictionary-search-input))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0405402" class="outline-4">
<h4 id="org0405402"><span class="section-number-4">5.1.4.</span> OSX Reveal</h4>
<div class="outline-text-4" id="text-5-1-4">
<p>
Show files in finder.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">reveal-in-osx-finder</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"C-c z"</span> . reveal-in-osx-finder))
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgfcb70c2" class="outline-3">
<h3 id="orgfcb70c2"><span class="section-number-3">5.2.</span> Documents</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-orgd6cff71" class="outline-4">
<h4 id="orgd6cff71"><span class="section-number-4">5.2.1.</span> AucTeX</h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
<a href="https://www.gnu.org/software/auctex/manual/auctex/index.html">AUCTeX Manual</a>
</p>

<p>
Superb handling of TeX documents.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">auctex</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:after</span> org
  <span style="color: #8959a8;">:elpaca</span> (auctex <span style="color: #8959a8;">:pre-build</span> ((<span style="color: #3e999f;">"./autogen.sh"</span>)
                              (<span style="color: #3e999f;">"./configure"</span> <span style="color: #3e999f;">"--without-texmf-dir"</span> <span style="color: #3e999f;">"--with-lispdir=."</span>)
                              (<span style="color: #3e999f;">"make"</span>)))
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:mode</span> ((<span style="color: #3e999f;">"\\.tex\\'"</span> . LaTeX-mode)
         (<span style="color: #3e999f;">"\\.tex\\.erb\\'"</span> . LaTeX-mode)
         (<span style="color: #3e999f;">"\\.etx\\'"</span> . LaTeX-mode))
  <span style="color: #8959a8;">:hook</span> ((LaTeX-mode . flyspell-mode)
         (LaTeX-mode . LaTeX-math-mode)
         (LaTeX-mode . auto-fill-mode)
         (LaTeX-mode . orgtbl-mode)
         (doc-view-mode . auto-revert-mode))
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> TeX-auto-untabify t
        TeX-auto-save t
        TeX-save-query nil
        TeX-parse-self t
        TeX-output-view-style
        (<span style="color: #718c00;">if</span> (eq system-type 'windows-nt)
            (<span style="color: #718c00;">quote</span>
             ((<span style="color: #3e999f;">"^pdf$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"SumatraPDF.exe -reuse-instance %o"</span>)
              (<span style="color: #3e999f;">"^html?$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"start %o"</span>)))
          (<span style="color: #718c00;">quote</span>
           ((<span style="color: #3e999f;">"^pdf$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"evince -f %o"</span>)
            (<span style="color: #3e999f;">"^html?$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"start %o"</span>))))
        TeX-command-extra-options <span style="color: #3e999f;">"-shell-escape"</span>
        TeX-PDF-mode 1
        TeX-engine 'xetex)
  (<span style="color: #718c00;">setq-default</span> TeX-master nil)
  (<span style="color: #718c00;">setq-default</span> TeX-global-PDF-mode 1)
  (add-to-list 'org-latex-packages-alist
               '(<span style="color: #3e999f;">""</span> <span style="color: #3e999f;">"tikz"</span> t))
  (add-to-list 'org-latex-packages-alist
               '(<span style="color: #3e999f;">""</span> <span style="color: #3e999f;">"minted"</span> t))
  (<span style="color: #718c00;">setq</span> org-latex-create-formula-image-program 'imagemagick)
  (eval-after-load <span style="color: #3e999f;">"preview"</span>
    '(add-to-list 'preview-default-preamble <span style="color: #3e999f;">"\\PreviewEnvironment{tikzpicture}"</span> t)))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgd856b8e"></a>RefTeX<br />
<div class="outline-text-5" id="text-5-2-1-1">
<p>
<a href="https://www.gnu.org/software/auctex/manual/reftex/index.html">RefTeX Manual</a>
</p>

<p>
RefTeX provides navigation, easy references, easy citations and
integrates well into AUCTeX.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'LaTeX-mode-hook 'turn-on-reftex)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keystroke</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c =</td>
<td class="org-left">Show TOC and jump to sections</td>
</tr>

<tr>
<td class="org-left">C-c (</td>
<td class="org-left">Insert a label</td>
</tr>

<tr>
<td class="org-left">C-c )</td>
<td class="org-left">Reference a label</td>
</tr>

<tr>
<td class="org-left">C-c [</td>
<td class="org-left">Insert a citation (from BibTex db)</td>
</tr>

<tr>
<td class="org-left">C-c &lt;</td>
<td class="org-left">Index entry</td>
</tr>

<tr>
<td class="org-left">C-c &gt;</td>
<td class="org-left">View index</td>
</tr>

<tr>
<td class="org-left">C-c &amp;</td>
<td class="org-left">View crossref</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org7e27628"></a>TeX Settings<br />
<div class="outline-text-5" id="text-5-2-1-2">
<p>
Here are some nice features to have enabled.  Parse-self and
auto-save will parse the file on load and save
respectively. Untabify will remove tabs (real ones) before
saving.
</p>

<p>
I also have a default of <code>TeX-master</code> set to <code>nil</code>. I used to have it
set to "master" as recommended in the documentation, but I had
bad results for LaTeX files generated on the fly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>

<p>
For viewing the output, I can specify the command to use on the
files generated in the process. However, the programs differ on
GNU/Linux and Windows, so I have differing settings below.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</li>

<li><a id="org4c626d4"></a>XeTeX settings<br />
<div class="outline-text-5" id="text-5-2-1-3">
<p>
To get more beautiful fonts, I use the XeTeX processor. I also
use this in PDF mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</li>

<li><a id="org872ba62"></a>DocView<br />
<div class="outline-text-5" id="text-5-2-1-4">
<p>
Have <code>docview</code> automatically revert the buffer.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-orga66b286" class="outline-4">
<h4 id="orga66b286"><span class="section-number-4">5.2.2.</span> Markdown</h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Everything can't be as nice as org-mode. Oh well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">markdown-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (markdown-mode gfm-mode)
  <span style="color: #8959a8;">:mode</span> ((<span style="color: #3e999f;">"README\\.md\\'"</span> . gfm-mode)
         (<span style="color: #3e999f;">"\\.md\\'"</span> . markdown-mode)
         (<span style="color: #3e999f;">"\\.markdown\\'"</span> . markdown-mode))
  <span style="color: #8959a8;">:init</span> (<span style="color: #718c00;">setq</span> markdown-command <span style="color: #3e999f;">"multimarkdown"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfac8217" class="outline-4">
<h4 id="orgfac8217"><span class="section-number-4">5.2.3.</span> Orgmode</h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
The one feature I cannot do without. Let's set up some basics.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-mode</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:ensure</span> org
  <span style="color: #8959a8;">:delight</span> (org-mode <span style="color: #3e999f;">"&#129412;"</span> <span style="color: #8959a8;">:major</span>)
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.org</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">.gpg|_archive</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">?\\'"</span>
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c t"</span>  . orgtbl-mode)
  (<span style="color: #3e999f;">"C-c l"</span>  . org-store-link)
  (<span style="color: #3e999f;">"C-c r"</span>  . org-capture)
  (<span style="color: #3e999f;">"C-c b"</span>  . org-iswitchb)
  (<span style="color: #3e999f;">"&lt;f12&gt;"</span>  . org-agenda)
  (<span style="color: #3e999f;">"H-z"</span>    . org-agenda)
  (<span style="color: #3e999f;">"H-g"</span>    . org-mac-grab-link)
  (<span style="color: #3e999f;">"&lt;apps&gt;"</span> . org-agenda)
  (<span style="color: #3e999f;">"&lt;f9&gt; v"</span> . visible-mode)
  (<span style="color: #3e999f;">"&lt;f9&gt; g"</span> . org-clock-goto)
  (<span style="color: #3e999f;">"&lt;f9&gt; i"</span> . org-clock-in)
  (<span style="color: #3e999f;">"&lt;f9&gt; o"</span> . org-clock-out)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-i"</span> 'org-toggle-inline-images org-mode-map)
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-c ,"</span>  'org-insert-structure-template org-mode-map)
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-c ,"</span>  'org-insert-structure-template org-mode-map)
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-o"</span> 'ace-link-org org-mode-map)
  <span style="color: #8959a8;">:hook</span> (org-babel-after-execute . (<span style="color: #718c00;">lambda</span> () (org-display-inline-images t t))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org6f0424e"></a>Orgmode Initialization<br />
<div class="outline-text-5" id="text-5-2-3-1">
<p>
Here are the initial settings that will invoke org-mode or need
to be set when it is loaded.
</p>
</div>

<ol class="org-ol">
<li><a id="org0cf7c22"></a>Additional modules<br />
<div class="outline-text-6" id="text-5-2-3-1-1">
<p>
There are now some Orgmode features that are not included by
default. In this section, I enable them.
</p>
</div>

<ol class="org-ol">
<li><a id="org19e8a54"></a>Info Links<br />
<div class="outline-text-7" id="text-5-2-3-1-1-1">
<p>
Loading the <code>ol-info</code> library provides the support for info node
links.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ol-info</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:after</span> org-mode)
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</li>

<li><a id="orgbd32812"></a>Auto mode<br />
<div class="outline-text-5" id="text-5-2-3-2">
<p>
I add <code>gpg</code> and <code>_archive</code> to the list of known org files. These two
alternative extensions are for either encrypted org files
(<code>.org.gpg</code>) or for archives (<code>.org_archive</code>).
</p>

<p>
This mode is set above with <code>use-package</code>.
</p>
</div>
</li>

<li><a id="orgd40a3aa"></a>Hooks<br />
<div class="outline-text-5" id="text-5-2-3-3">
<p>
There are three hooks to consider. These are initialized in
<a href="#org6f0424e">5.2.3.1</a>. First, I add in a keystroke to toggle
the inline images.
</p>

<p>
The next hook just saves the org files opened before exiting
emacs &#x2013; just in case.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (add-hook 'bnb/kill-emacs-hooks 'org-save-all-org-buffers 'append))
</pre>
</div>

<p>
The final hook shows images automatically. When I execute <code>babel</code>
to get graphs from my work logs, I hate having to toggle the
inline images on/off again.  Here is a hook from Rick Frankel to
save the day.
</p>
</div>
</li>

<li><a id="org87c1484"></a>Keys<br />
<ol class="org-ol">
<li><a id="org72df6cd"></a>Global<br />
<div class="outline-text-6" id="text-5-2-3-4-1">
<p>
Some org-mode features are so useful that I need to have them be
available globally.
</p>

<ul class="org-ul">
<li>orgtbl-mode
Use orgtbl in other modes
<ul class="org-ul">
<li>org-store-link
Store a link (context-aware) to the current location
<ul class="org-ul">
<li><p>
org-agenda
Launch the agenda
</p>
<ul class="org-ul">
<li>org-capture</li>
</ul>
<p>
Capture a task/note
</p>
<ul class="org-ul">
<li>org-iswitchb</li>
</ul>
<p>
Switch org buffers
</p>
<ul class="org-ul">
<li>visible-mode</li>
</ul>
<p>
Show the file as-is (no special org handling)
</p>
<ul class="org-ul">
<li>org-clock-in/org-clock-out</li>
</ul>
<p>
Clock in/out of current subtree
</p></li>
</ul></li>
</ul></li>
</ul>
</div>
</li>

<li><a id="org9a708e1"></a>Speed<br />
<div class="outline-text-6" id="text-5-2-3-4-2">
<p>
Using org-mode efficiently for task management is best done with
speed keys. This are in effect when the cursor is on the first <code>*</code>
of a headline. And they come with an easy cheat-sheet by typing
<code>?</code>. I enable this feature and add some of my own commands.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">setq</span> org-use-speed-commands t
  org-speed-commands
  (append org-speed-commands
    (<span style="color: #718c00;">quote</span> ((<span style="color: #3e999f;">"BNB Additions"</span>)
      (<span style="color: #3e999f;">"0"</span> . delete-window)
      (<span style="color: #3e999f;">"1"</span> . delete-other-windows)
      (<span style="color: #3e999f;">"2"</span> . split-window-vertically)
      (<span style="color: #3e999f;">"3"</span> . split-window-horizontally)
      (<span style="color: #3e999f;">"z"</span> . org-add-note)
      (<span style="color: #3e999f;">"h"</span> . hide-other)
      (<span style="color: #3e999f;">"."</span> . org-save-all-org-buffers)
      (<span style="color: #3e999f;">"/"</span> . org-global-cycle))))))
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgceb3062"></a>Org TODO Configuration<br />
<div class="outline-text-5" id="text-5-2-3-5">
<p>
This is the meat of what Org can do. Keeping track of todo items
with due dates, tags, etc. is really powerful. And I get to
customize it to suit my needs and my workflow.
</p>
</div>

<ol class="org-ol">
<li><a id="org2c0e1df"></a>Keywords<br />
<div class="outline-text-6" id="text-5-2-3-5-1">
<p>
The keywords that org uses in the headlines exist as sequences
describing the state changes. <a href="https://orgmode.org/manual/Workflow-states.html">The sequences</a> describe how you can
cycle through the different states. However, I don't cycle
through states and just select them. I find that is better for
the large list of possibilities here.
</p>

<p>
The characters in <code>()</code> also allow fast access to these states
described <a href="https://orgmode.org/manual/Fast-access-to-TODO-states.html">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">setq</span> org-todo-keywords
  (<span style="color: #718c00;">quote</span> ((sequence <span style="color: #3e999f;">"TODO(t)"</span> <span style="color: #3e999f;">"NEXT(n)"</span> <span style="color: #3e999f;">"|"</span> <span style="color: #3e999f;">"DONE(d!/!)"</span>)
    (sequence <span style="color: #3e999f;">"WAITING(w@/!)"</span> <span style="color: #3e999f;">"SOMEDAY(s!)"</span> <span style="color: #3e999f;">"|"</span> <span style="color: #3e999f;">"CANCELED(c@/!)"</span>)
    (sequence <span style="color: #3e999f;">"CANCELED(c@/!)"</span>)))))
</pre>
</div>

<p>
I used to set <a href="(describe-variable 'org-todo-keyword-faces)">org-todo-keyword-faces</a>, but now I rely on theme
settings.
</p>
</div>
</li>

<li><a id="org4988bd3"></a>Tags<br />
<div class="outline-text-6" id="text-5-2-3-5-2">
<p>
Org uses tags on headlines for organization. I don't currently
use them much. I organize mainly by file with a file tag
specified via <a href="https://orgmode.org/manual/In_002dbuffer-Settings.html">in-buffer settings</a> (<code>#+FILETAGS</code>).
</p>

<p>
However, a global tag list provides a selection list for the
tagging interface. I use 'project' as my tag to easily
differentiate simple tasks from more complex ones.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">setq</span> org-tag-alist '((<span style="color: #3e999f;">"PROJECT"</span> . ?p))))
</pre>
</div>
</div>
</li>

<li><a id="org0c384dd"></a>Mechanics<br />
<div class="outline-text-6" id="text-5-2-3-5-3">
<p>
The todo interface allows easy selection of states and triggers
on certain states to store notes.
</p>

<p>
Instead of cycling through states (and possibly triggering log
entries), I prefer fast entry to jump right to the correct
state. I also turn off the S-cursor transitions as state changes
to avoid the logging prompts.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">setq</span> org-use-fast-todo-selection t
        org-treat-S-cursor-todo-selection-as-state-change nil))
</pre>
</div>

<p>
Upon changing the state of todo items, I can automatically
add/remove tags with the following list. It's a bit lispy, but
describes what happens upon entry in the specified state. The
state named as a string has tuples of tags and flags. 't'
indicates to set the flag, empty means to remove it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">setq</span> org-todo-state-tags-triggers
        (<span style="color: #718c00;">quote</span> ((<span style="color: #3e999f;">"CANCELED"</span>
                 (<span style="color: #3e999f;">"CANCELED"</span> . t))
                (<span style="color: #3e999f;">"WAITING"</span>
                 (<span style="color: #3e999f;">"WAITING"</span> . t))
                (<span style="color: #3e999f;">"SOMEDAY"</span>
                 (<span style="color: #3e999f;">"SOMEDAY"</span> . t))
                (done
                 (<span style="color: #3e999f;">"WAITING"</span>))
                (<span style="color: #3e999f;">"TODO"</span>
                 (<span style="color: #3e999f;">"WAITING"</span>)
                 (<span style="color: #3e999f;">"CANCELED"</span>))
                (<span style="color: #3e999f;">"NEXT"</span>
                 (<span style="color: #3e999f;">"WAITING"</span>))
                (<span style="color: #3e999f;">"DONE"</span>
                 (<span style="color: #3e999f;">"WAITING"</span>)
                 (<span style="color: #3e999f;">"CANCELED"</span>))))))
</pre>
</div>

<p>
Along with tags and states are priorities. I do not use task
priorities myself so I turn them off.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">setq</span> org-enable-priority-commands nil))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orga117281"></a>Logging<br />
<div class="outline-text-7" id="text-5-2-3-5-3-1">
<p>
Org allows logging of states. I turn this on to prompt myself
for reasons behind specific state changes. There is also a
setting to set a different drawer for clocking and logs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">setq</span> org-log-done (<span style="color: #718c00;">quote</span> note)
        org-log-redeadline (<span style="color: #718c00;">quote</span> time)
        org-log-reschedule (<span style="color: #718c00;">quote</span> time)
        org-log-into-drawer t
        org-drawers '(<span style="color: #3e999f;">"PROPERTIES"</span> <span style="color: #3e999f;">"LOGBOOK"</span> <span style="color: #3e999f;">"CLOCK"</span>)))
</pre>
</div>
</div>
</li>

<li><a id="orgd9bc085"></a>Sub-tasks<br />
<div class="outline-text-7" id="text-5-2-3-5-3-2">
<p>
Naturally, some tasks are projects composed of smaller
sub-tasks. Org allows for this as well. I like to enforce the
dependencies of regular todo items and plain checkbox
lists. In this way, the overall item cannot change to done
without the completion of the sub-tasks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">setq</span> org-enforce-todo-checkbox-dependencies t
        org-enforce-todo-dependencies t))
</pre>
</div>

<p>
Because of the previous enforcement of state, I can also
automatically infer when a parent state is complete. The
following code marks the parent complete once the sub-tasks
are all done.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">org-summary-todo</span> (n-done n-not-done)
    <span style="color: #8959a8;">"Switch entry to DONE when all sub-entries are done, to TODO otherwise."</span>
    (<span style="color: #718c00;">let</span> (org-log-done org-log-states)
      (org-todo (<span style="color: #718c00;">if</span> (= n-not-done 0) <span style="color: #3e999f;">"DONE"</span> <span style="color: #3e999f;">"TODO"</span>))))
  (add-hook 'org-after-todo-statistics-hook 'org-summary-todo))
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</li>

<li><a id="org497d55a"></a>Capture<br />
<div class="outline-text-5" id="text-5-2-3-6">
<p>
<a href="https://orgmode.org/manual/Capture.html">Capturing</a> is crucial to a task system and in this vein, org is no
slouch. The capture templates define what get captures, where it
goes, and what the user needs to type.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-capture-templates
      '((<span style="color: #3e999f;">"t"</span> <span style="color: #3e999f;">"Todo"</span> entry
         (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* TODO %?\n  %U\n%^{Score}p"</span> <span style="color: #8959a8;">:clock-in</span> t <span style="color: #8959a8;">:clock-resume</span> t)
        (<span style="color: #3e999f;">"r"</span> <span style="color: #3e999f;">"todo (Remember location)"</span> entry
         (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* TODO %?\n  %U\n  %a"</span> <span style="color: #8959a8;">:clock-in</span> t <span style="color: #8959a8;">:clock-resume</span> t)
        (<span style="color: #3e999f;">"n"</span> <span style="color: #3e999f;">"Note"</span> entry
         (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* %?                                                                            :NOTE:\n  %U\n  %a\n  :CLOCK:\n  :END:"</span>)
        (<span style="color: #3e999f;">"c"</span> <span style="color: #3e999f;">"Capture current TODO mix in table"</span> table-line (file+headline <span style="color: #3e999f;">"~/Documents/Org/WeeklyReports.org"</span> <span style="color: #3e999f;">"Burndown"</span>)
         <span style="color: #3e999f;">"%(bnb/org-count-tasks-by-status)"</span>)
        (<span style="color: #3e999f;">"s"</span> <span style="color: #3e999f;">"Capture Weekly Score in table"</span> table-line (file+headline <span style="color: #3e999f;">"~/Documents/Org/WeeklyReports.org"</span> <span style="color: #3e999f;">"Scores"</span>)
         <span style="color: #3e999f;">"%(bnb/add-weekly-score-table-entry)"</span>)
        (<span style="color: #3e999f;">"e"</span> <span style="color: #3e999f;">"Capture Weekly time in table"</span> table-line (file+headline <span style="color: #3e999f;">"~/Documents/Org/WeeklyReports.org"</span> <span style="color: #3e999f;">"Minutes"</span>)
         <span style="color: #3e999f;">"%(bnb/org-time-logged-table-entry)"</span>)
        (<span style="color: #3e999f;">"u"</span> <span style="color: #3e999f;">"Url"</span> entry (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* TODO %?\n  %U\n\n  %(org-mac-chrome-get-frontmost-url)"</span>)
        (<span style="color: #3e999f;">"m"</span> <span style="color: #3e999f;">"Mail"</span> entry (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* TODO %?\n  %U\n\n  %(org-mac-message-get-links \"s\")"</span>)))
</pre>
</div>

<p>
There are five main capture templates here. The first two store a
todo item in my Refile.org file. The only difference is automatic
(contextual) link storage in the second case.
</p>

<p>
The next item simply stores a note. The next for "Weekly Report"
is a work in progress. I think that I'll have to either settle
for a proper datetree or write a custom function.
</p>

<p>
The final item is not for direct use, but through the
<code>org-protocol</code> interface and <code>org-outlook</code> usage. This lets me add a
link to an Outlook message on windows. I can then get an email at
work, mark it to store in emacs and quickly get back to the
message later.
</p>
</div>

<ol class="org-ol">
<li><a id="orgf6a33d1"></a>Capture-template helpers for data tables<br />
<div class="outline-text-6" id="text-5-2-3-6-1">
<p>
These helpers provide functionality used in the capture templates
above.
</p>

<p>
Modified from <a href="http://sachachua.com/blog/2014/05/getting-r-ggplot2-work-emacs-org-mode-babel-blocks-also-tracking-number-todos/">Sacha Chua</a>, this code get the current mix of tasks
in the agenda files. I use this as part of my weekly review for
task amount and mix at a glance.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-count-tasks-by-status</span> ()
  <span style="color: #8959a8;">"Create a table entry for the tracking of task mix."</span>
  (<span style="color: #718c00;">interactive</span>)
  (<span style="color: #718c00;">let</span> ((counts (make-hash-table <span style="color: #8959a8;">:test</span> 'equal))
        (today (format-time-string <span style="color: #3e999f;">"%Y-%m-%d"</span> (current-time)))
        values output)
    (org-map-entries
     (<span style="color: #718c00;">lambda</span> ()
       (<span style="color: #718c00;">let</span> ((status (elt (org-heading-components) 2)))
         (<span style="color: #718c00;">when</span> status
           (puthash status (1+ (<span style="color: #718c00;">or</span> (gethash status counts) 0)) counts))))
     <span style="color: #3e999f;">"-HOME"</span>
     'agenda)
    (<span style="color: #718c00;">setq</span> values (mapcar (<span style="color: #718c00;">lambda</span> (x)
                           (<span style="color: #718c00;">or</span> (gethash x counts) 0))
                         '(<span style="color: #3e999f;">"DONE"</span> <span style="color: #3e999f;">"TODO"</span> <span style="color: #3e999f;">"WAITING"</span> <span style="color: #3e999f;">"CANCELLED"</span> <span style="color: #3e999f;">"SOMEDAY"</span>)))
    (<span style="color: #718c00;">setq</span> output
          (concat <span style="color: #3e999f;">"| "</span> today <span style="color: #3e999f;">" | "</span>
                  (mapconcat 'number-to-string values <span style="color: #3e999f;">" | "</span>)
                  <span style="color: #3e999f;">" | "</span>
                  (number-to-string (apply '+ values))
                  <span style="color: #3e999f;">" | "</span>
                  (number-to-string
                   (round (/ (* 100.0 (car values)) (apply '+ values))))
                  <span style="color: #3e999f;">"% |"</span>))
    (<span style="color: #718c00;">if</span> (called-interactively-p 'any)
        (insert output)
      output)))
</pre>
</div>

<p>
I also have a helper function to get the score of done tasks
closed within the last week.  I store this in a table line with
year and workweek number.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/add-weekly-score-table-entry</span> ()
  <span style="color: #8959a8;">"Track my weekly scores in a table."</span>
  (<span style="color: #718c00;">let</span> ((score (apply
                '+
                (org-map-entries
                 (<span style="color: #718c00;">lambda</span> ()
                   (string-to-number (<span style="color: #718c00;">or</span> (org-entry-get (point) <span style="color: #3e999f;">"Score"</span>) <span style="color: #3e999f;">"0"</span>)))
                 <span style="color: #3e999f;">"/DONE"</span>
                 'agenda)))
        (year (format-time-string <span style="color: #3e999f;">"%Y"</span> (current-time)))
        (ww (number-to-string (bnb/workweek))))
    (format <span style="color: #3e999f;">"| %s | %s | %s |"</span> year ww score)))
</pre>
</div>

<p>
How about the hours logged last week? Let's give that a go.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-time-logged-table-entry</span> (<span style="color: #4271ae;">&amp;optional</span> additional-weeks)
  <span style="color: #8959a8;">"Insert table of minutes per category.</span>
<span style="color: #8959a8;">  Optionally provide ADDITIONAL-WEEKS to get more history"</span>
  (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span>)
  (<span style="color: #718c00;">unless</span> additional-weeks (<span style="color: #718c00;">setq</span> additional-weeks 0))
  (<span style="color: #718c00;">let*</span> ((minh (make-hash-table <span style="color: #8959a8;">:test</span> 'equal))
         (now (decode-time))
         (start (encode-time 0 0 0 (- (nth 3 now) (nth 6 now) (* 7 (<span style="color: #718c00;">or</span> additional-weeks 1))) (nth 4 now) (nth 5 now)))
         (today (format-time-string <span style="color: #3e999f;">"%Y-%m-%d"</span> (current-time))))
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Collect minutes clocked per category</span>
    (org-map-entries
     (<span style="color: #718c00;">lambda</span> ()
       (<span style="color: #718c00;">let</span> ((category (org-entry-get-with-inheritance <span style="color: #3e999f;">"CATEGORY"</span> t))
             (minutes (org-clock-sum-current-item start)))
         (puthash category (+ minutes
                              (<span style="color: #718c00;">or</span> (gethash category minh) 0)) <span style="color: #c82829; font-weight: bold;">minh)))</span>
     <span style="color: #3e999f;">"LEVEL=1"</span>
     'agenda)
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Print out table lines</span>
    (<span style="color: #718c00;">let</span> ((rows nil))
      (maphash
       (<span style="color: #718c00;">lambda</span> (k v)
         (<span style="color: #718c00;">when</span> (&gt; v 0)
           (<span style="color: #718c00;">setq</span> rows
                 (cons (format <span style="color: #3e999f;">"| %s | %s | %d |"</span> today k v) rows))))
       minh)
      (<span style="color: #718c00;">if</span> (called-interactively-p 'any)
          (insert (mapconcat 'identity rows <span style="color: #3e999f;">"\n"</span>))
        (mapconcat 'identity rows <span style="color: #3e999f;">"\n"</span>)))))
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgc03b7fe"></a>Refile<br />
<div class="outline-text-5" id="text-5-2-3-7">
<p>
<a href="https://orgmode.org/manual/Refiling-and-Archiving.html">Refiling notes</a> is also spectacular with Org. That is what makes
it possible for me to simply put every captured item into
Refile.org and worry about organization later.
</p>

<p>
For my setup, I use separate files that hold a singular Tasks
headline. Because of that, I turn on caching first.
</p>

<p>
For the refile targets, I will allow up to 2 levels of search for
filing in any of the agenda files. For refiling within the
current file, I set the max to five levels. Anything deeper than
six levels will exhaust the depth of my thought.
</p>

<p>
The refiling system is set to <code>confirm</code> creation of parent
nodes. This allows me to not only refile, but create along the
way for faster organization.
</p>

<p>
Finally, I set the filenames to be first for refiling.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-refile-use-cache t
      org-refile-targets '((org-agenda-files <span style="color: #8959a8;">:maxlevel</span> . 2)
                           (nil <span style="color: #8959a8;">:maxlevel</span> . 5))
      org-refile-allow-creating-parent-nodes 'confirm
      org-refile-use-outline-path 'file)
</pre>
</div>
</div>
</li>

<li><a id="orga80781d"></a>Agenda<br />
<div class="outline-text-5" id="text-5-2-3-8">
<p>
Once I have captured and refiled my tasks, I need to remember to
do them and see what is on the agenda. The ways to view the tasks
at hand are nicely programmable.
</p>

<p>
Some basic settings control small tidbits in the agenda. I turn
on tags in the agenda line, show the logged items for the day,
and only show a time grid if a scheduled tasks exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-agenda-show-inherited-tags t
      org-agenda-log-mode-items '(clock)
      org-agenda-clockreport-parameter-plist '(<span style="color: #8959a8;">:link</span> nil <span style="color: #8959a8;">:maxlevel</span> 2 <span style="color: #8959a8;">:fileskip0</span> t)
      <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">org-agenda-block-separator ?&#9476;</span>
      org-agenda-block-separator nil
      org-agenda-dim-blocked-tasks nil
      org-agenda-inhibit-startup t
      org-agenda-breadcrumbs-separator <span style="color: #3e999f;">" &#10097; "</span>)
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org3e436e7"></a>Category Icons<br />
<div class="outline-text-6" id="text-5-2-3-8-1">
<p>
Org-mode can show category icons in some agenda views. The
underlying setting is just an <code>alist</code> of categories and the icons
to use.
</p>

<p>
These are set in <a href="#orge62e695">All the icons</a>.
</p>
</div>
</li>

<li><a id="org93913b1"></a>Views<br />
<div class="outline-text-6" id="text-5-2-3-8-2">
<p>
The key to knowing what work there is the agenda views. These
provide a landscape to list, filter or manipulate
tasks. <code>org-agenda-custom-commands</code> defines which views are
available by default.
</p>

<p>
First, I define a little helper function (from Sacha Chua) to
display a note with agenda.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-agenda-with-tip</span> (arg)
  <span style="color: #8959a8;">"Show agenda for ARG days."</span>
  (org-agenda-list arg)
  (<span style="color: #718c00;">let</span> ((inhibit-read-only t)
        (pos (point)))
    (goto-char (point-max))
    (goto-char pos)))
</pre>
</div>

<p>
WIP from: <a href="https://github.com/fniessen/emacs-leuven/blob/master/org-custom-agenda-views.el">https://github.com/fniessen/emacs-leuven/blob/master/org-custom-agenda-views.el</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Reset everything to nil</span>
(<span style="color: #718c00;">setq</span> org-agenda-custom-commands nil)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"o"</span> <span style="color: #3e999f;">"My Agenda"</span>
   ((todo <span style="color: #3e999f;">"TODO"</span>
          ((org-agenda-overriding-header <span style="color: #3e999f;">"\n&#9889; Do Today\n&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;"</span>)
           (org-agenda-remove-tags t)
           (org-agenda-prefix-format <span style="color: #3e999f;">" %-2i %-15b"</span>)
           (org-agenda-todo-keyword-format <span style="color: #3e999f;">""</span>)))
    (agenda <span style="color: #3e999f;">""</span>
            ((org-agenda-start-day <span style="color: #3e999f;">"+0d"</span>)
             (org-agenda-span 5)
             (org-agenda-overriding-header <span style="color: #3e999f;">"&#9889; Schedule\n&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;"</span>)
             (org-agenda-repeating-timestamp-show-all nil)
             (org-agenda-remove-tags t)
             (org-agenda-prefix-format   <span style="color: #3e999f;">"  %-3i  %-15b %t%s"</span>)
             (org-agenda-todo-keyword-format <span style="color: #3e999f;">" &#9744; "</span>)
             (org-agenda-current-time-string <span style="color: #3e999f;">"&#11164;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480; now"</span>)
             (org-agenda-scheduled-leaders '(<span style="color: #3e999f;">""</span> <span style="color: #3e999f;">""</span>))
             (org-agenda-time-grid (<span style="color: #718c00;">quote</span> ((daily today remove-match)
                                           (0900 1200 1500 1800 2100)
                                           <span style="color: #3e999f;">"      "</span> <span style="color: #3e999f;">"&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;"</span>))))))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"b"</span> <span style="color: #3e999f;">"Agenda"</span> bnb/org-agenda-with-tip))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"c"</span> . <span style="color: #3e999f;">"COLLECT..."</span>) t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"cb"</span> <span style="color: #3e999f;">"CollectBox"</span>
   ((alltodo <span style="color: #3e999f;">""</span>))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"f"</span> . <span style="color: #3e999f;">"FOCUS..."</span>) t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 `(<span style="color: #3e999f;">"f."</span> <span style="color: #3e999f;">"Today"</span>
   ((agenda <span style="color: #3e999f;">""</span>
            ((org-agenda-entry-types '(<span style="color: #8959a8;">:timestamp</span> <span style="color: #8959a8;">:sexp</span>))
             (org-agenda-overriding-header
              (concat <span style="color: #3e999f;">"CALENDAR Today"</span>
                      (format-time-string <span style="color: #3e999f;">"%a %d"</span> (current-time))))
             (org-agenda-span 'day)))
    (tags-todo <span style="color: #3e999f;">"LEVEL=1+REFILE"</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"COLLECTBOX (Unscheduled)"</span>)))
    (tags-todo <span style="color: #3e999f;">"DEADLINE=\"&lt;+0d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE TODAY"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notedeadline))
                (org-agenda-sorting-strategy '(priority-down))))
    (tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notedeadline))
                (org-agenda-sorting-strategy '(priority-down))))
    (agenda <span style="color: #3e999f;">""</span>
            ((org-agenda-entry-types '(<span style="color: #8959a8;">:scheduled</span>))
             (org-agenda-overriding-header <span style="color: #3e999f;">"SCHEDULED"</span>)
             (org-agenda-skip-function
              '(org-agenda-skip-entry-if 'todo 'done))
             (org-agenda-sorting-strategy
              '(priority-down time-down))
             (org-agenda-span 'day)
             (org-agenda-start-on-weekday nil)
             (org-agenda-time-grid nil)))
    (todo <span style="color: #3e999f;">"DONE"</span>
          ((org-agenda-overriding-header <span style="color: #3e999f;">"COMPLETED"</span>))))
   ((org-agenda-format-date <span style="color: #3e999f;">""</span>)
    (org-agenda-start-with-clockreport-mode nil))) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"fh"</span> <span style="color: #3e999f;">"Hotlist"</span>
   ((tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span>)))
    (tags-todo <span style="color: #3e999f;">"DEADLINE&gt;=\"&lt;+0d&gt;\"+DEADLINE&lt;=\"&lt;+1w&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE IN NEXT 7 DAYS"</span>)))
    (tags-todo <span style="color: #3e999f;">"DEADLINE=\"\"+FLAGGED|DEADLINE&gt;\"&lt;+1w&gt;\"+FLAGGED"</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"FLAGGED"</span>))))
   ((org-agenda-todo-ignore-scheduled 'future)))  <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"r"</span> . <span style="color: #3e999f;">"REVIEW..."</span>) t)

(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"ra"</span> . <span style="color: #3e999f;">"All Tasks..."</span>) t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"rad"</span> <span style="color: #3e999f;">"All Tasks (grouped by Due Date)"</span>
   ((tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notdeadline))))
    (tags-todo <span style="color: #3e999f;">"DEADLINE=\"&lt;+0d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE TODAY"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notdeadline))))
    (tags-todo <span style="color: #3e999f;">"DEADLINE=\"&lt;+1d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE TOMORROW"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notdeadline))))
    (tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+1d&gt;\"+DEADLINE&lt;=\"&lt;+7d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE WITHIN A WEEK"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notdeadline))))
    (tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+7d&gt;\"+DEADLINE&lt;=\"&lt;+28d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE WITHIN A MONTH"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notdeadline))))
    (tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+28d&gt;\""</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE LATER"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notdeadline))))
    (tags-todo <span style="color: #3e999f;">"TODO={WAIT}"</span>
               ((org-agenda-overriding-header <span style="color: #3e999f;">"WAITING FOR"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'deadline))))
    (todo <span style="color: #3e999f;">""</span>
          ((org-agenda-overriding-header <span style="color: #3e999f;">"WAITING FOR"</span>)
           (org-agenda-skip-function
            '(org-agenda-skip-entry-if 'deadline)))))
   ((org-agenda-sorting-strategy '(priority-down))
    (org-agenda-write-buffer-name <span style="color: #3e999f;">"All Tasks (grouped by Due Date)"</span>))
   <span style="color: #3e999f;">"~/Documents/Org/all-tasks-by-due-date.pdf"</span>) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"ra1"</span> <span style="color: #3e999f;">"All Tasks with a due date"</span>
   ((alltodo <span style="color: #3e999f;">""</span>))
   ((org-agenda-overriding-header <span style="color: #3e999f;">"All Tasks (sorted by Due Date)"</span>)
    (org-agenda-skip-function
     '(org-agenda-skip-entry-if 'notdeadline))
    (org-agenda-sorting-strategy '(deadline-up)))) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"rag"</span> <span style="color: #3e999f;">"Grouped Tasks"</span>)
 ())
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"rt"</span> . <span style="color: #3e999f;">"Timesheet..."</span>) t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Show what happened today.</span>
(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"rtd"</span> <span style="color: #3e999f;">"Daily Timesheet"</span>
   ((agenda <span style="color: #3e999f;">""</span>))
   ((org-agenda-log-mode-items '(clock closed))
    (org-agenda-overriding-header <span style="color: #3e999f;">"DAILY TIMESHEET"</span>)
    (org-agenda-show-log 'clockcheck)
    (org-agenda-span 'day)
    (org-agenda-start-with-clockreport-mode t)
    (org-agenda-time-grid nil))) <span style="color: #c82829; font-weight: bold;">t)</span>

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Show what happened this week.</span>
(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"rtw"</span> <span style="color: #3e999f;">"Weekly Timesheet"</span>
   ((agenda <span style="color: #3e999f;">""</span>))
   (
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">(org-agenda-format-date "")</span>
    (org-agenda-overriding-header <span style="color: #3e999f;">"WEEKLY TIMESHEET"</span>)
    (org-agenda-skip-function '(org-agenda-skip-entry-if 'timestamp))
    (org-agenda-span 'week)
    (org-agenda-start-on-weekday 1)
    (org-agenda-start-with-clockreport-mode t)
    (org-agenda-time-grid nil))) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"rc"</span> . <span style="color: #3e999f;">"Calendar..."</span>) t)

(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"rc7"</span> <span style="color: #3e999f;">"Events and appointments for 7 days"</span>
   ((agenda <span style="color: #3e999f;">""</span>))
   ((org-agenda-entry-types '(<span style="color: #8959a8;">:timestamp</span> <span style="color: #8959a8;">:sexp</span>))
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">(org-agenda-overriding-header "Calendar for 7 days")</span>
    (org-agenda-span 'week)
    (org-agenda-format-date <span style="color: #3e999f;">"\n%a %d"</span>)
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">(org-agenda-date-weekend ... new face ...)</span>
    (org-agenda-time-grid nil))) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list
 'org-agenda-custom-commands
 '(<span style="color: #3e999f;">"rw"</span> <span style="color: #3e999f;">"Weekly review"</span>
   ((tags <span style="color: #3e999f;">"CATEGORY={@REFILE}&amp;LEVEL&lt;=2"</span>
          ((org-agenda-overriding-header <span style="color: #3e999f;">"NEW TASKS"</span>)))
    (agenda <span style="color: #3e999f;">""</span>
            ((org-agenda-clockreport-mode t)
             (org-agenda-format-date
              (concat <span style="color: #3e999f;">"\n"</span>
                      <span style="color: #3e999f;">"%Y-%m-%d"</span> <span style="color: #3e999f;">" %a "</span>
                      (make-string (window-width) ?_)))
             (org-agenda-overriding-header <span style="color: #3e999f;">"PAST WEEK"</span>)
             (org-agenda-prefix-format <span style="color: #3e999f;">" %?-11t %i %-12:c% s"</span>)
             (org-agenda-show-log 'clockcheck)
             (org-agenda-span 7)
             (org-agenda-start-day <span style="color: #3e999f;">"-1w"</span>)
             (org-deadline-warning-days 0)))
    (agenda <span style="color: #3e999f;">""</span>
            ((org-agenda-overriding-header <span style="color: #3e999f;">"NEXT MONTH"</span>)
             (org-agenda-span 'month)
             (org-agenda-start-day <span style="color: #3e999f;">"+0d"</span>)
             (org-deadline-warning-days 0)))
    (todo <span style="color: #3e999f;">"PROJECT"</span>
          ((org-agenda-overriding-header <span style="color: #3e999f;">"PROJECT LIST"</span>)))
    (todo <span style="color: #3e999f;">"DONE|PROJECTDONE"</span>
          ((org-agenda-overriding-header
            <span style="color: #3e999f;">"Candidates to be archived"</span>))))))
(message <span style="color: #3e999f;">"ORG AGENDA MENUS DONE: %s"</span> (emacs-init-time))
</pre>
</div>

<p>
Phew! That is a lot of lisp! It is easiest to describe each view
by the key that triggers it.
</p>

<ul class="org-ul">
<li><code>a</code> Agenda with tip (keystroke tip)</li>
<li><code>w</code> Tasks waiting on something</li>
<li><code>r</code> Refile New notes and tasks</li>
<li><code>n</code> Next
Any task with the NEXT tag
<ul class="org-ul">
<li><code>A</code> Tasks ready for Archive</li>
<li><code>u</code> Upcoming tasks
Scheduled or due in the next week.
<ul class="org-ul">
<li><code>U</code> Unscheduled tasks</li>
<li><p>
<code>P</code> Printable agenda
Formats tasks at the top with upcoming items below.
</p>
<ul class="org-ul">
<li><code>S</code> Scoreless tasks</li>
</ul>
<p>
Use this to get the scoreless tasks and edit in column mode
</p>
<ul class="org-ul">
<li><code>h</code> Habits</li>
<li><code>#</code> Stuck projects</li>
<li><code>z</code> Agenda with Personal Files</li>
<li><code>c</code> Select default clocking task</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</li>
</ol>
</li>

<li><a id="org9da4099"></a>Export<br />
<div class="outline-text-5" id="text-5-2-3-9">
<p>
THe following sections configue global export settings that make
sense for HTML and \LaTeX.
</p>
</div>

<ol class="org-ol">
<li><a id="org635cdad"></a>HTML<br />
<div class="outline-text-6" id="text-5-2-3-9-1">
<p>
For HTML, I just want to inline the links to images.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-export-html-inline-images t)
</pre>
</div>

<p>
I also used to suppress the postamble with
<code>org-export-html-postamble</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-html-postamble nil)
</pre>
</div>

<p>
I'll use the <i>fancy</i> HTML5 export by default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-html-doctype <span style="color: #3e999f;">"html5"</span>
org-html-html5-fancy t)
</pre>
</div>

<p>
I like to have striped tables in email, but this is terribly
difficult due to cruddy CSS support. Luckily,
<code>org-html-table-row-tags</code> saves the day and assigns the right
classes to the table rows with a little bit of help. Now styling
can be done in CSS-reduced instances.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-html-table-row-tags
      (cons '(cond (top-row-p <span style="color: #3e999f;">"&lt;tr class=\"tr-top\"&gt;"</span>)
                   (bottom-row-p <span style="color: #3e999f;">"&lt;tr class=\"tr-bottom\"&gt;"</span>)
                   (t (<span style="color: #718c00;">if</span> (= (mod row-number 2) 1)
                          <span style="color: #3e999f;">"&lt;tr class=\"tr-odd\"&gt;"</span>
                        <span style="color: #3e999f;">"&lt;tr class=\"tr-even\"&gt;"</span>)))
            <span style="color: #3e999f;">"&lt;/tr&gt;"</span>))
</pre>
</div>
</div>
</li>

<li><a id="org368d367"></a>LaTeX<br />
<div class="outline-text-6" id="text-5-2-3-9-2">
<p>
For \LaTeX, I want to convert fragments to images, and use
minted for any source blocks. I also want to have <code>xelatex</code> as the
backend.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-export-latex-listings 'minted
      org-export-latex-custom-lang-environments
      '((emacs-lisp <span style="color: #3e999f;">"common-lispcode"</span>))
      org-export-latex-minted-options '()
      org-highlight-latex-and-related '(latex script entities)
      org-latex-to-pdf-process
      '(<span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
        <span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
        <span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>))
</pre>
</div>


<p>
Also, I want to enable some of the other contributed
exporters. To do this, simply require the files necessary that
are not on by default.
</p>

<p>
I add exporters for github-flavored markdown and tufte html.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-gfm</span>
  <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-tufte</span>
  <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</li>

<li><a id="org6df036e"></a>EPUB<br />
<div class="outline-text-6" id="text-5-2-3-9-3">
<p>
E-readers may be a thing that sticks around.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-epub</span>
  <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgbe31b41"></a>Clocking<br />
<div class="outline-text-5" id="text-5-2-3-10">
<p>
I have found clocking to be useful in understanding where my time
goes. And Org makes this easy, fast and painless to do. So very
nice.
</p>

<p>
The clock has some general settings around persistence (resuming
clocks), history length and resuming a task after clocking in
twice (interrupted task).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (org-clock-persistence-insinuate)
  (<span style="color: #718c00;">setq</span> org-clock-history-length 28
 org-clock-in-resume t))
(message <span style="color: #3e999f;">"ORG CLOCK PERSISTENCE DONE: %s"</span> (emacs-init-time))
</pre>
</div>

<p>
Behavior of the clock can change to accommodate other needs. I
like having clocks log into a specific drawer. Also, it is nice
to remove zero-time clocks and clock out automatically when an
item completes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-clock-into-drawer <span style="color: #3e999f;">"CLOCK"</span>
      org-clock-out-remove-zero-time-clocks t
      org-clock-out-when-done t)
</pre>
</div>

<p>
Two settings help resolve most clock issues that I have
seen. Persisting the clock across sessions helps prevent loss of
time by accident. Auto-resolution of open clocks help prompt how
to handle the situation where a dangling clock exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-clock-persist 'history
      org-clock-auto-clock-resolution 'when-no-clock-is-running)
</pre>
</div>

<p>
Two final settings regarding clocking setup how I change and view
the clocks. I want any clock reports to include the currently
clocked task as well. And for clock editing, I change to 15
minute increments.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-clock-report-include-clocking-task t
      org-time-stamp-rounding-minutes '(1 15))
</pre>
</div>
</div>
</li>

<li><a id="org21b0049"></a>Modules<br />
<div class="outline-text-5" id="text-5-2-3-11">
<p>
Org-modules allow for specific functionality within org-mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-modules
      '(org-bbdb
        org-bibtex
        org-crypt
        org-gnus
        org-id
        org-info
        org-jsinfo
        org-habit
        org-inlinetask
        org-irc
        org-plot
        org-protocol
        org-bookmark
        org-calc))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgba801c6"></a>Habit<br />
<div class="outline-text-6" id="text-5-2-3-11-1">
<p>
Some tasks repeat, but you still want to log when you have done
it. I use this to help me always do my weekly or yearly
reviews. By including it in <code>org-modules</code>, habits get activated.
</p>

<p>
My one setting blow sets a width for the graph in Agenda View.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-habit-graph-column 50)
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org953c77b"></a>Babel<br />
<div class="outline-text-5" id="text-5-2-3-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (org-babel-do-load-languages
   'org-babel-load-languages
   '((calc       . t)
     (C          . t)
     (ditaa      . t)
     (dot        . t)
     (emacs-lisp . t)
     (gnuplot    . t)
     (latex      . t)
     (maxima     . t)
     (perl       . t)
     (plantuml   . t)
     (python     . t)
     (ruby       . t)
     (shell      . t)
     (sqlite     . t)
     (sql        . t)
     (R          . t))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org519434a"></a>Extra Babel Packages<br />
<div class="outline-text-6" id="text-5-2-3-12-1">
<p>
A couple of more items.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ob-http</span> <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ob-restclient</span>
  <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:elpaca</span>
  (ob-restclient <span style="color: #8959a8;">:host</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"alf/ob-restclient.el"</span>)
  <span style="color: #8959a8;">:config</span>
  (org-babel-do-load-languages
   'org-babel-load-languages
   (append org-babel-load-languages '((restclient . t)))))
</pre>
</div>
</div>
</li>

<li><a id="org485203b"></a>Customization<br />
<div class="outline-text-6" id="text-5-2-3-12-2">
<p>
Python needs to find the right one, so I hard code what babel
should use for execution.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-babel-python-command <span style="color: #3e999f;">"python3"</span>)
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgdf0c151"></a>Miscellaneous Settings<br />
<ol class="org-ol">
<li><a id="org55565a4"></a>Auto-revert mode<br />
<div class="outline-text-6" id="text-5-2-3-13-1">
<p>
If the org files are under DVCS like git, then the edits may
happen while open in emacs.
</p>

<p>
This is a global setting, but most useful for the org files that
exists elsewhere.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">autorevert</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:diminish</span> <span style="color: #3e999f;">" "</span>
  <span style="color: #8959a8;">:custom</span>
  (global-auto-revert-mode t))
</pre>
</div>
</div>
</li>

<li><a id="org754a70c"></a>Automatically save org files<br />
<div class="outline-text-6" id="text-5-2-3-13-2">
<p>
I like to save early and often. In earlier versions of orgmode, I
sometimes had the capture buffer/timer crash on me. So, now I
save at the top of every hour to be sure.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (run-at-time <span style="color: #3e999f;">"00:59"</span> 3600 'org-save-all-org-buffers))
</pre>
</div>
</div>
</li>

<li><a id="orgd791922"></a>Columns<br />
<div class="outline-text-6" id="text-5-2-3-13-3">
<p>
The default columns are as follows.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span>
 org-columns-default-format
 <span style="color: #3e999f;">"%80ITEM(Task) %5Score{+} %10Effort(Effort){:} %10CLOCKSUM"</span>)
</pre>
</div>
</div>
</li>

<li><a id="org0274445"></a>Display settings<br />
<div class="outline-text-6" id="text-5-2-3-13-4">
<p>
There are a collection of settings that define how the
headlines, subtrees, and notes render.
</p>

<p>
For the headline stars, there are two settings of note. I am
explicit that I do <b>not</b> want only odd levels. I also like to hide
the leading stars.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-odd-levels-only nil
      org-hide-leading-stars nil)
</pre>
</div>

<p>
Cycling the headline states can produce different views of the
files. I like this to be as compact as possible, so I try to
squash the lines between the collapsed trees. There is also a
flag to open a file collapsed. This I like too &#x2013; I get a
compact view of the file and can jump to a relevant section with
<code>C-c C-j</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-cycle-separator-lines 0
      org-startup-folded 'content)
</pre>
</div>

<p>
When using SRC-blocks, org can provide highlighting native to
the SRC type. Note that this may slow down some files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-src-fontify-natively t)
</pre>
</div>
</div>
</li>

<li><a id="orga704731"></a>File Applications<br />
<div class="outline-text-6" id="text-5-2-3-13-5">
<p>
This list lets org know how to handle the links of given file
types. Most things open inside <code>emacs</code>, but the others set to
default rely on the OS to supply a program.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-file-apps
      '((auto-mode . emacs)
        (<span style="color: #3e999f;">"\\.x?html?\\'"</span> . default)
        (<span style="color: #3e999f;">"\\.pdf\\'"</span> . default)
        (<span style="color: #3e999f;">"\\.mm\\'"</span> . default)))
</pre>
</div>
</div>
</li>

<li><a id="org1d53090"></a>Goto Interface<br />
<div class="outline-text-6" id="text-5-2-3-13-6">
<p>
By using <code>C-c C-j</code>, you can jump easily around a large orgfile
such as this one. Naturally, the interface you use to do so is
customizable.
</p>

<p>
I explicitly set it to the default because I sometimes go back
and forth with the default and <code>outline-path-completion</code> setting.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-goto-interface 'outline-path)
</pre>
</div>
</div>
</li>

<li><a id="org64e78e7"></a>IDO Integration<br />
<div class="outline-text-6" id="text-5-2-3-13-7">
<p>
IDO integrates well into orgmode. Anytime completion is
necessary, I like to use the IDO mechanics.
</p>

<p>
The <code>outline-path-completion</code> may conflict with IDO, so then it is
best to have it not use IDO in this case.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-completion-use-ido t
      org-outline-path-complete-in-steps nil)
</pre>
</div>
</div>
</li>

<li><a id="orga0f9e1c"></a>Insertion<br />
<div class="outline-text-6" id="text-5-2-3-13-8">
<p>
I define when org should leave a blank line before an
item. In my case it is headings and plain list items.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-blank-before-new-entry
      '((heading)
        (plain-list-item)))
</pre>
</div>

<p>
Also, when inserting a new heading, do so after the current
subtree.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-insert-heading-respect-content t)
</pre>
</div>

<p>
Set the indentation to the outline node level.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-adapt-indentation t)
</pre>
</div>
</div>
</li>

<li><a id="org233e577"></a>Plantuml<br />
<div class="outline-text-6" id="text-5-2-3-13-9">
<p>
Setup the path for orgmode to find the jar needed.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-plantuml-jar-path <span style="color: #3e999f;">"/usr/local/Cellar/plantuml/1.2017.18/libexec/plantuml.jar"</span>)
</pre>
</div>
</div>
</li>

<li><a id="org88d3c28"></a>Properties<br />
<div class="outline-text-6" id="text-5-2-3-13-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-global-properties
      '((<span style="color: #3e999f;">"STYLE_ALL"</span>  . <span style="color: #3e999f;">"habit"</span>)
        (<span style="color: #3e999f;">"Effort_ALL"</span> . <span style="color: #3e999f;">"0:10 0:30 1:00 2:00 3:00 4:00"</span>)
        (<span style="color: #3e999f;">"Score_ALL"</span>  . <span style="color: #3e999f;">"1 2 3 5 8"</span>)))
</pre>
</div>
</div>
</li>

<li><a id="org4cb5d87"></a>Special Control Keys<br />
<div class="outline-text-6" id="text-5-2-3-13-11">
<p>
Orgmode has a different idea of some of the default emacs
commands to make it easier to work with the structures involved.
</p>

<p>
For <code>C-a</code> or <code>C-e</code> within a headline, it will only try to navigate
the headline text the first time. Additional keypresses will
move to the true beginning/ending of lines.
</p>

<p>
<code>C-k</code> also can behave specially in headlines depending on its
location. When point is at the beginning, it will kill the
headline and the folded subtree below. In the middle of a
headline, it kills the headline text up to the tags. After the
headline text, it kills the tags.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-special-ctrl-a/e t
      org-special-ctrl-k t)
</pre>
</div>
</div>
</li>

<li><a id="org0654906"></a>Teleport<br />
<div class="outline-text-6" id="text-5-2-3-13-12">
<p>
From <a href="http://kitchingroup.cheme.cmu.edu/blog/2016/03/18/Org-teleport-headlines/">the Kitchin Group</a>, I can have a nice <i>teleport</i> function for
org sections. Using a speed command on the current headline
kills it and then presents avy-style markers to select the
insertion point.
</p>

<p>
By default the teleported headline will be inserted after the
target. With a prefix argument, it will preceed the target.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-teleport</span> (<span style="color: #4271ae;">&amp;optional</span> arg)
  <span style="color: #8959a8;">"Teleport the current heading to after a headline selected with avy.</span>
<span style="color: #8959a8;">    With a prefix ARG move the headline to before the selected</span>
<span style="color: #8959a8;">    headline. With a numeric prefix, set the headline level. If ARG</span>
<span style="color: #8959a8;">    is positive, move after, and if negative, move before."</span>
  (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span>)
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Kill current headline</span>
  (org-mark-subtree)
  (kill-region (region-beginning) (region-end))
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Jump to a visible headline</span>
  (<span style="color: #718c00;">avy-with</span> avy-goto-line (avy--generic-jump <span style="color: #3e999f;">"^\\*+"</span> nil avy-style))
  (<span style="color: #718c00;">cond</span>
   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Move before  and change headline level</span>
   ((<span style="color: #718c00;">and</span> (numberp arg) (&gt; 0 arg))
    (<span style="color: #718c00;">save-excursion</span>
      (yank))
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">arg is what we want, second is what we have</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">if n is positive, we need to demote (increase level)</span>
    (<span style="color: #718c00;">let</span> ((n (- (abs arg) (car (org-heading-components)))))
      (<span style="color: #718c00;">cl-loop</span> for i from 1 to (abs n)
               do
               (<span style="color: #718c00;">if</span> (&gt; 0 n)
                   (org-promote-subtree)
                 (org-demote-subtree)))))
   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Move after and change level</span>
   ((<span style="color: #718c00;">and</span> (numberp arg) (&lt; 0 arg))
    (org-mark-subtree)
    (goto-char (region-end))
    (<span style="color: #718c00;">when</span> (eobp) (insert <span style="color: #3e999f;">"\n"</span>))
    (<span style="color: #718c00;">save-excursion</span>
      (yank))
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">n is what we want and second is what we have</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">if n is positive, we need to demote</span>
    (<span style="color: #718c00;">let</span> ((n (- (abs arg) (car (org-heading-components)))))
      (<span style="color: #718c00;">cl-loop</span> for i from 1 to (abs n)
               do
               (<span style="color: #718c00;">if</span> (&gt; 0 n) (org-promote-subtree)
                 (org-demote-subtree)))))

   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">move to before selection</span>
   ((equal arg '(4))
    (<span style="color: #718c00;">save-excursion</span>
      (yank)))
   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">move to after selection</span>
   (t
    (org-mark-subtree)
    (goto-char (region-end))
    (<span style="color: #718c00;">when</span> (eobp) (insert <span style="color: #3e999f;">"\n"</span>))
    (<span style="color: #718c00;">save-excursion</span>
      (yank))))
  (outline-hide-leaves))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> 'org
  (<span style="color: #718c00;">progn</span>
    (add-to-list
     'org-speed-commands
     (cons <span style="color: #3e999f;">"k"</span> (<span style="color: #718c00;">lambda</span> ()
                 (org-mark-subtree)
                 (kill-region
                  (region-beginning)
                  (region-end)))))

    (add-to-list
     'org-speed-commands
     (cons <span style="color: #3e999f;">"q"</span> (<span style="color: #718c00;">lambda</span> ()
                 (<span style="color: #718c00;">avy-with</span> avy-goto-line
                   (avy--generic-jump <span style="color: #3e999f;">"^\\*+"</span> nil avy-style)))))

    (add-to-list
     'org-speed-commands
     (cons <span style="color: #3e999f;">"T"</span> 'bnb/org-teleport))))
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org7e6efa7"></a>Pretty Org-mode<br />
<div class="outline-text-5" id="text-5-2-3-14">
<p>
This collection of settings enhances the visual appeal when
working in org-mode.
</p>

<p>
First, some initial built-in settings to make.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-hide-leading-stars t
      org-hide-emphasis-markers t
      org-fontify-done-headline t
      org-pretty-entities t)
</pre>
</div>


<p>
Here's some fun
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook
 'org-mode-hook
 (<span style="color: #718c00;">lambda</span> ()
   (mapc (<span style="color: #718c00;">lambda</span> (pair) (<span style="color: #718c00;">push</span> pair prettify-symbols-alist))
         '((<span style="color: #3e999f;">"#+BEGIN_SRC"</span> . <span style="color: #3e999f;">"&#8968;"</span>)
           (<span style="color: #3e999f;">"#+END_SRC"</span> . <span style="color: #3e999f;">"&#8970;"</span>)
           (<span style="color: #3e999f;">"#+begin_src"</span> . <span style="color: #3e999f;">"&#8968;"</span>)
           (<span style="color: #3e999f;">"#+end_src"</span> . <span style="color: #3e999f;">"&#8970;"</span>)
           (<span style="color: #3e999f;">"&gt;="</span> . <span style="color: #3e999f;">"&#8805;"</span>)
           (<span style="color: #3e999f;">"=&gt;"</span> . <span style="color: #3e999f;">"&#8680;"</span>)))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org529ec18"></a>Org Bullets<br />
<div class="outline-text-6" id="text-5-2-3-14-1">
<p>
Bullet shapes do a better job conveying depth then just position/depth of stars.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-bullets</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  (org-bullets-bullet-list '(<span style="color: #3e999f;">"&#9673;"</span> <span style="color: #3e999f;">"&#9674;"</span> <span style="color: #3e999f;">"&#9675;"</span> <span style="color: #3e999f;">"&#10731;"</span> <span style="color: #3e999f;">"&#10040;"</span> <span style="color: #3e999f;">"&#11048;"</span> <span style="color: #3e999f;">"&#11039;"</span> <span style="color: #3e999f;">"&#11047;"</span> <span style="color: #3e999f;">"&#11042;"</span> <span style="color: #3e999f;">"&#11051;"</span> <span style="color: #3e999f;">"&#8977;"</span> <span style="color: #3e999f;">"&#11050;"</span> <span style="color: #3e999f;">"&#9649;"</span>))
  (org-ellipsis <span style="color: #3e999f;">"&#751;"</span>) <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Options: &#751;&#8642;&#8623;&#10549;&#129083;&#129175;</span>
  <span style="color: #8959a8;">:hook</span> (org-mode . org-bullets-mode))
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org2610902"></a>Org-AI<br />
<div class="outline-text-5" id="text-5-2-3-15">
<p>
As much as I find this to be ridiculous, interacting with AI via
Emacs is likely the one true way. <a href="https://github.com/rksm/org-ai">Org-ai</a> provides a natrual
interface for real humans.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-ai</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (org-ai-mode
             org-ai-global-mode)
  <span style="color: #8959a8;">:init</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">(add-hook 'org-mode-hook #'org-ai-mode) ; enable org-ai in org-mode</span>
  (org-ai-global-mode) <span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">installs global keybindings on C-c M-a</span>
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> org-ai-default-chat-model <span style="color: #3e999f;">"gpt-3.5-turbo"</span>))
</pre>
</div>

<p>
This adds the ability to have <code>#+begin/end_ai</code> blocks to have a
"conversation" with ChatGPT or DALL⋅E. Be sure to set
<code>org-ai-openai-api-token</code> to your API token before using.
</p>
</div>
</li>

<li><a id="org76d3286"></a>Org Repo Todo&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span><br />
<div class="outline-text-5" id="text-5-2-3-16">
<p>
Make it easy to setup a <code>TODO.org</code> from within a repo. I use this
to capture thoughts while coding
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-repo-todo</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> ((<span style="color: #3e999f;">"s-;"</span> . ort/capture-todo)
         (<span style="color: #3e999f;">"s-'"</span> . ort/capture-checkitem)
         (<span style="color: #3e999f;">"s-`"</span> . ort/goto-todos)))
</pre>
</div>
</div>
</li>

<li><a id="org6630406"></a>Org Ref<br />
<div class="outline-text-5" id="text-5-2-3-17">
<p>
Setups the Org-style interface with Biblio.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-ref</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> org-ref-notes-directory <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/"</span>
        org-ref-bibliography-notes <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/index.org"</span>
        org-ref-default-bibliography '(<span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/index.bib"</span>)
        org-ref-pdf-directory <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/lib"</span>))
</pre>
</div>
</div>
</li>

<li><a id="org502c345"></a>Org Noter<br />
<div class="outline-text-5" id="text-5-2-3-18">
<p>
<a href="https://github.com/weirdNox/org-noter">Taking notes in a PDF</a> is a useful trick. <code>org-noter</code> lets me do just that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-noter</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"H-n"</span> . org-noter))
</pre>
</div>
</div>
</li>

<li><a id="orgce2b788"></a>Org Roam<br />
<div class="outline-text-5" id="text-5-2-3-19">
<p>
The best of all worlds? Org-mode and a Zettelkasten system? Yes,
<a href="https://www.orgroam.com/">Org-roam</a> sets up a knowledge capture and organization system
built on the principles of a <a href="https://en.wikipedia.org/wiki/Zettelkasten">Zettelkasten</a> system.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-roam</span>
  <span style="color: #8959a8;">:after</span> org
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#120171;"</span>
  <span style="color: #8959a8;">:hook</span>
  (after-init . org-roam-setup)
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq</span> org-roam-v2-ack t)
  <span style="color: #8959a8;">:custom</span>
  (org-roam-directory (file-truename <span style="color: #3e999f;">"~/Documents/zettel/"</span>))
  <span style="color: #8959a8;">:bind</span> ((<span style="color: #3e999f;">"C-c n f"</span> . org-roam-node-find)
         (<span style="color: #3e999f;">"C-c n r"</span> . org-roam-node-random)
         (<span style="color: #3e999f;">"C-c n g"</span> . org-roam-graph)
         (<span style="color: #3e999f;">"C-c n c"</span> . org-roam-capture)
         (<span style="color: #3e999f;">"C-c n j"</span> . org-roam-dailies-capture-today)
         (<span style="color: #8959a8;">:map</span> org-mode-map
               ((<span style="color: #3e999f;">"C-c n l"</span> . org-roam-buffer-toggle)
                (<span style="color: #3e999f;">"C-c n a"</span> . org-roam-alias-add)
                (<span style="color: #3e999f;">"C-c n i"</span> . org-roam-node-insert)
                (<span style="color: #3e999f;">"C-c n I"</span> . org-roam-insert-immediate)))
         (<span style="color: #8959a8;">:map</span> org-roam-mode-map
               ((<span style="color: #3e999f;">"C-c n l"</span> . org-roam)
                (<span style="color: #3e999f;">"C-c n t"</span> . org-roam-dailies-find-today)
                (<span style="color: #3e999f;">"C-c n w"</span> . org-roam-dailies-find-tomorrow)
                (<span style="color: #3e999f;">"C-c n d"</span> . org-roam-date)
                (<span style="color: #3e999f;">"C-c n f"</span> . org-roam-find-file)
                (<span style="color: #3e999f;">"C-c n g"</span> . org-roam-show-graph)))))
</pre>
</div>
</div>
</li>

<li><a id="org4fe74f6"></a>Org QL<br />
<div class="outline-text-5" id="text-5-2-3-20">
<p>
Use the query language for org.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-ql</span>
  <span style="color: #8959a8;">:commands</span> (org-ql-search)
  <span style="color: #8959a8;">:config</span> (<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">org-habit</span>)
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org5738512" class="outline-4">
<h4 id="org5738512"><span class="section-number-4">5.2.4.</span> PDF Tools</h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
This replaces the built-in DocView for PDF files. Find out the
details <a href="https://github.com/politza/pdf-tools">on the repo</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defcustom</span> <span style="color: #eab700;">bnb/homebrew-prefix</span> <span style="color: #3e999f;">""</span>
  <span style="color: #8959a8;">"Prefix to use for an alternative path to homebrew items"</span>
  <span style="color: #8959a8;">:type</span> 'string
  <span style="color: #8959a8;">:group</span> 'bnb)

(setenv <span style="color: #3e999f;">"PKG_CONFIG_PATH"</span>
        (<span style="color: #718c00;">let</span> ((hbp bnb/homebrew-prefix))
          (<span style="color: #718c00;">setq</span> pdf-info-epdfinfo-program (concat hbp <span style="color: #3e999f;">"/usr/local/bin/epdfinfo"</span>))
          (mapconcat
           'identity
           (list (concat hbp <span style="color: #3e999f;">"/usr/local/Cellar/libffi/3.2.1/lib/pkgconfig"</span>)
                 (concat hbp <span style="color: #3e999f;">"/usr/local/Cellar/zlib/1.2.8/lib/pkgconfig"</span>)
                 (concat hbp <span style="color: #3e999f;">"/usr/local/lib/pkgconfig"</span>)
                 <span style="color: #3e999f;">"/opt/X11/lib/pkgconfig"</span>)
           <span style="color: #3e999f;">":"</span>)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">pdf-tools</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:hook</span> (pdf-view-mode . (<span style="color: #718c00;">lambda</span> () (nlinum-mode 0)))
  <span style="color: #8959a8;">:config</span>
  (custom-set-variables '(pdf-tools-handle-upgrades nil))
  (<span style="color: #718c00;">setq-default</span> pdf-view-display-size 'fit-page)
  (pdf-loader-install))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge597980" class="outline-3">
<h3 id="orge597980"><span class="section-number-3">5.3.</span> Miscellaneous</h3>
<div class="outline-text-3" id="text-5-3">
</div>
<div id="outline-container-org0e04bfc" class="outline-4">
<h4 id="org0e04bfc"><span class="section-number-4">5.3.1.</span> Calc</h4>
<div class="outline-text-4" id="text-5-3-1">
<p>
Working in computer land, I add these additional units to <code>calc</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">calc</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:commands</span> (calc)
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq</span> math-additional-units
        '((GiB <span style="color: #3e999f;">"1024 * MiB"</span> <span style="color: #3e999f;">"Giga Byte"</span>)
          (MiB <span style="color: #3e999f;">"1024 * KiB"</span> <span style="color: #3e999f;">"Mega Byte"</span>)
          (KiB <span style="color: #3e999f;">"1024 * B"</span>   <span style="color: #3e999f;">"Kilo Byte"</span>)
          (B   nil          <span style="color: #3e999f;">"Byte"</span>)
          (Gib <span style="color: #3e999f;">"1024 * Mib"</span> <span style="color: #3e999f;">"Giga bit"</span>)
          (Mib <span style="color: #3e999f;">"1024 * Kib"</span> <span style="color: #3e999f;">"Mega bit"</span>)
          (Kib <span style="color: #3e999f;">"1024 * b"</span>   <span style="color: #3e999f;">"Kilo bit"</span>)
          (b   nil          <span style="color: #3e999f;">"bit"</span>)
          )))
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-orgeef56b9" class="outline-3">
<h3 id="orgeef56b9"><span class="section-number-3">5.4.</span> Programming Languages</h3>
<div class="outline-text-3" id="text-5-4">
</div>
<div id="outline-container-orgfbaeca8" class="outline-4">
<h4 id="orgfbaeca8"><span class="section-number-4">5.4.1.</span> C++</h4>
<div class="outline-text-4" id="text-5-4-1">
<p>
Oh my! I finally have a C++ addition to make!
</p>
</div>

<ol class="org-ol">
<li><a id="org2dd1a97"></a>Compilation Buffers<br />
<div class="outline-text-5" id="text-5-4-1-1">
<p>
I forget where I snarfed this from, but it does a great job
fixing the ANSI escape sequences in compilation buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ansi-color</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:hook</span> ((compliation-filter . colorize-compilation-buffer))
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">colorize-compilation-buffer</span> ()
    (toggle-read-only)
    (ansi-color-apply-on-region compilation-filter-start (point))
    (toggle-read-only)))
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org8e79e1c" class="outline-4">
<h4 id="org8e79e1c"><span class="section-number-4">5.4.2.</span> Elisp</h4>
<div class="outline-text-4" id="text-5-4-2">
<p>
When modified <code>emacs-lisp</code>, it is most helpful to use <code>paredit</code> and
<code>eldoc</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'emacs-lisp-mode-hook 'paredit-mode)
(add-hook 'emacs-lisp-mode-hook 'paxedit-mode)
(add-hook 'emacs-lisp-mode-hook 'turn-on-eldoc-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org574583d" class="outline-4">
<h4 id="org574583d"><span class="section-number-4">5.4.3.</span> HTML</h4>
<div class="outline-text-4" id="text-5-4-3">
</div>
<ol class="org-ol">
<li><a id="org1f06abb"></a>Impatient mode<br />
<div class="outline-text-5" id="text-5-4-3-1">
<p>
In order to play nicely with HTML+, it needs to be added to the
filters of impatient mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">impatient-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.html\\'"</span>
  <span style="color: #8959a8;">:config</span>
  (add-to-list 'imp-default-user-filters '(mhtml-mode . nil)))
</pre>
</div>

<p>
To use impatient mode, you'll first want to start with
<code>httpd-start</code> and then navigate to <a href="http://localhost:8080/imp">http://localhost:8080/imp</a> to see
the rendered buffers.
</p>
</div>
</li>

<li><a id="org07091e0"></a>Emmet<br />
<div class="outline-text-5" id="text-5-4-3-2">
<p>
<a href="https://github.com/smihica/emmet-mode">Emmet mode</a> allows for terse description of nested elements. There
is great documentation on the approach at <a href="http://emmet.io">emmet.io</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">emmet-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (emmet-mode)
  <span style="color: #8959a8;">:hook</span> ((web-mode . emmet-mode)
         (sgml-mode . emmet-mode)
         (css-mode . emmet-mode)))
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgb3857a0" class="outline-4">
<h4 id="orgb3857a0"><span class="section-number-4">5.4.4.</span> Javascript</h4>
<div class="outline-text-4" id="text-5-4-4">
<p>
Let's make some javascript settings!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> js-indent-level 2)
</pre>
</div>

<p>
Additional setup from <a href="https://emacs.cafe/emacs/javascript/setup/2017/04/23/emacs-setup-javascript.html">https://emacs.cafe/emacs/javascript/setup/2017/04/23/emacs-setup-javascript.html</a>
</p>
</div>

<ol class="org-ol">
<li><a id="org975837b"></a>JS2<br />
<div class="outline-text-5" id="text-5-4-4-1">
<p>
These blocks set up JS2.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">js2-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.js\\'"</span>
  <span style="color: #8959a8;">:hook</span> (js2-mode . #'js2-imenu-extras-mode)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> js2-basic-offset 2))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">js2-refactor</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> js2-mode
  <span style="color: #8959a8;">:functions</span> (js2r-add-keybindings-with-prefix)
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> js2-mode-map
              (<span style="color: #3e999f;">"C-k"</span> . js2r-kill))
  <span style="color: #8959a8;">:config</span>
  (js2r-add-keybindings-with-prefix <span style="color: #3e999f;">"C-c C-r"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">xref-js2</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> js2-mode
  <span style="color: #8959a8;">:hook</span>
  (js2-mode .
     (<span style="color: #718c00;">lambda</span> ()
 (add-hook 'xref-backend-functions #'xref-js2-xref-backend nil t))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orge7f8494"></a>React Style JSX<br />
<div class="outline-text-6" id="text-5-4-4-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rjsx-mode</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"(components|src\\/pages)\\/.*\\.js\\'"</span>)
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-org8f87541" class="outline-4">
<h4 id="org8f87541"><span class="section-number-4">5.4.5.</span> Plantuml</h4>
<div class="outline-text-4" id="text-5-4-5">
<p>
Not a <i>programming language</i>, but certainly a language.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">plantuml-mode</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf5f25b0" class="outline-4">
<h4 id="orgf5f25b0"><span class="section-number-4">5.4.6.</span> Pollen</h4>
<div class="outline-text-4" id="text-5-4-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">pollen-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:mode</span> ((<span style="color: #3e999f;">"\\.pp\\'"</span> . pollen-mode)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">company-pollen</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2fe22cc" class="outline-4">
<h4 id="org2fe22cc"><span class="section-number-4">5.4.7.</span> Rust</h4>
<div class="outline-text-4" id="text-5-4-7">
<p>
Setup rust support with the following packages.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rustic</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> rustic-mode-map
              (<span style="color: #3e999f;">"C-c C-c j"</span> . lsp-ui-imenu)
              (<span style="color: #3e999f;">"C-c C-c f"</span> . lst-find-references)
              (<span style="color: #3e999f;">"C-c C-c l"</span> . flycheck-list-errors)
              (<span style="color: #3e999f;">"C-c C-c a"</span> . lsp-execute-code-action)
              (<span style="color: #3e999f;">"C-c C-c n"</span> . lsp-rename)
              (<span style="color: #3e999f;">"C-c C-c q"</span> . lsp-workspace-restart)
              (<span style="color: #3e999f;">"C-c C-c Q"</span> . lsp-workspace-shutdown)
              (<span style="color: #3e999f;">"C-c C-c s"</span> . lsp-rust-analyzer-status)
              (<span style="color: #3e999f;">"C-c C-c e"</span> . lsp-rust-analyzer-expand-macro)
              (<span style="color: #3e999f;">"C-c C-c d"</span> . dap-hydra)
              (<span style="color: #3e999f;">"C-c C-c h"</span> . lsp-ui-doc-glance))
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> lsp-inlay-hint-enable t
        rustic-indent-offset 2)
  <span style="color: #8959a8;">:hook</span> ((rustic-mode . flycheck-mode)
         (rustic-mode . lsp-inlay-hints-mode)
         (rustic-mode . electric-pair-mode)))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/rustic-mode-hook</span> ()
  (<span style="color: #718c00;">when</span> buffer-file-name
    (<span style="color: #718c00;">setq-local</span> buffer-save-without-query t)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">toml-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:elpaca</span> (toml-mode <span style="color: #8959a8;">:host</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"dryman/toml-mode.el"</span>)
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.toml\\'"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae317a4" class="outline-4">
<h4 id="orgae317a4"><span class="section-number-4">5.4.8.</span> Sass</h4>
<div class="outline-text-4" id="text-5-4-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">sass-mode</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org7eea684" class="outline-4">
<h4 id="org7eea684"><span class="section-number-4">5.4.9.</span> Shaders</h4>
<div class="outline-text-4" id="text-5-4-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">shader-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbfc9b8c" class="outline-4">
<h4 id="orgbfc9b8c"><span class="section-number-4">5.4.10.</span> Utilities</h4>
<div class="outline-text-4" id="text-5-4-10">
</div>
<ol class="org-ol">
<li><a id="org95b4fae"></a>Flycheck<br />
<div class="outline-text-5" id="text-5-4-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">flycheck</span>
  <span style="color: #8959a8;">:ensure</span> t
                                        <span style="color: #8e908c; font-style: italic;">;</span><span style="color: #8e908c; font-style: italic;">:init (global-flycheck-mode)</span>
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">defhydra</span> hydra-flycheck (<span style="color: #8959a8;">:color</span> amaranth)
    <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">  _c_ Check buffer      _x_ Explain error</span>
<span style="color: #8959a8;">  _n_ Next error        _h_ Show error</span>
<span style="color: #8959a8;">  _p_ Previous error    _g_ Toggle global flycheck</span>
<span style="color: #8959a8;">  _l_ Show all errors   _s_ Select syntax checker</span>
<span style="color: #8959a8;">  _C_ Clear errors      _?_ Describe syntax checker</span>
<span style="color: #8959a8;">  "</span>
    (<span style="color: #3e999f;">"c"</span> flycheck-buffer)
    (<span style="color: #3e999f;">"n"</span> flycheck-next-error)
    (<span style="color: #3e999f;">"p"</span> flycheck-previous-error)
    (<span style="color: #3e999f;">"g"</span> global-flycheck-mode)
    (<span style="color: #3e999f;">"l"</span> flycheck-list-errors)
    (<span style="color: #3e999f;">"C"</span> flycheck-clear-errors)
    (<span style="color: #3e999f;">"x"</span> flycheck-explain-error-at-point)
    (<span style="color: #3e999f;">"h"</span> flycheck-display-error-at-point)
    (<span style="color: #3e999f;">"s"</span> flycheck-select-checker)
    (<span style="color: #3e999f;">"?"</span> flycheck-describe-checker)
    (<span style="color: #3e999f;">"q"</span> nil))
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-!"</span> . hydra-flycheck/body))
</pre>
</div>
</div>
</li>

<li><a id="org31b03c4"></a>Prog fill<br />
<div class="outline-text-5" id="text-5-4-10-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">prog-fill</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (prog-fill)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span>
   prog-fill-floating-close-paren-p nil
   prog-fill-break-method-immediate-p t))
</pre>
</div>
</div>
</li>

<li><a id="org9f2c20d"></a>Smart Tabs<br />
<div class="outline-text-5" id="text-5-4-10-3">
<p>
<a href="http://www.emacswiki.org/emacs-en/SmartTabs">SmartTabs</a> try to do the right thing regarding tabs/spaces in
indentation/alignment. It installs through the package interface. Look for
<code>smart-tabs-mode</code>.
</p>

<p>
By default, I'm enabling it in all modes that I can.
</p>

<p>
Since we are dealing with tabs here, I also take the time to set
the default width to 4. Because of the way this mode works, any
change in the default width will result in code that still aligns.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">smart-tabs-mode</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq-default</span> indent-tabs-mode nil)
  (smart-tabs-insinuate 'c 'cperl 'c++)
  (<span style="color: #718c00;">setq-default</span> tab-width 2))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org454caf5"></a>Notes<br />
<div class="outline-text-6" id="text-5-4-10-3-1">
<p>
To re-tab the whole file, use <code>C-x h C-M-\</code>.
</p>
</div>
</li>
</ol>
</li>
</ol>
</div>


<div id="outline-container-orgf2af665" class="outline-4">
<h4 id="orgf2af665"><span class="section-number-4">5.4.11.</span> Web Mode</h4>
<div class="outline-text-4" id="text-5-4-11">
<p>
For all of the webish-stuff, this mode works well. Let's enable it
on the right things.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">web-mode</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.html\\'"</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"H-b"</span> . browse-url-of-file)
  <span style="color: #8959a8;">:config</span>
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.[agj]sp\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.erb\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.hbs\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.mustache\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.djhtml\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.svelte\\'"</span> . web-mode))
  (<span style="color: #718c00;">setq</span> web-mode-engines-alist
        '((<span style="color: #3e999f;">"handlebars"</span> . <span style="color: #3e999f;">"\\.hbs\\'"</span>)))
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/web-mode-hook</span> ()
    <span style="color: #8959a8;">"Setup indentation when loading `web-mode`."</span>
    (<span style="color: #718c00;">setq</span> web-mode-markup-indent-offset 2
          web-mode-css-indent-offset 2
          web-mode-code-indent-offset 2))
  <span style="color: #8959a8;">:hook</span>
  (web-mode . bnb/web-mode-hook))
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org191e93a" class="outline-3">
<h3 id="org191e93a"><span class="section-number-3">5.5.</span> Shells</h3>
<div class="outline-text-3" id="text-5-5">
<p>
There are two useful shells in emacs: <code>eshell</code> and <code>ansi-term</code>.
</p>
</div>

<div id="outline-container-orge4f07f3" class="outline-4">
<h4 id="orge4f07f3"><span class="section-number-4">5.5.1.</span> Ansi Term</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
Some of the following settings were stolen from
<a href="https://ogbe.net/emacsconfig.html">https://ogbe.net/emacsconfig.html</a>.
</p>

<p>
These settings close <code>ansi-term</code> when I exit the shell. They also
default to just launching <code>zsh</code> instead of asking me
(preferred). Then it closes by setting up a hook to ensure some
nice functionality in the terminal mode window.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defadvice</span> <span style="color: #f5871f;">term-sentinel</span> (around bnb/advise-term-sentinel (proc msg))
  (<span style="color: #718c00;">if</span> (memq (process-status proc) '(<span style="color: #c82829; font-weight: bold;">signal</span> exit))
      (<span style="color: #718c00;">let</span> ((buffer (process-buffer proc)))
        ad-do-it
        (kill-buffer buffer))
    ad-do-it))
(ad-activate 'term-sentinel)

(<span style="color: #718c00;">defadvice</span> <span style="color: #f5871f;">ansi-term</span> (before force-zsh)
  (<span style="color: #718c00;">interactive</span> (list <span style="color: #3e999f;">"/bin/zsh"</span>)))
(ad-activate 'ansi-term)

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/term-mode-hook</span> ()
  <span style="color: #8959a8;">"Setup `term-mode`."</span>
  (goto-address-mode)
  (<span style="color: #718c00;">setq-local</span> term-buffer-maximum-size 10000))

(add-hook 'term-mode-hook 'bnb/term-mode-hook)

(<span style="color: #718c00;">defalias</span> '<span style="color: #f5871f;">zsh</span> 'ansi-term)

(<span style="color: #718c00;">setq</span> ansi-term-color-vector
      [term term-color-black term-color-red term-color-green term-color-yellow term-color-blue term-color-magenta term-color-cyan term-color-white]
      ansi-color-faces-vector
      [default bold shadow italic underline bold bold-italic bold])
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf830ee" class="outline-4">
<h4 id="orgcf830ee"><span class="section-number-4">5.5.2.</span> Eshell</h4>
<div class="outline-text-4" id="text-5-5-2">
<p>
Built-in Eshell can provide a shell that works the same on windows
or GNU/Linux. One of the really cool features is that you can
define commands to use (like aliases) within the shell and have
them directly integrate with emacs.
</p>
</div>

<ol class="org-ol">
<li><a id="orga75ed89"></a>Eshell Settings<br />
<div class="outline-text-5" id="text-5-5-2-1">
<p>
Turn off any <code>$PAGER</code> settings inherited in the
environment. Because this is running in Emacs, there is no need
for a pager.
</p>

<p>
Then provide a helper functionm to turn off <code>company-mode</code> and add
some convient aliases.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setenv <span style="color: #3e999f;">"PAGER"</span> <span style="color: #3e999f;">"cat"</span>)

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/setup-eshell</span> ()
  <span style="color: #8959a8;">"Setup functions to run in the eshell hook"</span>
  (company-mode -1)
  (eshell/alias <span style="color: #3e999f;">"em"</span> <span style="color: #3e999f;">"emacs"</span>)
  (eshell/alias <span style="color: #3e999f;">"ll"</span> <span style="color: #3e999f;">"ls -Aloh"</span>)
  (<span style="color: #718c00;">pcase</span> system-type
    ('darwin (eshell/alias <span style="color: #3e999f;">"llc"</span> <span style="color: #3e999f;">"*ls -AlohG"</span>))
    (- (eshell/alias <span style="color: #3e999f;">"llc"</span> <span style="color: #3e999f;">"*ls -AlohG --color=always"</span>))))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">eshell</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:commands</span> eshell
  <span style="color: #8959a8;">:hook</span> (eshell-mode . (bnb/setup-eshell)))
</pre>
</div>
</div>
</li>

<li><a id="orgca8905c"></a>Eshell Commands<br />
<div class="outline-text-5" id="text-5-5-2-2">
<p>
Fast fingers are used to typing <code>emacs</code> at a prompt to open a file.
This gives the same behavior in <code>eshell</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/emacs</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  <span style="color: #8959a8;">"Open a file in emacs the natural way"</span>
  (<span style="color: #718c00;">if</span> (null args)
      <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">If emacs is called by itself, then just go to emacs directly</span>
      (bury-buffer)
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">If opening multiple files with a directory name, e.g.</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&gt; emacs bar/bar.txt foo.txt</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">then the names must be expanded to complete file paths.</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Otherwise, find-file will look in the current directory which</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">would fail for '</span><span style="color: #4271ae; font-style: italic;">foo.txt</span><span style="color: #8e908c; font-style: italic;">' in the example above.</span>
    (mapc #'find-file (mapcar #'expand-file-name (eshell-flatten-list (reverse args))))))
</pre>
</div>

<p>
One can also keep the shell active and open files in the other
window.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/emo</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  (mapc
   (<span style="color: #718c00;">lambda</span> (f)
     (<span style="color: #718c00;">save-selected-window</span>
       (find-file-other-window f)))
   (mapcar #'expand-file-name (eshell-flatten-list (reverse args)))))
</pre>
</div>

<p>
On a windows box, setup grep to be a cygwin version.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">when</span> (eq system-type 'windows-nt)
  (<span style="color: #718c00;">with-eval-after-load</span> <span style="color: #3e999f;">"eshell"</span>
    (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/grep</span> (<span style="color: #4271ae;">&amp;rest</span> args)
      (eshell-grep <span style="color: #3e999f;">"c:/cygwin/bin/grep.exe"</span> args t))))
</pre>
</div>


<p>
For Magit, there are some niceties to add.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gst</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  (magit-status-setup-buffer (<span style="color: #718c00;">pop</span> args))
  (eshell/echo))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gd</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  (magit-diff-unstaged)
  (eshell/echo))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gds</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  (magit-diff-staged)
  (eshell/echo))
</pre>
</div>
</div>
</li>


<li><a id="orgb33c7d7"></a>Plan 9 Smart Shells<br />
<div class="outline-text-5" id="text-5-5-2-3">
<p>
See <a href="http://www.masteringemacs.org/article/complete-guide-mastering-eshell">the complete guide to mastering Eshell</a> for more on this.
Basically, the cursor stays on the command for editing if
necessary.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">eshell</span>)
  (<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">em-smart</span>)

  (<span style="color: #718c00;">setq</span> eshell-where-to-jump 'begin)
  (<span style="color: #718c00;">setq</span> eshell-review-quick-commands nil)
  (<span style="color: #718c00;">setq</span> eshell-smart-space-goes-to-end t)
  (add-hook  'eshell-mode-hook 'eshell-smart-initialize))
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>


<div id="outline-container-orgede521e" class="outline-3">
<h3 id="orgede521e"><span class="section-number-3">5.6.</span> Visual</h3>
<div class="outline-text-3" id="text-5-6">
</div>
<div id="outline-container-orge62e695" class="outline-4">
<h4 id="orge62e695"><span class="section-number-4">5.6.1.</span> All the icons</h4>
<div class="outline-text-4" id="text-5-6-1">
<p>
<a href="https://github.com/domtronn/all-the-icons.el">https://github.com/domtronn/all-the-icons.el</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">all-the-icons</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (all-the-icons-material all-the-icons-faicon)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> org-agenda-category-icon-alist
        `((<span style="color: #3e999f;">"[rR]efile"</span> ,(list (all-the-icons-faicon <span style="color: #3e999f;">"inbox"</span>)) nil nil <span style="color: #8959a8;">:ascent</span> center)
          (<span style="color: #3e999f;">"[Pp]ersonal"</span> ,(list (all-the-icons-faicon <span style="color: #3e999f;">"tasks"</span>)) nil nil <span style="color: #8959a8;">:ascent</span> center)
          (<span style="color: #3e999f;">".*"</span> ,(list (all-the-icons-material <span style="color: #3e999f;">"tab"</span>)) nil nil <span style="color: #8959a8;">:ascent</span> center))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org8919331"></a>All the icons Dired<br />
<div class="outline-text-5" id="text-5-6-1-1">
<p>
Dired can also make use of pretty icons. Because of this
integration, <code>sunrise-commander</code> also gets some nice icons.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">all-the-icons-dired</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (all-the-icons-dired-mode)
  <span style="color: #8959a8;">:hook</span> (dired-mode . all-the-icons-dired-mode))
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgf52b114" class="outline-2">
<h2 id="orgf52b114"><span class="section-number-2">6.</span> Style</h2>
<div class="outline-text-2" id="text-6">
<p>
The following sections describe items that affect the visual
elements of Emacs.
</p>
</div>

<div id="outline-container-org7913f92" class="outline-3">
<h3 id="org7913f92"><span class="section-number-3">6.1.</span> Frame Changes</h3>
<div class="outline-text-3" id="text-6-1">
<p>
These following items make Emacs really beautiful on every
platform.  I remove the menu bar, tool bar and the scroll bar for
starters.  Then, I setup the fringe area with some items
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">if</span> (fboundp 'menu-bar-mode) (menu-bar-mode -1))
(<span style="color: #718c00;">if</span> (fboundp 'tool-bar-mode) (tool-bar-mode -1))
(<span style="color: #718c00;">if</span> (fboundp 'scroll-bar-mode) (scroll-bar-mode -1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga21fe4b" class="outline-3">
<h3 id="orga21fe4b"><span class="section-number-3">6.2.</span> Window Changes</h3>
<div class="outline-text-3" id="text-6-2">
<p>
In the fringe area, I like to have markers to show me where the
buffer begins/ends on the right. On the left, I have emacs show
little dashes where empty lines exist.
</p>

<p>
In the title bar, I have it print the buffer name, full file name
and size.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq-default</span> indicate-buffer-boundaries 'right)
(<span style="color: #718c00;">setq-default</span> indicate-empty-lines t)
(<span style="color: #718c00;">setq-default</span> frame-title-format '(<span style="color: #3e999f;">"%b %f %I"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga51cfa7" class="outline-3">
<h3 id="orga51cfa7"><span class="section-number-3">6.3.</span> Faces</h3>
<div class="outline-text-3" id="text-6-3">
</div>
<div id="outline-container-org15ad9ed" class="outline-4">
<h4 id="org15ad9ed"><span class="section-number-4">6.3.1.</span> Default Fonts</h4>
<div class="outline-text-4" id="text-6-3-1">
<p>
I love <i>Source Code Pro</i>, but I'm giving <i>Fira Code a try</i> for some
extra ligature fun.
</p>

<p>
<a href="https://github.com/tonsky/FiraCode/wiki/Setting-up-Emacs">https://github.com/tonsky/FiraCode/wiki/Setting-up-Emacs</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">if</span> window-system
      (<span style="color: #718c00;">progn</span>
        (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/filter-existing-fonts</span> (fl)
          <span style="color: #8959a8;">"Filter the list for only existing fonts"</span>
          (seq-filter #'font-info fl))
        (<span style="color: #718c00;">setq</span> bnb/fontlist
              '(<span style="color: #3e999f;">"-*-Lunar Mono-*-expanded-*-12"</span> <span style="color: #3e999f;">"-*-Lunar Mono-*-*-*-12"</span> <span style="color: #3e999f;">"Fira Code-13"</span> <span style="color: #3e999f;">"Source Code Pro-13"</span>)
              bnb/font-ring
              (ring-convert-sequence-to-ring (seq-filter #'font-info bnb/fontlist))
              bnb/font
              (ring-ref bnb/font-ring 0))
        (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-apply</span> (font)
          <span style="color: #8959a8;">"Change the default font to FONT."</span>
          (set-frame-font (<span style="color: #718c00;">setq</span> bnb/font font))
          (message <span style="color: #3e999f;">"Set default font to %s"</span> bnb/font))
        (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-next</span> ()
          <span style="color: #8959a8;">"Cycle the default font to the next in the ring."</span>
          (<span style="color: #718c00;">interactive</span>)
          (bnb/font-apply (ring-next bnb/font-ring bnb/font)))
        (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-prev</span> ()
          <span style="color: #8959a8;">"Cycle the default font to the previous in the ring."</span>
          (<span style="color: #718c00;">interactive</span>)
          (bnb/font-apply (ring-prev bnb/font-ring bnb/font)))
        (set-frame-font bnb/font))
    (<span style="color: #718c00;">bind-keys</span>
     (<span style="color: #3e999f;">"H-f"</span> . bnb/font-next)
     (<span style="color: #3e999f;">"H-F"</span> . bnb/font-prev))))

(<span style="color: #718c00;">defconst</span> <span style="color: #eab700;">fira-code-font-lock-keywords-alist</span>
  (mapcar (<span style="color: #718c00;">lambda</span> (regex-char-pair)
            `(,(car regex-char-pair)
              (0 (<span style="color: #718c00;">prog1</span> ()
                   (compose-region (match-beginning 1)
                                   (match-end 1)
                                   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">The first argument to concat is a string containing a literal tab</span>
                                   ,(concat <span style="color: #3e999f;">" "</span> (list (decode-char 'ucs (cadr regex-char-pair)))))))))
          '((<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">www</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe100)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">/]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">/]"</span>        #Xe101)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*\\*\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>             #Xe102)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*\\*/</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe103)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe104)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">*]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*/</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>              #Xe105)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\\\\\\\</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>              #Xe106)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\\\\\\\\\\\</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>          #Xe107)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">{-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe108)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\[</span><span style="color: #4271ae;">\\</span><span style="color: #3e999f;">]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe109)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">::</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe10a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">:::</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe10b)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">:=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe10c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">!!</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe10d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">!=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe10e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">!==</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe10f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-}</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe110)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">--</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe111)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">---</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe112)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">--&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe113)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">-]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe114)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-&gt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe115)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe116)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-&lt;&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe117)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-~</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe118)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#{</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe119)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#\\[</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe11a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">##</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe11b)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">###</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe11c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">####</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe11d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#(</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe11e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#\\?</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe11f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#_</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe120)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#_(</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe121)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe122)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe123)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.\\.</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe124)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.\\.&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe125)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.\\.\\.</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>             #Xe126)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\?=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe127)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\?\\?</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe128)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">;;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe129)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe12a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/\\*\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe12b)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe12c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/==</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe12d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe12e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">//</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe12f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">///</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe130)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&amp;&amp;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe131)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">||</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe132)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">||=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe133)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">|]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">|=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe134)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">|&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe135)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\^=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe136)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\$&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe137)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\+\\+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe138)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\+\\+\\+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>             #Xe139)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\+&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe13a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=:=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe13b)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">!/]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">==</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">&gt;]"</span>           #Xe13c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">===</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe13d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">==&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe13e)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe13f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=&gt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe140)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe141)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=&lt;&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe142)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=/=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe143)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe144)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe145)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;=&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe146)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">-=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe147)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;&gt;-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe148)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;&gt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe149)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;&gt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe14a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe14b)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\*&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                 #Xe14c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;|</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe14d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;|&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe14e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\$</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe14f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\$&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                 #Xe150)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;!--</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe151)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe152)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;--</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe153)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;-&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe154)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe155)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\+&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                 #Xe156)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe157)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;==</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe158)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;=&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe159)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;=&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe15a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe15b)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">-=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe15c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&lt;-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe15d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&lt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe15e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&lt;&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe15f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;~</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe160)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;~~</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe161)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;/</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe162)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;/&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe163)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~@</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe164)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe165)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe166)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe167)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">&lt;]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~~</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe168)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~~&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe169)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">%%</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe16a)
            <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">("\\(x\\)"                   #Xe16b) This ended up being hard to do properly so i'm leaving it out.</span>
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">:=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">:</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">:=]"</span>           #Xe16c)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">\\+&lt;&gt;]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">\\+&lt;&gt;]"</span>   #Xe16d)
            (<span style="color: #3e999f;">"[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">\\*/&lt;&gt;]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #f5871f;">^</span><span style="color: #3e999f;">\\*/&lt;&gt;]"</span> #Xe16f))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">add-fira-code-symbol-keywords</span> ()
  (font-lock-add-keywords nil fira-code-font-lock-keywords-alist))

<span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-fira-code-symbol-keywords)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb962227" class="outline-4">
<h4 id="orgb962227"><span class="section-number-4">6.3.2.</span> Unicode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-6-3-2">
<p>
Support unicode fonts
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">unicode-fonts</span>
  <span style="color: #8959a8;">:disabled</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:init</span>
  (unicode-fonts-setup))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge5f20a3" class="outline-4">
<h4 id="orge5f20a3"><span class="section-number-4">6.3.3.</span> Trying out fonts on Windows</h4>
<div class="outline-text-4" id="text-6-3-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/windows-set-font</span> ()
  <span style="color: #8959a8;">"Use Windows font selection to set the default font."</span>
  (<span style="color: #718c00;">interactive</span>)
  (set-face-attribute 'default nil <span style="color: #8959a8;">:font</span> (w32-select-font)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf72ee0a" class="outline-4">
<h4 id="orgf72ee0a"><span class="section-number-4">6.3.4.</span> Dynamic Font sizes</h4>
<div class="outline-text-4" id="text-6-3-4">
<p>
Changing font sizes in presentations is crucial to have at hand. I
use the following keybindings. <code>C--</code> overrides the negative argument
function, but that one is also accessible by <code>M--</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/change-frame-font-size</span> (fn)
  <span style="color: #8959a8;">"Change the frame font size according to function FN."</span>
  (<span style="color: #718c00;">let*</span> ((font-name (frame-parameter nil 'font))
         (decomposed-font-name (x-decompose-font-name font-name))
         (font-size (string-to-number (aref decomposed-font-name 5))))
    (aset decomposed-font-name 5 (int-to-string (funcall fn font-size)))
    (set-frame-font (x-compose-font-name decomposed-font-name))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/frame-text-scale-increase</span> ()
  <span style="color: #8959a8;">"Increase the frame font size by 1."</span>
  (<span style="color: #718c00;">interactive</span>)
  (bnb/change-frame-font-size '1+))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/frame-text-scale-decrease</span> ()
  <span style="color: #8959a8;">"Decrease the frame font size by 1."</span>
  (<span style="color: #718c00;">interactive</span>)
  (bnb/change-frame-font-size '1-))

(<span style="color: #718c00;">elpaca</span> nil
  (<span style="color: #718c00;">bind-keys</span>
   (<span style="color: #3e999f;">"C-+"</span> . text-scale-increase)
   (<span style="color: #3e999f;">"C--"</span> . text-scale-decrease)
   (<span style="color: #3e999f;">"s--"</span> . bnb/frame-text-scale-decrease)
   (<span style="color: #3e999f;">"s-+"</span> . bnb/frame-text-scale-increase)
   (<span style="color: #3e999f;">"s-="</span> . bnb/frame-text-scale-increase)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org94d04e5" class="outline-4">
<h4 id="org94d04e5"><span class="section-number-4">6.3.5.</span> Mode Line Style</h4>
<div class="outline-text-4" id="text-6-3-5">
<p>
I dislike the box around the <code>mode-line</code> making it look like a
button. I disable (set to <code>nil</code>) this face attribute, <code>box</code>, to get a
flat feel. Be sure to do it to all <code>mode-line</code> faces that have this
attribute.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute 'mode-line nil <span style="color: #8959a8;">:box</span> nil)
(set-face-attribute 'mode-line-inactive nil <span style="color: #8959a8;">:box</span> nil)
(set-face-attribute 'mode-line-highlight nil <span style="color: #8959a8;">:box</span> nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc40ec2" class="outline-4">
<h4 id="orgfc40ec2"><span class="section-number-4">6.3.6.</span> Missing Glyphs</h4>
<div class="outline-text-4" id="text-6-3-6">
<p>
If I ever use a font with a missing glyph, this will let Emacs
check the <i>Symbola</i> font for the missing data.
</p>

<p>
<a href="http://users.teilar.gr/~g1951d/">Download Symbola</a> if you do not have it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-fontset-font <span style="color: #3e999f;">"fontset-default"</span> nil
                  (font-spec <span style="color: #8959a8;">:size</span> 20 <span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Symbola"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1be60cb" class="outline-4">
<h4 id="org1be60cb"><span class="section-number-4">6.3.7.</span> Cursor width</h4>
<div class="outline-text-4" id="text-6-3-7">
<p>
Make the cursor the full width of the character at point.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> x-stretch-cursor t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4ef1ae4" class="outline-3">
<h3 id="org4ef1ae4"><span class="section-number-3">6.4.</span> Themes</h3>
<div class="outline-text-3" id="text-6-4">
<p>
I used to have <a href="http://www.greghendershott.com/2017/02/emacs-themes.html">something else</a> from <a href="http://www.greghendershott.com">Greg Hendershot</a>, but now I
created my own theme override and layer it corectly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/disable-all-themes</span> ()
  <span style="color: #8959a8;">"Disable all enabled themes."</span>
  (<span style="color: #718c00;">interactive</span>)
  (mapc #'disable-theme custom-enabled-themes))
</pre>
</div>

<p>
On creating themes:
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Custom-Themes.html#Creating-Custom-Themes">https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Custom-Themes.html#Creating-Custom-Themes</a>
</p>
</div>

<div id="outline-container-org3dec937" class="outline-4">
<h4 id="org3dec937"><span class="section-number-4">6.4.1.</span> Extra Themes</h4>
<div class="outline-text-4" id="text-6-4-1">
<p>
I like to have a few options for themes easily available. This set
respresents my favorite go-to combinations.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">minimal-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">gruvbox-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">material-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">tango-plus-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">color-theme-sanityinc-tomorrow</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">dichromacy</span>
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">adwaita</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd0125c0" class="outline-3">
<h3 id="orgd0125c0"><span class="section-number-3">6.5.</span> Sky Color Clock</h3>
<div class="outline-text-3" id="text-6-5">
<p>
This is a nice addition to any modeline. In a little block, it
shows the date, time, moon phase
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">sky-color-clock</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:elpaca</span>
  (sky-color-clock <span style="color: #8959a8;">:host</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"zk-phi/sky-color-clock"</span>)
  <span style="color: #8959a8;">:config</span>
  (sky-color-clock-initialize 40)
  (<span style="color: #718c00;">setq</span> sky-color-clock-enable-emoji-icon t)
  (sky-color-clock-initialize-openweathermap-client
   bnb/openweathermap-api-key
   bnb/openweathermap-city-id))
</pre>
</div>
</div>
</div>

<div id="outline-container-org478d964" class="outline-3">
<h3 id="org478d964"><span class="section-number-3">6.6.</span> Doom Modeline</h3>
<div class="outline-text-3" id="text-6-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">doom-modeline</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:init</span> (doom-modeline-mode t)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span>
   doom-modeline-height 0))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7e0e31d" class="outline-3">
<h3 id="org7e0e31d"><span class="section-number-3">6.7.</span> ⁂ Mode</h3>
<div class="outline-text-3" id="text-6-7">
<p>
Let's try ⁂-mode for an interesting mini-buffer line.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">asterism-mode</span>
  <span style="color: #8959a8;">:after</span> sky-color-clock
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:elpaca</span>
  (asterism-mode <span style="color: #8959a8;">:host</span> gitlab <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"lunar.studio/asterism-mode"</span>)
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/smaller-sky-color</span> ()
    (<span style="color: #718c00;">let*</span> ((scc (sky-color-clock))
           (len (length scc)))
      (add-face-text-property 0 len '(<span style="color: #8959a8;">:height</span> 90) t scc)
                                        <span style="color: #8e908c; font-style: italic;">;</span><span style="color: #8e908c; font-style: italic;">(add-face-text-property 0 len '(:justification right) t scc)</span>
      scc))
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> &#8258;-format '((<span style="color: #8959a8;">:eval</span> (bnb/smaller-sky-color)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd522bf5" class="outline-3">
<h3 id="orgd522bf5"><span class="section-number-3">6.8.</span> Font lock profiling</h3>
<div class="outline-text-3" id="text-6-8">
<p>
Allow for profiling of font-locking.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">font-lock-profiler</span>
  <span style="color: #8959a8;">:disabled</span> t
  <span style="color: #8959a8;">:commands</span> (font-lock-profiler-start
             font-lock-profiler-buffer
             font-lock-profiler-region))
</pre>
</div>
</div>
</div>

<div id="outline-container-org91b7fa2" class="outline-3">
<h3 id="org91b7fa2"><span class="section-number-3">6.9.</span> Pretty Symbols</h3>
<div class="outline-text-3" id="text-6-9">
<p>
Emacs can be so pretty sometimes.
</p>
</div>

<div id="outline-container-org13a16cb" class="outline-4">
<h4 id="org13a16cb"><span class="section-number-4">6.9.1.</span> Pretty mode</h4>
<div class="outline-text-4" id="text-6-9-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">pretty-mode</span>
  <span style="color: #8959a8;">:disabled</span> t
  <span style="color: #8959a8;">:config</span>
  (global-pretty-mode t)
  (pretty-activate-groups
   '(<span style="color: #8959a8;">:sub-and-superscripts</span> <span style="color: #8959a8;">:greek</span> <span style="color: #8959a8;">:arithmetic-nary</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8cb6450" class="outline-4">
<h4 id="org8cb6450"><span class="section-number-4">6.9.2.</span> Prettify symbols mode</h4>
<div class="outline-text-4" id="text-6-9-2">
<p>
Some reading to consider:
</p>

<ul class="org-ul">
<li><a href="http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html">http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html</a></li>
<li><a href="https://www.emacswiki.org/emacs/PrettySymbolsForLanguages">https://www.emacswiki.org/emacs/PrettySymbolsForLanguages</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">prog-mode</span> <span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">Contains pretty-symbols-mode</span>
  <span style="color: #8959a8;">:elpaca</span> nil
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> prettify-symbols-unprettify-at-point 'right-edge)
  (global-prettify-symbols-mode t)
  <span style="color: #8959a8;">:hook</span>
  (python-mode .
               (<span style="color: #718c00;">lambda</span> ()
                 (mapc (<span style="color: #718c00;">lambda</span> (pair) (<span style="color: #718c00;">push</span> pair prettify-symbols-alist))
                       '(<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Syntax</span>
                         (<span style="color: #3e999f;">"def"</span> .      ?&#8497;)
                         (<span style="color: #3e999f;">"not"</span> .      ?&#10071;)
                         (<span style="color: #3e999f;">"in"</span> .       ?&#8712;)
                         (<span style="color: #3e999f;">"not in"</span> .   ?&#8713;)
                         (<span style="color: #3e999f;">"return"</span> .   ?&#10236;)
                         (<span style="color: #3e999f;">"yield"</span> .    ?&#10235;)
                         (<span style="color: #3e999f;">"for"</span> .      ?&#8704;)
                         <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Base Types</span>
                         (<span style="color: #3e999f;">"int"</span> .      ?&#8484;)
                         (<span style="color: #3e999f;">"float"</span> .    ?&#8477;)
                         (<span style="color: #3e999f;">"str"</span> .      ?&#120138;)
                         (<span style="color: #3e999f;">"True"</span> .     ?&#120139;)
                         (<span style="color: #3e999f;">"False"</span> .    ?&#120125;)
                         <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Mypy</span>
                         (<span style="color: #3e999f;">"Dict"</span> .     ?&#120071;)
                         (<span style="color: #3e999f;">"List"</span> .     ?&#8466;)
                         (<span style="color: #3e999f;">"Tuple"</span> .    ?&#10754;)
                         (<span style="color: #3e999f;">"Set"</span> .      ?&#8486;)
                         (<span style="color: #3e999f;">"Iterable"</span> . ?&#120074;)
                         (<span style="color: #3e999f;">"Any"</span> .      ?&#10068;)
                         (<span style="color: #3e999f;">"Union"</span> .    ?&#8746;))))))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8ebd76e" class="outline-3">
<h3 id="org8ebd76e"><span class="section-number-3">6.10.</span> Color</h3>
<div class="outline-text-3" id="text-6-10">
</div>
<div id="outline-container-orgc5162c5" class="outline-4">
<h4 id="orgc5162c5"><span class="section-number-4">6.10.1.</span> Rainbow Mode</h4>
<div class="outline-text-4" id="text-6-10-1">
<p>
In order to see the colors <i>in the buffer</i> this mode higlights
color words and definitions with their values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rainbow-mode</span>
  <span style="color: #8959a8;">:commands</span> (rainbow-mode)
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org87a554e" class="outline-4">
<h4 id="org87a554e"><span class="section-number-4">6.10.2.</span> KureColor</h4>
<div class="outline-text-4" id="text-6-10-2">
<p>
Color helper KureColor allows easy modifications of hue,
saturation and brightness.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">kurecolor</span>
  <span style="color: #8959a8;">:bind</span> ((<span style="color: #3e999f;">"H-k"</span> . kurecolor-increase-hue-by-step)
         (<span style="color: #3e999f;">"H-j"</span> . kurecolor-decrease-hue-by-step)
         (<span style="color: #3e999f;">"s-k"</span> . kurecolor-increase-saturation-by-step)
         (<span style="color: #3e999f;">"s-j"</span> . kurecolor-decrease-saturation-by-step)
         (<span style="color: #3e999f;">"s-l"</span> . kurecolor-increase-brightness-by-step)
         (<span style="color: #3e999f;">"s-h"</span> . kurecolor-decrease-brightness-by-step))
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org379db67" class="outline-2">
<h2 id="org379db67"><span class="section-number-2">7.</span> Postamble</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orgbcd0c8d" class="outline-3">
<h3 id="orgbcd0c8d"><span class="section-number-3">7.1.</span> Local customizations (custom.el)</h3>
<div class="outline-text-3" id="text-7-1">
<p>
I typically use the customize interface to generate any local
settings such as proxies, paths, fonts, etc. that may vary from
machine to machine.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> custom-file <span style="color: #3e999f;">"~/.emacs.d/custom.el"</span>)
(load-file custom-file)
</pre>
</div>
</div>
</div>

<div id="outline-container-org46e6fc7" class="outline-3">
<h3 id="org46e6fc7"><span class="section-number-3">7.2.</span> Local customizations (euser-login-name)</h3>
<div class="outline-text-3" id="text-7-2">
<p>
I also intend to have a generic call to an installed local file
that may need to behave differently from <code>custom.el</code>. This loads
last so that it can modify any existing setting made here to work
on the specific system in question.
</p>

<p>
In the code below, I add <code>~/.emacs.d/</code> to the load path and have a
protected call to <code>load-library</code>.  If the file exists, it gets
loaded, otherwise the error normally returned if the file is
non-existent gets ignored.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">condition-case</span> err
    (<span style="color: #718c00;">progn</span>
      (load-file (format <span style="color: #3e999f;">"~/.emacs.d/%s.el"</span>  user-login-name))
      (message <span style="color: #3e999f;">"Loaded local settings file %s.el"</span> user-login-name))
  (file-error
   (message <span style="color: #3e999f;">"Skipping %s library as it does not exist."</span> user-login-name))
  nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org345853f" class="outline-3">
<h3 id="org345853f"><span class="section-number-3">7.3.</span> Housekeeping</h3>
<div class="outline-text-3" id="text-7-3">
<p>
This message prints when Elpaca loading is complete
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">elpaca</span> nil
  (message <span style="color: #3e999f;">"LOADING COMPLETE: %s"</span> (emacs-init-time)))
</pre>
</div>

<p>
The local variables here setup a save hook (just in this buffer)
that will create <a href="file:///Users/ben.beckwith/.emacs.d/full.el">full.el</a> for loading.
</p>

<p>
I used to use Org to tangle on the fly during initialization, but
this method supports a pre-tangling that speeds up initialization.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Benjamin Beckwith</p>
<p class="date">Created: 2024-01-30 Tue 14:20</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
