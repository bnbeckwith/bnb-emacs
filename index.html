<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-07-13 Mon 14:16 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BNBECKWITH Tangled Emacs Initialization</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Benjamin Beckwith" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">BNBECKWITH Tangled Emacs Initialization</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org8cc2e1f">1. Installation</a></li>
<li><a href="#org564d780">2. Notes</a>
<ul>
<li><a href="#orge2b4564">2.1. Emacs Build</a></li>
<li><a href="#org4c6b4c6">2.2. Pending sections</a></li>
<li><a href="#org5f1bb68">2.3. Performance</a></li>
</ul>
</li>
<li><a href="#orgdd25649">3. Personal Information</a></li>
<li><a href="#orgd874b98">4. Local customizations (custom.el)</a></li>
<li><a href="#org784105c">5. Small Settings</a>
<ul>
<li><a href="#org4603e4e">5.1. Package archives</a>
<ul>
<li><a href="#org9c00e0d">5.1.1. From Source</a></li>
<li><a href="#org2cc201e">5.1.2. Load the latest files</a></li>
<li><a href="#orgc8fb69a">5.1.3. Paradox</a></li>
</ul>
</li>
<li><a href="#org0fc5de1">5.2. Binding Keys</a></li>
<li><a href="#orgb233f21">5.3. Path</a></li>
<li><a href="#orgbec3616">5.4. Backups</a></li>
<li><a href="#orgaa56e15">5.5. Super keys</a></li>
<li><a href="#org23e812a">5.6. Hydra</a></li>
<li><a href="#org700687a">5.7. Delight</a></li>
<li><a href="#org53004d6">5.8. Personal Keymaps</a>
<ul>
<li><a href="#org3f9ec94">5.8.1. Toggle Map</a></li>
<li><a href="#org33a93fe">5.8.2. Elisp Maps</a></li>
<li><a href="#orga2f09e4">5.8.3. Small bindings</a></li>
<li><a href="#org0ce6893">5.8.4. Kill current buffer</a></li>
</ul>
</li>
<li><a href="#org64319d8">5.9. Minibuffer History</a></li>
<li><a href="#org0a8c2ec">5.10. Abbrev</a></li>
<li><a href="#org3eaf5f5">5.11. Hippie Expand</a></li>
<li><a href="#org9a1da25">5.12. Emacs Bookmarks</a></li>
<li><a href="#orgd2d287e">5.13. Writegood Mode</a></li>
<li><a href="#orgdb049a2">5.14. Spell Checking</a></li>
<li><a href="#org7ec6b11">5.15. Proselint</a></li>
<li><a href="#org81c13e6">5.16. Development</a></li>
<li><a href="#orgeab191b">5.17. Encryption</a></li>
<li><a href="#org535c512">5.18. Read-only helpers</a></li>
<li><a href="#orgbbd2df9">5.19. Default File encoding</a></li>
<li><a href="#org31e4d58">5.20. Vimrc generic mode</a></li>
<li><a href="#orgd5c2174">5.21. Ediff single frame</a></li>
<li><a href="#orga6cb68d">5.22. Git</a>
<ul>
<li><a href="#orgbbcadb5">5.22.1. Magit</a></li>
<li><a href="#org2660d07">5.22.2. Git timemachine&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#org7c84a33">5.22.3. Smerge</a></li>
</ul>
</li>
<li><a href="#orge4f0860">5.23. Open/Edit This file</a></li>
<li><a href="#org9819e3d">5.24. Sounds</a></li>
<li><a href="#orgea59732">5.25. Midnight Mode</a></li>
<li><a href="#org7a5bb94">5.26. Which Key</a></li>
<li><a href="#orgce73933">5.27. Ace Utilities</a>
<ul>
<li><a href="#org57ed0bf">5.27.1. Ace Flyspell</a></li>
<li><a href="#orgcd743e9">5.27.2. Ace Isearch&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#org24df0fb">5.27.3. Ace Link</a></li>
<li><a href="#org1ec335d">5.27.4. Ace Window</a></li>
<li><a href="#org8cbf74e">5.27.5. Avy Goto</a></li>
<li><a href="#org83be876">5.27.6. Avy Zap</a></li>
</ul>
</li>
<li><a href="#org978e25b">5.28. Edit Server</a></li>
<li><a href="#orge967ee9">5.29. Regexp-Builder</a></li>
<li><a href="#orga4eead5">5.30. IBuffer</a>
<ul>
<li><a href="#org2cb1270">5.30.1. Groups</a></li>
</ul>
</li>
<li><a href="#org926ea45">5.31. Multiple Cursors</a></li>
<li><a href="#org7bf0421">5.32. Expand Region</a></li>
<li><a href="#orgd537439">5.33. Hooks</a>
<ul>
<li><a href="#org767100a">5.33.1. Ensure proper lisping</a></li>
<li><a href="#org24c079d">5.33.2. Auto Reverting in modes</a></li>
</ul>
</li>
<li><a href="#orgf2c8dba">5.34. Recentf</a></li>
<li><a href="#org8f3cd17">5.35. Executable Scripts on save</a></li>
<li><a href="#orga2bdfba">5.36. Scroll Screen Position</a></li>
<li><a href="#org46e01c5">5.37. Unique Buffer Names</a></li>
<li><a href="#orgf3d9cc7">5.38. Focus Mode</a></li>
<li><a href="#orgc63a0fb">5.39. Relative line numbers</a></li>
<li><a href="#orgaa465be">5.40. ImageMagick</a></li>
<li><a href="#org91d6577">5.41. PDF Tools</a></li>
<li><a href="#org7009471">5.42. Helpful</a></li>
<li><a href="#org1f8481d">5.43. All the icons</a>
<ul>
<li><a href="#org20c901a">5.43.1. All the icons Dired</a></li>
</ul>
</li>
<li><a href="#org51ad971">5.44. Discover my mode</a></li>
<li><a href="#orgf66d6a0">5.45. Easy Kill</a></li>
<li><a href="#org9d35625">5.46. Undo Tree</a></li>
<li><a href="#orge8d7b0f">5.47. Adaptive Fill&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
</ul>
</li>
<li><a href="#org0fba8b3">6. Style</a>
<ul>
<li><a href="#org1922343">6.1. Frame Changes</a></li>
<li><a href="#org10a12c1">6.2. Window Changes</a></li>
<li><a href="#org7edf69b">6.3. Faces</a>
<ul>
<li><a href="#org3316043">6.3.1. Default Fonts</a></li>
<li><a href="#org2dd4879">6.3.2. Trying out fonts on Windows</a></li>
<li><a href="#org1cdf738">6.3.3. Dynamic Font sizes</a></li>
<li><a href="#org560b4af">6.3.4. Mode Line Style</a></li>
<li><a href="#org18986da">6.3.5. Missing Glyphs</a></li>
<li><a href="#org381cfb2">6.3.6. Cursor width</a></li>
</ul>
</li>
<li><a href="#org7dbc6d9">6.4. Themes</a>
<ul>
<li><a href="#orgcb05481">6.4.1. Extra Themes</a></li>
</ul>
</li>
<li><a href="#org4489712">6.5. Sky Color Clock</a></li>
<li><a href="#org3c2a9cb">6.6. Doom Modeline</a></li>
<li><a href="#org92eeea9">6.7. Font lock profiling</a></li>
<li><a href="#orga5840c8">6.8. Pretty Symbols</a>
<ul>
<li><a href="#org4ca6ca1">6.8.1. Pretty mode</a></li>
<li><a href="#orgc1ecf06">6.8.2. Prettify symbols mode</a></li>
</ul>
</li>
<li><a href="#org79fa064">6.9. Color</a>
<ul>
<li><a href="#orga104a63">6.9.1. Rainbow Mode</a></li>
<li><a href="#org871a8e7">6.9.2. KureColor</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org1c25da2">7. BNB Helpers</a>
<ul>
<li><a href="#org793bdfd">7.1. Exit behavior</a></li>
<li><a href="#org5df3562">7.2. Workweeks</a></li>
<li><a href="#org3de06b1">7.3. Better window splitting functions</a></li>
<li><a href="#orge5ec164">7.4. Weekly Time Reporting</a></li>
<li><a href="#orgec700c8">7.5. Weekly Score Goal in Org-Agenda</a></li>
<li><a href="#org5d77f0c">7.6. Auto-display agenda</a></li>
<li><a href="#org3ed90d9">7.7. Transparency</a></li>
<li><a href="#org8982279">7.8. Styled HTML Export</a></li>
<li><a href="#orgcdd08b6">7.9. Auto-indent when pasting</a></li>
<li><a href="#org64cc8d9">7.10. Hide mode line</a></li>
</ul>
</li>
<li><a href="#org7fb7110">8. Company</a></li>
<li><a href="#org821c02c">9. File Management</a>
<ul>
<li><a href="#org9d70205">9.1. Dired</a></li>
<li><a href="#org62fea10">9.2. Neotree&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#orgbf71dad">9.3. Sunrise Commander</a></li>
<li><a href="#orgab3a2da">9.4. OSX Dictionary</a></li>
<li><a href="#orgaeff5d2">9.5. OSX Reveal</a></li>
</ul>
</li>
<li><a href="#org6bc6a1c">10. Smart Tabs</a>
<ul>
<li><a href="#org678f412">10.1. Notes</a></li>
</ul>
</li>
<li><a href="#orgc51cab0">11. CUA mode</a>
<ul>
<li><a href="#orge36f6a5">11.1. Bindings</a>
<ul>
<li><a href="#orgea410c0">11.1.1. CUA Rectangles</a></li>
<li><a href="#org12530a2">11.1.2. CUA Global Mark</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgb8d997e">12. Paredit</a></li>
<li><a href="#org6e6da78">13. Paxedit</a></li>
<li><a href="#orgfc6a82f">14. Projectile</a></li>
<li><a href="#orgb2c9628">15. Programming Languages</a>
<ul>
<li><a href="#orgfa5301d">15.1. Utilities</a>
<ul>
<li><a href="#org251c5d3">15.1.1. Flycheck</a></li>
<li><a href="#orga4e923b">15.1.2. Prog fill&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#org43257ce">15.1.3. Language Server Protocol</a></li>
</ul>
</li>
<li><a href="#org13e0f30">15.2. C++</a>
<ul>
<li><a href="#org4a6b574">15.2.1. Compilation Buffers</a></li>
</ul>
</li>
<li><a href="#org05a46f7">15.3. Elisp</a></li>
<li><a href="#orga795ada">15.4. Javascript</a>
<ul>
<li><a href="#org5517673">15.4.1. JS2</a></li>
<li><a href="#orgb268f10">15.4.2. Company tern</a></li>
</ul>
</li>
<li><a href="#org51704c4">15.5. Rust</a></li>
<li><a href="#org536b57a">15.6. Web Mode</a></li>
<li><a href="#orge68765a">15.7. HTML</a>
<ul>
<li><a href="#org9bd9767">15.7.1. Impatient mode</a></li>
<li><a href="#org0c4dd17">15.7.2. Emmet</a></li>
</ul>
</li>
<li><a href="#orgfc9c322">15.8. Plantuml</a></li>
<li><a href="#orgd03988a">15.9. Pollen</a></li>
</ul>
</li>
<li><a href="#orgcc61fa7">16. Ivy, Counsel and Swiper</a>
<ul>
<li><a href="#org96efd04">16.1. Smex</a></li>
<li><a href="#orgac910ec">16.2. Ivy View</a></li>
<li><a href="#orgceeede4">16.3. Ivy Icons</a></li>
</ul>
</li>
<li><a href="#org3bfd66d">17. Shells</a>
<ul>
<li><a href="#orgc1d8208">17.1. Ansi Term</a></li>
<li><a href="#orgb72191a">17.2. Eshell</a>
<ul>
<li><a href="#orgd6c8a6d">17.2.1. Eshell Settings</a></li>
<li><a href="#org4a477d8">17.2.2. Eshell Commands</a></li>
<li><a href="#orgc7652fd">17.2.3. Plan 9 Smart Shells</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc24c24c">18. AucTeX</a>
<ul>
<li><a href="#orgac721dd">18.1. RefTeX</a></li>
<li><a href="#org54ac3e5">18.2. TeX Settings</a></li>
<li><a href="#orgf4028ee">18.3. XeTeX settings</a></li>
<li><a href="#org1cf976e">18.4. DocView</a></li>
</ul>
</li>
<li><a href="#org90cd72e">19. Markdown</a></li>
<li><a href="#org60f9fac">20. Orgmode</a>
<ul>
<li><a href="#org0d07694">20.1. Orgmode Initialization</a></li>
<li><a href="#orga5b4a32">20.2. Auto mode</a></li>
<li><a href="#org0ab0114">20.3. Hooks</a></li>
<li><a href="#org2e7564a">20.4. Keys</a>
<ul>
<li><a href="#org6358125">20.4.1. Global</a></li>
<li><a href="#org8f72474">20.4.2. Speed</a></li>
</ul>
</li>
<li><a href="#orgdc6e4cc">20.5. Org TODO Configuration</a>
<ul>
<li><a href="#org47cb139">20.5.1. Keywords</a></li>
<li><a href="#orgea47ed9">20.5.2. Tags</a></li>
<li><a href="#org770a7dd">20.5.3. Mechanics</a></li>
</ul>
</li>
<li><a href="#org4840c28">20.6. Capture</a>
<ul>
<li><a href="#org4f2dc4c">20.6.1. Capture-template helpers for data tables</a></li>
</ul>
</li>
<li><a href="#orgabe813a">20.7. Refile</a></li>
<li><a href="#org3f48e80">20.8. Agenda</a>
<ul>
<li><a href="#orgf49e5c0">20.8.1. Views</a></li>
</ul>
</li>
<li><a href="#orgc5ba471">20.9. Export</a>
<ul>
<li><a href="#org47d5d4b">20.9.1. HTML</a></li>
<li><a href="#org560300f">20.9.2. LaTeX</a></li>
<li><a href="#org4260a61">20.9.3. EPUB</a></li>
</ul>
</li>
<li><a href="#org8e2af0d">20.10. Clocking</a></li>
<li><a href="#orgb818b28">20.11. Modules</a>
<ul>
<li><a href="#orgc7d970a">20.11.1. Habit</a></li>
</ul>
</li>
<li><a href="#orgb2cb16c">20.12. Babel</a>
<ul>
<li><a href="#org54574c7">20.12.1. Extra Babel Packages</a></li>
</ul>
</li>
<li><a href="#org2579477">20.13. Miscellaneous Settings</a>
<ul>
<li><a href="#org0510618">20.13.1. Columns</a></li>
<li><a href="#org066fe38">20.13.2. Automatically save org files</a></li>
<li><a href="#org4ad895b">20.13.3. File Applications</a></li>
<li><a href="#org559dc64">20.13.4. Goto Interface</a></li>
<li><a href="#org03baf5d">20.13.5. Special Control Keys</a></li>
<li><a href="#org10696f8">20.13.6. Auto-revert mode</a></li>
<li><a href="#org32d4452">20.13.7. IDO Integration</a></li>
<li><a href="#org34d93f6">20.13.8. Display settings</a></li>
<li><a href="#org1987d1b">20.13.9. Insertion</a></li>
<li><a href="#org29688be">20.13.10. Properties</a></li>
<li><a href="#orgd4dcee7">20.13.11. Teleport</a></li>
<li><a href="#orgfe202a6">20.13.12. Plantuml</a></li>
</ul>
</li>
<li><a href="#orgdba1432">20.14. Org Repo Todo&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#org322a368">20.15. Org projectile&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#orgf6bd03c">20.16. Org Ref</a></li>
<li><a href="#org518310d">20.17. Org Noter</a></li>
<li><a href="#org531d84d">20.18. Org Roam</a>
<ul>
<li><a href="#org171ad2d">20.18.1. Company Org Roam</a></li>
</ul>
</li>
<li><a href="#orge8365f1">20.19. Org QL</a></li>
</ul>
</li>
<li><a href="#orgcb205ca">21. Calc</a></li>
<li><a href="#org1d8ca6a">22. Server</a></li>
<li><a href="#org5532646">23. Local customizations (custom.el)</a></li>
<li><a href="#orgeff6614">24. Local customizations (user-login-name)</a></li>
</ul>
</div>
</div>
<p>
This document tangles (in literate programming style) the necessary
commands to initialize Emacs to my liking and the documentation for my
choices.
</p>

<p>
To clone, go to the <a href="http://github.com/bnbeckwith/bnb-emacs">github repository</a>. For a pretty view, head over to
the <a href="http://bnbeckwith.github.com/bnb-emacs">generated page</a>.
</p>

<div id="outline-container-org8cc2e1f" class="outline-2">
<h2 id="org8cc2e1f"><span class="section-number-2">1</span> Installation</h2>
<div class="outline-text-2" id="text-1">
<p>
My <code>init.el</code> file is quite simple and is generated by the following
block. Essentially, I just have to install this package
(<code>bnb-emacs</code>) in the <code>~/.emacs.d/</code> directory and run the following
code block (<code>C-c C-c</code>) to bootstrap the system.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;;; </span><span style="color: #8e908c; font-style: italic;">init.el --- bnbeckwith config -*- eval: (read-only-mode 1) -*-</span>
(<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">package</span>)
(<span style="color: #718c00;">setq</span> package-enable-at-startup nil)
(package-initialize)

(<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">ob-tangle</span>)
(org-babel-load-file <span style="color: #3e999f;">"~/.emacs.d/bnb-emacs/Readme.org"</span>)
</pre>
</div>

<p>
From there on, the bootstrapping is simple. Emacs finds
<code>~/.emacs.d/init.el</code> and runs the code. The first step is to
initialize the packages I have installed via ELPA and others.
</p>

<p>
Next, I load <code>ob-tangle</code> (part of <code>org-mode</code>). Then
<code>org-babel-load-file</code> extracts the emacs-lisp code blocks in this
document and loads the resulting <code>Readme.org</code>.
</p>

<p>
As I add packages or lines to this document, my initialization is
already in place and ready to go.
</p>

<p>
If you are reading this online, the html version of this file is
generated by using `bnb/export-readme` explained in <a href="#org8982279">Styled HTML Export</a>.
</p>
</div>
</div>

<div id="outline-container-org564d780" class="outline-2">
<h2 id="org564d780"><span class="section-number-2">2</span> Notes</h2>
<div class="outline-text-2" id="text-2">
<p>
This section has specific notes that are relevant to my emacs setup
in general and this document in particular.
</p>
</div>

<div id="outline-container-orge2b4564" class="outline-3">
<h3 id="orge2b4564"><span class="section-number-3">2.1</span> Emacs Build</h3>
<div class="outline-text-3" id="text-2-1">
<p>
My current flavor of Emacs comes from:
<a href="https://github.com/d12frosted/homebrew-emacs-plus">https://github.com/d12frosted/homebrew-emacs-plus</a>
</p>
</div>
</div>

<div id="outline-container-org4c6b4c6" class="outline-3">
<h3 id="org4c6b4c6"><span class="section-number-3">2.2</span> Pending sections</h3>
<div class="outline-text-3" id="text-2-2">
<p>
There are some features that I like to take on a <i>trial run</i>. These
are marked with the <b>PENDING</b> tag to help me remember and evaluate.
</p>
</div>
</div>

<div id="outline-container-org5f1bb68" class="outline-3">
<h3 id="org5f1bb68"><span class="section-number-3">2.3</span> Performance</h3>
<div class="outline-text-3" id="text-2-3">
<p>
By utilizing elements of <code>use-package</code>, I can keep an eye on
troublesome packages during startup. Together, these turn on
reporting and set the minimum time to consider when building the
report.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> use-package-verbose t
      use-package-compute-statistics t
      use-package-minimum-reported-time 0)
</pre>
</div>

<p>
The generated messages will be found in the <code>*Messsages*</code> buffer.
</p>
</div>
</div>
</div>

<div id="outline-container-orgdd25649" class="outline-2">
<h2 id="orgdd25649"><span class="section-number-2">3</span> Personal Information</h2>
<div class="outline-text-2" id="text-3">
<p>
The full name is used for email messages.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> user-full-name <span style="color: #3e999f;">"Benjamin Beckwith"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd874b98" class="outline-2">
<h2 id="orgd874b98"><span class="section-number-2">4</span> Local customizations (custom.el)</h2>
<div class="outline-text-2" id="text-4">
<p>
I typically use the customize interface to generate any local
settings such as proxies, paths, fonts, etc. that may vary from
machine to machine. This keeps the setup the same and allows for
only some details to differ.
</p>

<p>
I like to set the custom file explicitly. Mine resides in the
<code>~/.emacs.d/</code> directory. This code block loads it if it exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> custom-file <span style="color: #3e999f;">"~/.emacs.d/custom.el"</span>)
(<span style="color: #718c00;">if</span> (file-exists-p custom-file)
    (load-file custom-file))

(<span style="color: #718c00;">with-eval-after-load</span> <span style="color: #3e999f;">"bind-key"</span>
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"&lt;f7&gt;"</span>
            (<span style="color: #718c00;">lambda</span> ()
              (<span style="color: #718c00;">interactive</span>
               (find-file custom-file)))))
</pre>
</div>

<p>
If the file doesn't exist, <code>Emacs</code> will still use the file if any
changes are made through the <i>custom interface</i>.
</p>

<p>
Sometimes I'll get bad settings or cruft in that file. I now have a
key, <code>&lt;F7&gt;</code>, for easy navigation to wherever the <code>custom-file</code> points.
</p>
</div>
</div>

<div id="outline-container-org784105c" class="outline-2">
<h2 id="org784105c"><span class="section-number-2">5</span> Small Settings</h2>
<div class="outline-text-2" id="text-5">
<p>
The next sections encompass some small settings to make Emacs mine
(and maybe yours). There is a loose order of dependency, but even
then it isn't strict.
</p>
</div>

<div id="outline-container-org4603e4e" class="outline-3">
<h3 id="org4603e4e"><span class="section-number-3">5.1</span> Package archives</h3>
<div class="outline-text-3" id="text-5-1">
<p>
I like to pull from the popular list of package archives.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'package-archives '(<span style="color: #3e999f;">"melpa"</span> . <span style="color: #3e999f;">"http://melpa.org/packages/"</span>) t)
(add-to-list 'package-archives '(<span style="color: #3e999f;">"org"</span> . <span style="color: #3e999f;">"https://orgmode.org/elpa/"</span>) t)
</pre>
</div>

<p>
I install the packages with these repositories. This may
take some time the first time it runs.
</p>

<p>
Org-mode has their own repositories that keep me on the bleeding
edge. They is why that repository is listed separately above.
</p>

<p>
Once the repositories are defined, it's time to bootstrap the
package system and <code>use-package</code> in general since I use it
everywhere.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">unless</span> (package-installed-p 'use-package)
  (package-refresh-contents)
  (package-install 'use-package))
(<span style="color: #718c00;">setq</span> use-package-verbose t
      use-package-always-ensure nil)
(<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">use-package</span>)
</pre>
</div>
</div>

<div id="outline-container-org9c00e0d" class="outline-4">
<h4 id="org9c00e0d"><span class="section-number-4">5.1.1</span> From Source</h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
<a href="https://github.com/quelpa/quelpa">Quelpa</a> grabs and builds packages from source (e.g. Github). I have
found a few things not in any package archive yet that I'd like to
have automatically installed.
</p>

<p>
Along with the <code>quelpa</code> package, <code>quelpa-use-package</code> adds a
handler to <code>use-package</code> making it fit in nicely with the rest of
my configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">quelpa</span>)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">quelpa-use-package</span> <span style="color: #8959a8;">:ensure</span> t)

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Handle the `</span><span style="color: #4271ae; font-style: italic;">use-package-always-ensure</span><span style="color: #8e908c; font-style: italic;">' setting</span>
(quelpa-use-package-activate-advice)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2cc201e" class="outline-4">
<h4 id="org2cc201e"><span class="section-number-4">5.1.2</span> Load the latest files</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
Always pick the latest version of the library to load.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> load-prefer-newer t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc8fb69a" class="outline-4">
<h4 id="orgc8fb69a"><span class="section-number-4">5.1.3</span> Paradox</h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
The paradox interface offers a few enhancements over the included
<code>package</code> package. It adds github stars in the package listing,
performs autoremoval of packages, and installs packages in parallel.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">paradox</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#4968;"</span>
  <span style="color: #8959a8;">:commands</span> (paradox-list-packages))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0fc5de1" class="outline-3">
<h3 id="org0fc5de1"><span class="section-number-3">5.2</span> Binding Keys</h3>
<div class="outline-text-3" id="text-5-2">
<p>
For binding keys, I use the <code>bind-key</code> package. Not only does it
easily bind keys, but it does so with some nice features.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">bind-key</span>
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"C-h B"</span> . describe-personal-keybindings))
</pre>
</div>

<p>
By using <code>bind-key</code>, you can specify the keystrokes that invoke a
command. This is regular behavior that you can already achieve in
Emacs and will result in a global binding.
</p>

<p>
If you also want to override any possible minor-mode bindings of
the same keys, you can use <code>bind-key*</code> instead.
</p>

<p>
There is also an <code>unbind-key</code> to, of course, remove any binding.
</p>

<p>
The real kicker is that it will keep track of these bindings and
let you see a summary of your customizations with
</p>

<pre class="example">
M-x describe-personal-keybindings
</pre>


<p>
This is bound to <code>C-h B</code> above.
</p>
</div>
</div>

<div id="outline-container-orgb233f21" class="outline-3">
<h3 id="orgb233f21"><span class="section-number-3">5.3</span> Path</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Sometimes Emacs' idea of path differs from the shell. The package
<code>exec-path-from-shell</code> seeks to bring those in line with each other.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">exec-path-from-shell</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span>
  (exec-path-from-shell-initialize))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbec3616" class="outline-3">
<h3 id="orgbec3616"><span class="section-number-3">5.4</span> Backups</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Sensible backup settings from <a href="https://www.emacswiki.org/emacs/BackupDirectory">https://www.emacswiki.org/emacs/BackupDirectory</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> backup-by-copying t
create-lockfiles nil
backup-directory-alist '((<span style="color: #3e999f;">".*"</span> . <span style="color: #3e999f;">"~/.saves"</span>))
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">auto-save-file-name-transforms `((".*" "~/.saves" t))</span>
delete-old-versions t
kept-new-versions 6
kept-old-versions 2
version-control t)
</pre>
</div>

<p>
Here's a quick rundown of the settings:
</p>

<dl class="org-dl">
<dt><a href="(describe-variable%20'backup-by-copying)"><code>backup-by-copying</code></a></dt><dd>Use copying to create backups when <code>t</code></dd>
<dt><a href="(describe-variable 'create-lockfile)"><code>create-lockfiles</code></a></dt><dd>Don't use lockfiles if <code>nil</code></dd>
<dt><a href="(describe-variable%20'backup-directory-alist)"><code>backup-directory-alist</code></a></dt><dd>List of regexp/location pairs of where to backup files</dd>
<dt><a href="(describe-variable%20'auto-save-file-name-transforms)"><code>auto-save-file-name-transforms</code></a></dt><dd>Transform file names before autosave</dd>
<dt><a href="(describe-variable%20'delete-old-versions)"><code>delete-old-versions</code></a></dt><dd>Delete excess backups silently if <code>t</code></dd>
<dt><a href="(describe-variable%20'kept-new-versions)"><code>kept-new-versions</code></a></dt><dd>Number of newest versions to keep</dd>
<dt><a href="(describe-variable%20'kept-old-versions)"><code>kept-old-versions</code></a></dt><dd>Number of oldest versions to keep</dd>
<dt><a href="(describe-variable%20'version-control)"><code>version-control</code></a></dt><dd>When <code>t</code>, make numeric backup versions always</dd>
</dl>
</div>
</div>

<div id="outline-container-orgaa56e15" class="outline-3">
<h3 id="orgaa56e15"><span class="section-number-3">5.5</span> Super keys</h3>
<div class="outline-text-3" id="text-5-5">
<p>
I like to be able to use the command (or super or hyper) keys for
shortcuts. I need to take care to not interfere with the
built-in shortcuts or my bindings will not work.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> mac-function-modifier 'hyper
      mac-pass-command-to-system nil
      mac-right-option-modifier 'super
      mac-right-command-modifier 'super
      mac-right-control-modifier 'hyper
      mac-command-modifier 'meta
      mac-control-modifier 'ctrl
      mac-option-modifier 'none)
</pre>
</div>

<p>
Note that the right <code>option</code> and <code>command</code> keys will pass through
to the system. This is especially cool for the <code>option</code> key on a
mac that lets insert special characters directly. (E.g. á or ∑ or
®)
</p>

<p>
Inspiration for the keys comes from <a href="https://www.wisdomandwonder.com/article/10146/every-emacser-can-use-hyper-on-every-usb-hid-keyboard">wisdom and wonder</a>.
</p>
</div>
</div>

<div id="outline-container-org23e812a" class="outline-3">
<h3 id="org23e812a"><span class="section-number-3">5.6</span> Hydra</h3>
<div class="outline-text-3" id="text-5-6">
<p>
Sometimes it is useful to go into a <i>command mode</i> that lets you
quickly do a few different actions. Hydra does that and more.
</p>

<p>
By defining specific <i>hydras</i>, you can group together commands with
documentation. Think of it as a mini-control-panel. I include it here and
use it elsewhere when grouping commands. (See <a href="#org3f9ec94">5.8.1</a> for an example)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">hydra</span>
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org700687a" class="outline-3">
<h3 id="org700687a"><span class="section-number-3">5.7</span> Delight</h3>
<div class="outline-text-3" id="text-5-7">
<p>
The mode line can get pretty busy showing all of the package
names. <code>delight</code> helps tone it down by removing some packages from
showing up, or changing their name to something shorter.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">delight</span> <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org53004d6" class="outline-3">
<h3 id="org53004d6"><span class="section-number-3">5.8</span> Personal Keymaps</h3>
<div class="outline-text-3" id="text-5-8">
<p>
These are inspired from
<a href="http://endlessparentheses.com/the-toggle-map-and-wizardry.html">http://endlessparentheses.com/the-toggle-map-and-wizardry.html</a>.
</p>
</div>

<div id="outline-container-org3f9ec94" class="outline-4">
<h4 id="org3f9ec94"><span class="section-number-4">5.8.1</span> Toggle Map</h4>
<div class="outline-text-4" id="text-5-8-1">
<p>
This toggle map shows the current <i>toggleable</i> settings with
shortcut keys for enabling. The amaranth color makes this buffer
stay around until I press <code>q</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defmacro</span> <span style="color: #f5871f;">toggle-setting-string</span> (setting)
  `(<span style="color: #718c00;">if</span> (<span style="color: #718c00;">and</span> (boundp ',setting) ,setting) '[x] '[_]))

(<span style="color: #718c00;">bind-key</span>
 <span style="color: #3e999f;">"C-x t"</span>
 (<span style="color: #718c00;">defhydra</span> hydra-toggle (<span style="color: #8959a8;">:color</span> amaranth)
   <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">    _c_ column-number : %(toggle-setting-string column-number-mode)  _b_ orgtbl-mode    : %(toggle-setting-string orgtbl-mode)  _x_/_X_ trans          : %(identity bnb/transparency)</span>
<span style="color: #8959a8;">    _e_ debug-on-error: %(toggle-setting-string debug-on-error)  _s_ orgstruct-mode : %(toggle-setting-string orgstruct-mode)  _m_   hide mode-line : %(toggle-setting-string bnb/hide-mode-line-mode)</span>
<span style="color: #8959a8;">    _u_ debug-on-quit : %(toggle-setting-string debug-on-quit)  _h_ diff-hl-mode   : %(toggle-setting-string diff-hl-mode)</span>
<span style="color: #8959a8;">    _f_ auto-fill     : %(toggle-setting-string auto-fill-function)  _B_ battery-mode   : %(toggle-setting-string display-battery-mode)</span>
<span style="color: #8959a8;">    _t_ truncate-lines: %(toggle-setting-string truncate-lines)  _l_ highlight-line : %(toggle-setting-string hl-line-mode)</span>
<span style="color: #8959a8;">    _r_ read-only     : %(toggle-setting-string buffer-read-only)  _n_ line-numbers   : %(toggle-setting-string linum-mode)</span>
<span style="color: #8959a8;">    _w_ whitespace    : %(toggle-setting-string whitespace-mode)  _N_ relative lines : %(if (eq linum-format 'linum-relative) '[x] '[_])</span>
<span style="color: #8959a8;">    "</span>
   (<span style="color: #3e999f;">"c"</span> column-number-mode nil)
   (<span style="color: #3e999f;">"e"</span> toggle-debug-on-error nil)
   (<span style="color: #3e999f;">"u"</span> toggle-debug-on-quit nil)
   (<span style="color: #3e999f;">"f"</span> auto-fill-mode nil)
   (<span style="color: #3e999f;">"t"</span> toggle-truncate-lines nil)
   (<span style="color: #3e999f;">"r"</span> dired-toggle-read-only nil)
   (<span style="color: #3e999f;">"w"</span> whitespace-mode nil)
   (<span style="color: #3e999f;">"b"</span> orgtbl-mode nil)
   (<span style="color: #3e999f;">"s"</span> orgstruct-mode nil)
   (<span style="color: #3e999f;">"x"</span> bnb/transparency-next nil)
   (<span style="color: #3e999f;">"B"</span> display-battery-mode nil)
   (<span style="color: #3e999f;">"X"</span> bnb/transparency-previous nil)
   (<span style="color: #3e999f;">"h"</span> diff-hl-mode nil)
   (<span style="color: #3e999f;">"l"</span> hl-line-mode nil)
   (<span style="color: #3e999f;">"n"</span> linum-mode nil)
   (<span style="color: #3e999f;">"N"</span> linum-relative-toggle nil)
   (<span style="color: #3e999f;">"m"</span> bnb/hide-mode-line-mode nil)
   (<span style="color: #3e999f;">"q"</span> nil)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org33a93fe" class="outline-4">
<h4 id="org33a93fe"><span class="section-number-4">5.8.2</span> Elisp Maps</h4>
<div class="outline-text-4" id="text-5-8-2">
<p>
Here are some nice-to-have features when in <i>elisp-mode</i>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">bind-key</span>
 <span style="color: #3e999f;">"C-c e"</span>
 (<span style="color: #718c00;">defhydra</span> hydra-elisp-cmds (<span style="color: #8959a8;">:color</span> blue)
   (<span style="color: #3e999f;">"b"</span> eval-buffer <span style="color: #3e999f;">"eval buffer"</span>)
   (<span style="color: #3e999f;">"e"</span> toggle-debug-on-error <span style="color: #3e999f;">"debug-on-error"</span>)
   (<span style="color: #3e999f;">"f"</span> emacs-lisp-byte-compile-and-load <span style="color: #3e999f;">"byte-compile-and-load"</span>)
   (<span style="color: #3e999f;">"r"</span> eval-region <span style="color: #3e999f;">"eval-region"</span>)
   (<span style="color: #3e999f;">"q"</span> nil))
 emacs-lisp-mode-map)
</pre>
</div>

<p>
There is one block for execuing items and another for looking up
specific <code>elisp</code> help.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">bind-key</span>
 <span style="color: #3e999f;">"C-h e"</span>
 (<span style="color: #718c00;">defhydra</span> hydra-elisp-help (<span style="color: #8959a8;">:color</span> blue)
   (<span style="color: #3e999f;">"e"</span> view-echo-area-messages <span style="color: #3e999f;">"view-echod-area-messages"</span>)
   (<span style="color: #3e999f;">"f"</span> find-function <span style="color: #3e999f;">"find-function"</span>)
   (<span style="color: #3e999f;">"k"</span> find-function-on-key <span style="color: #3e999f;">"find-function-on-key"</span>)
   (<span style="color: #3e999f;">"l"</span> find-library <span style="color: #3e999f;">"find-library"</span>)
   (<span style="color: #3e999f;">"v"</span> find-variable <span style="color: #3e999f;">"find-variable"</span>)
   (<span style="color: #3e999f;">"V"</span> apropos-value <span style="color: #3e999f;">"apropos-value"</span>)
   (<span style="color: #3e999f;">"i"</span> info-display-manual <span style="color: #3e999f;">"info-display-manual"</span>)
   (<span style="color: #3e999f;">"q"</span> nil))
 emacs-lisp-mode-map)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga2f09e4" class="outline-4">
<h4 id="orga2f09e4"><span class="section-number-4">5.8.3</span> Small bindings</h4>
<div class="outline-text-4" id="text-5-8-3">
<p>
This sections contains smaller bindings (or overrides) that I use
to customize functionality.
</p>
</div>

<ol class="org-ol">
<li><a id="org424ece4"></a>Whitespace<br />
<div class="outline-text-5" id="text-5-8-3-1">
<p>
Handle the emptiness without staring too long into the void.
</p>
</div>

<ol class="org-ol">
<li><a id="org1e25515"></a>Whitespace Mode<br />
<div class="outline-text-6" id="text-5-8-3-1-1">
<p>
A little setup for <code>whitespace-mode</code> to diminish the mode and
cleanup on save.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">whitespace</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> whitespace-line-column nil)
  (add-hook 'before-save-hook 'whitespace-cleanup)
  <span style="color: #8959a8;">:delight</span> whitespace-mode)
</pre>
</div>
</div>
</li>

<li><a id="orga39eaf1"></a>Deletion<br />
<div class="outline-text-6" id="text-5-8-3-1-2">
<p>
By default, <code>M-\</code> performs <code>delete-horizontal-space</code> and will
consume all of the whitespace present.
</p>

<p>
I'd like it to be smart and leave one or no spaces if
possible. The <code>fixup-whitespace</code> function will do that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-k"</span> 'fixup-whitespace)
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orga5361e8"></a>Scroll window up/down<br />
<div class="outline-text-5" id="text-5-8-3-2">
<p>
In addition to moving the cursor, it is also interesting to
scroll the screen (without moving the cursor with respect to the
frame).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/scroll-up-1</span> ()
  <span style="color: #8959a8;">"Scroll up by one line."</span>
  (<span style="color: #718c00;">interactive</span>)
  (cua-scroll-up 1))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/scroll-down-1</span> ()
  <span style="color: #8959a8;">"Scroll down by one line."</span>
  (<span style="color: #718c00;">interactive</span>)
  (cua-scroll-down 1))

(<span style="color: #718c00;">bind-keys</span>
 (<span style="color: #3e999f;">"M-n"</span> . bnb/scroll-up-1)
 (<span style="color: #3e999f;">"M-p"</span> . bnb/scroll-down-1))
</pre>
</div>
</div>
</li>

<li><a id="org7e97b28"></a>Align Regexp<br />
<div class="outline-text-5" id="text-5-8-3-3">
<p>
When selecting a region, a quick trip to <code>align-regexp</code> can align
all of that nasty text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-c TAB"</span> 'align-regexp)
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org0ce6893" class="outline-4">
<h4 id="org0ce6893"><span class="section-number-4">5.8.4</span> Kill current buffer</h4>
<div class="outline-text-4" id="text-5-8-4">
<p>
Another great tip from <a href="http://pragmaticemacs.com/emacs/dont-kill-buffer-kill-this-buffer-instead/">Pragmatic Emacs</a>, use <code>kill-this-buffer</code> to
kill the current buffer instead of asking which one.  I'm not
overriding the <code>C-x k</code> default, but added a <code>C-x C-k</code> alternative.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/kill-this-buffer</span> ()
  <span style="color: #8959a8;">"Kill the current buffer"</span>
  (<span style="color: #718c00;">interactive</span>)
  (kill-buffer (current-buffer)))

(<span style="color: #718c00;">bind-keys</span>
 (<span style="color: #3e999f;">"C-x C-k"</span> . bnb/kill-this-buffer))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org64319d8" class="outline-3">
<h3 id="org64319d8"><span class="section-number-3">5.9</span> Minibuffer History</h3>
<div class="outline-text-3" id="text-5-9">
<p>
Let's get rid of duplicates in the minibuffer history.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> history-delete-duplicates t)
</pre>
</div>

<p>
This saves the minibuffer histories to preserve across emacs
sessions.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> savehist-additional-variables '(search-ring regexp-search-ring)
      savehist-file <span style="color: #3e999f;">"~/.emacs.d/savehist"</span>)
(savehist-mode t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0a8c2ec" class="outline-3">
<h3 id="org0a8c2ec"><span class="section-number-3">5.10</span> Abbrev</h3>
<div class="outline-text-3" id="text-5-10">
<p>
The following block is courtesy of <a href="http://endlessparentheses.com/ispell-and-abbrev-the-perfect-auto-correct.html">Endless Parentheses</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-x C-i"</span> 'bnb/ispell-word-then-abbrev)

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/ispell-word-then-abbrev</span> (p)
  <span style="color: #8959a8;">"Call `</span><span style="color: #4271ae;">ispell-word</span><span style="color: #8959a8;">'. Then create an abbrev for the correction</span>
<span style="color: #8959a8;">    made. With prefix P, create local abbrev. Otherwise, it will be</span>
<span style="color: #8959a8;">    global."</span>
  (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span>)
  (<span style="color: #718c00;">let</span> ((bef (downcase (<span style="color: #718c00;">or</span> (thing-at-point 'word) <span style="color: #3e999f;">""</span>))) aft)
    (call-interactively 'ispell-word)
    (<span style="color: #718c00;">setq</span> aft (downcase (<span style="color: #718c00;">or</span> (thing-at-point 'word) <span style="color: #3e999f;">""</span>)))
    (<span style="color: #718c00;">unless</span> (string= aft bef)
      (message <span style="color: #3e999f;">"\"%s\" now expands to \"%s\" %sally"</span>
               bef aft (<span style="color: #718c00;">if</span> p <span style="color: #3e999f;">"loc"</span> <span style="color: #3e999f;">"glob"</span>))
      (define-abbrev
        (<span style="color: #718c00;">if</span> p global-abbrev-table local-abbrev-table)
        bef aft))))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">abbrev</span>
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#9862;"</span>
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> save-abbrevs t)
  (<span style="color: #718c00;">setq-default</span> abbrev-mode t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3eaf5f5" class="outline-3">
<h3 id="org3eaf5f5"><span class="section-number-3">5.11</span> Hippie Expand</h3>
<div class="outline-text-3" id="text-5-11">
<p>
Try to expand the text before point in an intelligent way. Repeat
the keypress to cycle through options.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-/"</span> 'hippie-expand)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9a1da25" class="outline-3">
<h3 id="org9a1da25"><span class="section-number-3">5.12</span> Emacs Bookmarks</h3>
<div class="outline-text-3" id="text-5-12">
<p>
<a href="http://emacswiki.org/emacs/BookMarks">http://emacswiki.org/emacs/BookMarks</a>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keystroke</th>
<th scope="col" class="org-left">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-x r m</code></td>
<td class="org-left">Set a bookmark</td>
</tr>

<tr>
<td class="org-left"><code>C-x r b</code></td>
<td class="org-left">Jump to a bookmark</td>
</tr>

<tr>
<td class="org-left"><code>C-x r l</code></td>
<td class="org-left">List your bookmarks</td>
</tr>

<tr>
<td class="org-left"><code>M-x bookmark-delete</code></td>
<td class="org-left">Delete bookmark by name</td>
</tr>
</tbody>
</table>

<p>
I will auto-save my bookmarks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> bookmark-save-flag t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd2d287e" class="outline-3">
<h3 id="orgd2d287e"><span class="section-number-3">5.13</span> Writegood Mode</h3>
<div class="outline-text-3" id="text-5-13">
<p>
This mode installs through the ELPA system.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">writegood-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c g"</span>     . writegood-mode)
  (<span style="color: #3e999f;">"C-c C-g g"</span> . writegood-grade-level)
  (<span style="color: #3e999f;">"C-c C-g e"</span> . writegood-reading-ease))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdb049a2" class="outline-3">
<h3 id="orgdb049a2"><span class="section-number-3">5.14</span> Spell Checking</h3>
<div class="outline-text-3" id="text-5-14">
<p>
<a href="http://blog.binchen.org/posts/what-s-the-best-spell-check-set-up-in-emacs.html">This site</a> has an interesting suggestion on how to use <code>aspell</code> for
CamelCase spell checking.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #718c00;">cond</span>
   ((executable-find <span style="color: #3e999f;">"aspell"</span>)
    (<span style="color: #718c00;">setq</span> ispell-program-name (executable-find <span style="color: #3e999f;">"aspell"</span>)
    ispell-extra-args '(<span style="color: #3e999f;">"--sug-mode=ultra"</span> <span style="color: #3e999f;">"--lang=en_US"</span>)))
   (t (<span style="color: #718c00;">setq</span> ispell-program-name nil)
(message <span style="color: #3e999f;">"No aspell found!"</span>)))

  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"H-$"</span> 'ispell-word)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7ec6b11" class="outline-3">
<h3 id="org7ec6b11"><span class="section-number-3">5.15</span> Proselint</h3>
<div class="outline-text-3" id="text-5-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #718c00;">with-eval-after-load</span> <span style="color: #3e999f;">"flycheck-mode"</span>
    (<span style="color: #718c00;">flycheck-define-checker</span> proselint
<span style="color: #8959a8;">"A linter for prose"</span>
<span style="color: #8959a8;">:command</span> (<span style="color: #3e999f;">"proselint"</span> source-inplace)
<span style="color: #8959a8;">:error-patterns</span>
((warning line-start (file-name) <span style="color: #3e999f;">":"</span> line <span style="color: #3e999f;">":"</span> column <span style="color: #3e999f;">": "</span>
    (id (one-or-more (not (any <span style="color: #3e999f;">" "</span>))))
    (message (one-or-more not-newline)
       (zero-or-more <span style="color: #3e999f;">"\n"</span> (any <span style="color: #3e999f;">" "</span>) (one-or-more not-newline)))
    line-end))
<span style="color: #8959a8;">:modes</span> (text-mode markdown-mode gfm-mode org-mode))
    (add-to-list 'flycheck-checkers 'proselint))
</pre>
</div>
</div>
</div>

<div id="outline-container-org81c13e6" class="outline-3">
<h3 id="org81c13e6"><span class="section-number-3">5.16</span> Development</h3>
<div class="outline-text-3" id="text-5-16">
<p>
For any lisp development, the following is nice to have.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(show-paren-mode t)
</pre>
</div>

<p>
While developing, documentation is nice to have handy and
automatic.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'cperl-mode-hook 'turn-on-eldoc-mode)
(add-hook 'eshell-mode-hook 'turn-on-eldoc-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeab191b" class="outline-3">
<h3 id="orgeab191b"><span class="section-number-3">5.17</span> Encryption</h3>
<div class="outline-text-3" id="text-5-17">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_mono/epa.html#Top">EasyPG Assistant</a> helps with integration of GnuPG.  The command
below turns on the automatic encryption/decryption of <code>*.gpg</code>
files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">epa</span>
  <span style="color: #8959a8;">:disabled</span>
  <span style="color: #8959a8;">:config</span> (epa-file-enable))
</pre>
</div>

<p>
It is possible that you would need to <a href="(customize-group%20'epg)">customize the location of
gpg</a>.
</p>
</div>
</div>

<div id="outline-container-org535c512" class="outline-3">
<h3 id="org535c512"><span class="section-number-3">5.18</span> Read-only helpers</h3>
<div class="outline-text-3" id="text-5-18">
<p>
For read-only files, look at them in <code>view-mode</code> which will enable
vi-style navigation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">view</span>
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#128065;"</span>
  <span style="color: #8959a8;">:init</span> (<span style="color: #718c00;">setq</span> view-read-only t)
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> view-mode-map
              (<span style="color: #3e999f;">"n"</span> . next-line    )
              (<span style="color: #3e999f;">"p"</span> . previous-line)
              (<span style="color: #3e999f;">"j"</span> . next-line    )
              (<span style="color: #3e999f;">"k"</span> . previous-line)
              (<span style="color: #3e999f;">"l"</span> . forward-char)
              (<span style="color: #3e999f;">"h"</span> . bnb/view/h)
              (<span style="color: #3e999f;">"q"</span> . bnb/view/q))
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/view/h</span> ()
    <span style="color: #8959a8;">"Setup a function to go backwards a character"</span>
    (<span style="color: #718c00;">interactive</span>)
    (forward-char -1))
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/view/q</span> ()
    <span style="color: #8959a8;">"Setup a function to quit `view-mode`"</span>
    (<span style="color: #718c00;">interactive</span>)
    (view-mode -1)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbbd2df9" class="outline-3">
<h3 id="orgbbd2df9"><span class="section-number-3">5.19</span> Default File encoding</h3>
<div class="outline-text-3" id="text-5-19">
<p>
I like to have the files be <code>utf-8</code> by default. Do
let me know if I shouldn't do this, will you?
</p>

<p>
Set <code>utf-8</code> for all coding systems except for the clipboard on
windows. That one gets <code>utf-16le</code> to be compatible.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(prefer-coding-system       'utf-8)
(set-default-coding-systems 'utf-8)
(set-terminal-coding-system 'utf-8)
(set-keyboard-coding-system 'utf-8)
(set-language-environment 'utf-8)
(<span style="color: #718c00;">setq</span> buffer-file-coding-system 'utf-8
      x-select-request-type '(UTF8_STRING COMPOUND_TEXT TEXT STRING))
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">MS Windows clipboard is UTF-16LE</span>
(<span style="color: #718c00;">when</span> (eq system-type 'windows-nt)
  (set-clipboard-coding-system 'utf-16le-dos))
</pre>
</div>
</div>
</div>

<div id="outline-container-org31e4d58" class="outline-3">
<h3 id="org31e4d58"><span class="section-number-3">5.20</span> Vimrc generic mode</h3>
<div class="outline-text-3" id="text-5-20">
<p>
Good to have to help with my pentadactyl configuration as it is in
a vim-style of configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #718c00;">define-generic-mode</span> '<span style="color: #f5871f;">vimrc-generic-mode</span>
    '()
    '()
    '((<span style="color: #3e999f;">"^[\t ]*:?</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">!</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">ab</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">map</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">unmap</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\r\n\"]*\"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\r\n\"]*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\r\n\"]*\"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\r\n\"]*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">*$"</span>
 (0 font-lock-warning-face))
(<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">^</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">[\t ]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\".*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">$"</span>
 (2 font-lock-comment-face))
(<span style="color: #3e999f;">"\"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\n\r\"\\]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">\\.</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">*\""</span>
 (0 font-lock-string-face)))
    '(<span style="color: #3e999f;">"/vimrc\\'"</span> <span style="color: #3e999f;">"\\.vim</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">rc</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">?\\'"</span>)
    '((<span style="color: #718c00;">lambda</span> ()
  (modify-syntax-entry ?\" <span style="color: #3e999f;">"."</span>)))
    <span style="color: #8959a8;">"Generic mode for Vim configuration files."</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd5c2174" class="outline-3">
<h3 id="orgd5c2174"><span class="section-number-3">5.21</span> Ediff single frame</h3>
<div class="outline-text-3" id="text-5-21">
<p>
I really dislike the multi-frame mode of <code>ediff</code>.  It is confusing
to use and really messes up my <a href="http://dwm.suckless.org">dwm</a> usage. By explicitly setting
the following setting, it forces <code>ediff</code> to use only one
frame.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> ediff-window-setup-function 'ediff-setup-windows-plain)
</pre>
</div>

<p>
Now the control window will be a small window instead of a
separate frame.
</p>
</div>
</div>

<div id="outline-container-orga6cb68d" class="outline-3">
<h3 id="orga6cb68d"><span class="section-number-3">5.22</span> Git</h3>
<div class="outline-text-3" id="text-5-22">
</div>
<div id="outline-container-orgbbcadb5" class="outline-4">
<h4 id="orgbbcadb5"><span class="section-number-4">5.22.1</span> Magit</h4>
<div class="outline-text-4" id="text-5-22-1">
<p>
<a href="magit.html#Top">Magit</a> is a git interface for Emacs.
</p>

<p>
Here I set a global key for <code>magit-status</code>. Think 'G' looks
like 6.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">magit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"&lt;f6&gt;"</span> . magit-status)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> magit-last-seen-setup-instructions <span style="color: #3e999f;">"1.4.0"</span>))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org89af924"></a>Release 1.4.0<br />
<div class="outline-text-5" id="text-5-22-1-1">
<p>
This magit release warns about auto-revert of buffers.  This is
turned on by default and I will keep that setting.  To turn off
the magit warning, I set <code>magit-last-seen-setup-instructions</code> to
1.4.0 as shown above.
</p>
</div>
</li>

<li><a id="org3585cdb"></a>Forge<br />
<div class="outline-text-5" id="text-5-22-1-2">
<p>
<a href="https://magit.vc/manual/forge/index.html#Top">Forge</a> is the replacement for magithub. It uses `ghub` to work
with git forges such as github and gitlab.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">forge</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (forge-pull))
</pre>
</div>
</div>
</li>

<li><a id="org438ac91"></a>Magit Todos<br />
<div class="outline-text-5" id="text-5-22-1-3">
<p>
Within the <a href="#orgbbcadb5">5.22.1</a> interface, show any todos listed in the files
under version control.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">magit-todos</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> magit
  <span style="color: #8959a8;">:hook</span> (magit-mode-hook . magit-todos-mode))
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org2660d07" class="outline-4">
<h4 id="org2660d07"><span class="section-number-4">5.22.2</span> Git timemachine&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-5-22-2">
<p>
Loop through the history of a file with some simple keystrokes (or wheeling up and down)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">git-timemachine</span>
  <span style="color: #8959a8;">:disabled</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"C-x C-g"</span> . git-timemachine-toggle)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">bind-keys</span>
   <span style="color: #8959a8;">:map</span> git-timemachine-mode-map
   (<span style="color: #3e999f;">"&lt;M-up&gt;"</span> . git-timemachine-show-previous-revision)
   (<span style="color: #3e999f;">"&lt;M-down&gt;"</span> . git-timemachine-show-next-revision)
   (<span style="color: #3e999f;">"&lt;S-wheel-up&gt;"</span> . git-timemachine-show-previous-revision)
   (<span style="color: #3e999f;">"&lt;S-wheel-down&gt;"</span> . git-timemachine-show-next-revision)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7c84a33" class="outline-4">
<h4 id="org7c84a33"><span class="section-number-4">5.22.3</span> Smerge</h4>
<div class="outline-text-4" id="text-5-22-3">
<p>
Somewhere along the line, <code>smerge</code> was added. To facilitate
editing merge conflicts, this hydra helps me do the work.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook
 'smerge-mode-hook
 (<span style="color: #718c00;">lambda</span> ()
   (<span style="color: #718c00;">bind-key</span>
    <span style="color: #3e999f;">"C-c ^ h"</span>
    (<span style="color: #718c00;">defhydra</span> hydra-smerge (<span style="color: #8959a8;">:color</span> amaranth)
      (<span style="color: #3e999f;">"a"</span> smerge-keep-all <span style="color: #3e999f;">"Keep all"</span>)
      (<span style="color: #3e999f;">"b"</span> smerge-keep-base <span style="color: #3e999f;">"Keep base"</span>)
      (<span style="color: #3e999f;">"m"</span> smerge-keep-mine <span style="color: #3e999f;">"Keep mine"</span>)
      (<span style="color: #3e999f;">"o"</span> smerge-keep-other <span style="color: #3e999f;">"Keep other"</span>)
      (<span style="color: #3e999f;">"n"</span> smerge-next <span style="color: #3e999f;">"Next conflict"</span>)
      (<span style="color: #3e999f;">"p"</span> smerge-previous <span style="color: #3e999f;">"Previous conflict"</span>)
      (<span style="color: #3e999f;">"r"</span> smerge-resolve <span style="color: #3e999f;">"Keep mine"</span>)
      (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span>))
    smerge-mode-map)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge4f0860" class="outline-3">
<h3 id="orge4f0860"><span class="section-number-3">5.23</span> Open/Edit This file</h3>
<div class="outline-text-3" id="text-5-23">
<p>
When I hit <code>&lt;F5&gt;</code>, open this file for editing. That way, any
time I have something I need to remember for my emacs setting, it
is just a button-push away.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"&lt;f5&gt;"</span>
          (<span style="color: #718c00;">lambda</span> ()
            (<span style="color: #718c00;">interactive</span>)
            (find-file <span style="color: #3e999f;">"~/.emacs.d/bnb-emacs/Readme.org"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9819e3d" class="outline-3">
<h3 id="org9819e3d"><span class="section-number-3">5.24</span> Sounds</h3>
<div class="outline-text-3" id="text-5-24">
<p>
I dislike the bell ringing when I hit <code>C-g</code>. To silence the bell,
just set the <code>ring-bell-function</code> to <code>nil</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> visual-bell nil
      ring-bell-function `(<span style="color: #718c00;">lambda</span> () nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea59732" class="outline-3">
<h3 id="orgea59732"><span class="section-number-3">5.25</span> Midnight Mode</h3>
<div class="outline-text-3" id="text-5-25">
<p>
This mode looks at midnight and kills any inactive buffers. By
default, <i>inactive</i> means is any buffer untouched for three days.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">midnight</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 10)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7a5bb94" class="outline-3">
<h3 id="org7a5bb94"><span class="section-number-3">5.26</span> Which Key</h3>
<div class="outline-text-3" id="text-5-26">
<p>
This <a href="https://github.com/justbur/emacs-which-key">helpful little package</a> makes it easy to remember emacs
prefixed commands.  Start typing a prefix such as <code>C-x</code> after a
brief delay, the options for any following commands are shown.
</p>

<p>
I am using a setup that tries the right side of emacs first, and
punts to a bottom window if there is not enough room.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">which-key</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> which-key-mode
  <span style="color: #8959a8;">:init</span>
  (which-key-mode)
  (which-key-setup-side-window-right-bottom)
  (<span style="color: #718c00;">setq</span> which-key-max-description-length 60))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce73933" class="outline-3">
<h3 id="orgce73933"><span class="section-number-3">5.27</span> Ace Utilities</h3>
<div class="outline-text-3" id="text-5-27">
</div>
<div id="outline-container-org57ed0bf" class="outline-4">
<h4 id="org57ed0bf"><span class="section-number-4">5.27.1</span> Ace Flyspell</h4>
<div class="outline-text-4" id="text-5-27-1">
<p>
Turn on <a href="https://github.com/cute-jumper/ace-flyspell">ace-flyspell</a> when flyspell is enabled.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-flyspell</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (ace-flyspell-setup)
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-s"</span> . hydra-fly/body)
  <span style="color: #8959a8;">:init</span>
  (add-hook 'flyspell-mode-hook 'ace-flyspell-setup)
  (<span style="color: #718c00;">defhydra</span> hydra-fly (<span style="color: #8959a8;">:color</span> pink)
    (<span style="color: #3e999f;">"n"</span> flyspell-goto-next-error <span style="color: #3e999f;">"Next error"</span>)
    (<span style="color: #3e999f;">"c"</span> ispell-word <span style="color: #3e999f;">"Correct word"</span>)
    (<span style="color: #3e999f;">"j"</span> ace-flyspell-jump-word <span style="color: #3e999f;">"Jump word"</span>)
    (<span style="color: #3e999f;">"."</span> ace-flyspell-dwim <span style="color: #3e999f;">"dwim"</span>)
    (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"Quit"</span>)))
</pre>
</div>
</div>
</div>


<div id="outline-container-orgcd743e9" class="outline-4">
<h4 id="orgcd743e9"><span class="section-number-4">5.27.2</span> Ace Isearch&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-5-27-2">
<p>
Supercharge <code>isearch</code> to vary its behavior depending on the
input. The <code>C-'</code> key let's me jump to the isearch match easily
with the <code>ace-jump</code> methods.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-isearch</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> isearch-mode-map
              (<span style="color: #3e999f;">"C-'"</span> . ace-isearch-jump-during-isearch))
  <span style="color: #8959a8;">:delight</span> ace-isearch-mode
  <span style="color: #8959a8;">:config</span>
  (global-ace-isearch-mode t)
  (<span style="color: #718c00;">setq</span> ace-isearch-input-length 8))
</pre>
</div>
</div>
</div>

<div id="outline-container-org24df0fb" class="outline-4">
<h4 id="org24df0fb"><span class="section-number-4">5.27.3</span> Ace Link</h4>
<div class="outline-text-4" id="text-5-27-3">
<p>
In modes with links, use <code>o</code> to jump to links. Map <code>M-o</code> to do the
same in <code>org-mode</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-link</span>
<span style="color: #8959a8;">:ensure</span> t
<span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> org-mode-map
      (<span style="color: #3e999f;">"M-o"</span> . ace-link-org))
<span style="color: #8959a8;">:config</span> (ace-link-setup-default))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ec335d" class="outline-4">
<h4 id="org1ec335d"><span class="section-number-4">5.27.4</span> Ace Window</h4>
<div class="outline-text-4" id="text-5-27-4">
<p>
Instead of <code>C-x o</code> traversal, <code>ace-window</code> mode provides numbers
for quick window access
</p>

<p>
Set the keys to something other than the default numbers. Note
that this also limits the number of windows that can be used, but
given my usage, I doubt it goes up to 'j' often.
</p>

<p>
Also, I modify the face attribute to make the window numbers large.
</p>

<p>
After reading <a href="https://github.com/abo-abo/ace-window/wiki">the wiki</a>, I supercharged the interface for <code>ace-window</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-window</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-a"</span>    . ace-window)
  (<span style="color: #3e999f;">"&lt;f9&gt; a"</span> . ace-window)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> aw-keys '(?j ?k ?l ?\; ?n ?m)
        aw-leading-char-style 'path
        aw-dispatch-always t
        aw-dispatch-alist
        '((?x aw-delete-window <span style="color: #3e999f;">"Ace - Delete Window"</span>)
          (?c aw-swap-window   <span style="color: #3e999f;">"Ace - Swap window"</span>)
          (?n aw-flip-window   <span style="color: #3e999f;">"Ace - Flip window"</span>)
          (?v aw-split-window-vert <span style="color: #3e999f;">"Ace - Split Vert Window"</span>)
          (?h aw-split-window-horz <span style="color: #3e999f;">"Ace - Split Horz Window"</span>)
          (?m delete-other-windows <span style="color: #3e999f;">"Ace - Maximize Window"</span>)
          (?b balance-windows)))

  (<span style="color: #718c00;">defhydra</span> hydra-window-size (<span style="color: #8959a8;">:color</span> amaranth)
    <span style="color: #8959a8;">"Window size"</span>
    (<span style="color: #3e999f;">"h"</span> shrink-window-horizontally <span style="color: #3e999f;">"shrink horizontal"</span>)
    (<span style="color: #3e999f;">"j"</span> shrink-window <span style="color: #3e999f;">"shrink vertical"</span>)
    (<span style="color: #3e999f;">"k"</span> enlarge-window <span style="color: #3e999f;">"enlarge vertical"</span>)
    (<span style="color: #3e999f;">"l"</span> enlarge-window-horizontally <span style="color: #3e999f;">"enlarge horizontal"</span>)
    (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span>))
  (add-to-list 'aw-dispatch-alist '(?w hydra-window-size/body) t)

  (<span style="color: #718c00;">defhydra</span> hydra-window-frame (<span style="color: #8959a8;">:color</span> red)
    <span style="color: #8959a8;">"Frame"</span>
    (<span style="color: #3e999f;">"f"</span> make-frame <span style="color: #3e999f;">"new frame"</span>)
    (<span style="color: #3e999f;">"x"</span> delete-frame <span style="color: #3e999f;">"delete frame"</span>)
    (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span>))
  (add-to-list 'aw-dispatch-alist '(?\; hydra-window-frame/body) t)

  (<span style="color: #718c00;">defhydra</span> hydra-window-scroll (<span style="color: #8959a8;">:color</span> amaranth)
    <span style="color: #8959a8;">"Scroll other window"</span>
    (<span style="color: #3e999f;">"n"</span> scroll-other-window <span style="color: #3e999f;">"scroll"</span>)
    (<span style="color: #3e999f;">"p"</span> scroll-other-window-down <span style="color: #3e999f;">"scroll down"</span>)
    (<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span>))
  (add-to-list 'aw-dispatch-alist '(?o hydra-window-scroll/body) t)

  (set-face-attribute 'aw-leading-char-face nil <span style="color: #8959a8;">:height</span> 2.0))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8cbf74e" class="outline-4">
<h4 id="org8cbf74e"><span class="section-number-4">5.27.5</span> Avy Goto</h4>
<div class="outline-text-4" id="text-5-27-5">
<p>
It is time to make some shortcuts for jumping to see if they make
sense for me.  The interesting feature that I can use is that
these highlight text an all shown buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">avy</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-SPC"</span> . avy-goto-char-timer)
  (<span style="color: #3e999f;">"H-w"</span>   . avy-goto-word-1)
  (<span style="color: #3e999f;">"H-c"</span>   . avy-goto-char-2)
  (<span style="color: #3e999f;">"H-l"</span>   . avy-goto-line)
  (<span style="color: #3e999f;">"H-d"</span>   . avy-goto-word-0)
  (<span style="color: #3e999f;">"&lt;f9&gt; SPC"</span> . avy-goto-char-timer)
  (<span style="color: #3e999f;">"C-c g"</span> . avy-goto-word-1)
  (<span style="color: #3e999f;">"M-g l"</span> . avy-goto-line)
  (<span style="color: #3e999f;">"M-g c"</span> . avy-goto-char-2)
  (<span style="color: #3e999f;">"M-g w"</span> . avy-goto-word-0))
</pre>
</div>

<p>
The commands begin with the normal prefix of <code>M-g</code> for the goto
commands and use l,c and w for lines, characters and words
respectively.
</p>

<p>
The char version I use here is the two-element version. For
single character jumping, I have the Ace Isearch mode below that
will facilitate quick jumping.
</p>
</div>
</div>

<div id="outline-container-org83be876" class="outline-4">
<h4 id="org83be876"><span class="section-number-4">5.27.6</span> Avy Zap</h4>
<div class="outline-text-4" id="text-5-27-6">
<p>
Zap to char using avy.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">avy-zap</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"M-z"</span> . avy-zap-to-char-dwim)
  (<span style="color: #3e999f;">"M-Z"</span> . avy-zap-up-to-char-dwim))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org978e25b" class="outline-3">
<h3 id="org978e25b"><span class="section-number-3">5.28</span> Edit Server</h3>
<div class="outline-text-3" id="text-5-28">
<p>
The edit server talks to Chrome and uses emacs to edit any
text areas. I start this server here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">edit-server</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:init</span>
  (edit-server-start))
</pre>
</div>

<p>
Chrome needs to have the proper extension installed there too for
the installation to be complete.
</p>
</div>
</div>

<div id="outline-container-orge967ee9" class="outline-3">
<h3 id="orge967ee9"><span class="section-number-3">5.29</span> Regexp-Builder</h3>
<div class="outline-text-3" id="text-5-29">
<p>
Emacs regular expressions are not the easiest to use out of the
box. Emacs now has <a href="re-builder">regexp-builder</a> to assist you in building the
correct regexp as you type.
</p>

<p>
However, to complicate matters, there are five different <i>syntaxes</i>
of regular expression that the builder can use. The <code>string</code>
syntax is what I tend to use most in searching and replacing, so I
will make that my default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> reb-re-syntax 'string)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key Binding</th>
<th scope="col" class="org-left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-c TAB</code></td>
<td class="org-left">Switch syntax</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-e</code></td>
<td class="org-left">Sub-expression mode (show matching groups)</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-s/r</code></td>
<td class="org-left">Search forward/backward</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-w</code></td>
<td class="org-left">Copy regexp to kill ring</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-q</code></td>
<td class="org-left">Quit the builder</td>
</tr>
</tbody>
</table>

<p>
Be sure to consult the <a href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Regexps">syntax of regular expressions</a> to learn more
about the weird backslashing.
</p>
</div>
</div>

<div id="outline-container-orga4eead5" class="outline-3">
<h3 id="orga4eead5"><span class="section-number-3">5.30</span> IBuffer</h3>
<div class="outline-text-3" id="text-5-30">
<p>
Use <code>ibuffer</code> instead of <code>list-buffers</code> for buffer management. The
most visible difference being the coloring that <code>ibuffer</code> uses.
</p>

<p>
I also squash any empty groups from being displayed and add hooks
to automatically set the filter groups and update contents.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-x C-b"</span> 'ibuffer)

(<span style="color: #718c00;">setq</span> ibuffer-show-empty-filter-groups nil)

(add-hook 'ibuffer-mode-hook
          '(lambda ()
             (ibuffer-auto-mode 1)
             (ibuffer-switch-to-saved-filter-groups <span style="color: #3e999f;">"Standard"</span>)))
</pre>
</div>
</div>

<div id="outline-container-org2cb1270" class="outline-4">
<h4 id="org2cb1270"><span class="section-number-4">5.30.1</span> Groups</h4>
<div class="outline-text-4" id="text-5-30-1">
<p>
The buffer list splits into arbitrary groups for easier
management. Below I create an "Org" group for <code>org-mode</code> buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> ibuffer-saved-filter-groups
      '((<span style="color: #3e999f;">"Standard"</span>
         (<span style="color: #3e999f;">"Emacs"</span> (<span style="color: #718c00;">or</span> (filename . <span style="color: #3e999f;">".*bnb-emacs.*"</span>)
                      (mode . emacs-lisp-mode)))
         (<span style="color: #3e999f;">"Org"</span> (mode . org-mode))
         (<span style="color: #3e999f;">"Magit"</span> (name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*magit"</span>))
         (<span style="color: #3e999f;">"Mail"</span> (<span style="color: #718c00;">or</span> (mode . message-mode)
                     (mode . mail-mode)))
         (<span style="color: #3e999f;">"HTML"</span> (mode . html-mode))
         (<span style="color: #3e999f;">"Help"</span> (<span style="color: #718c00;">or</span> (name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*Help</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span>)
                     (name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*Apropos</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span>)
                     (name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*info</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span>))))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org11a8e98"></a>VC Grouping<br />
<div class="outline-text-5" id="text-5-30-1-1">
<p>
The <code>ibuffer-vc</code> package provides groups according to version
control sets. Here I setup a small keybinding to get to the
filtered vc groups.  The keys <code>/ R</code> will go back to the standard
view.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ibuffer-vc</span> <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #8959a8;">:map</span> ibuffer-mode-map
        (<span style="color: #3e999f;">"/ v"</span> . ibuffer-vc-set-filter-groups-by-vc-root)))
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org926ea45" class="outline-3">
<h3 id="org926ea45"><span class="section-number-3">5.31</span> Multiple Cursors</h3>
<div class="outline-text-3" id="text-5-31">
<p>
This interface is a mix of an example on the <a href="https://github.com/abo-abo/hydra/wiki/multiple-cursors">hydra wiki</a> and my own
additions.
</p>

<p>
I think that the key thing is remembering to not have this affect
<b>all</b> cursors when prompted. Otherwise, it seems, the cursors are
duplicated in strange ways.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">multiple-cursors</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-m"</span>   . hydra-mc/body)
  (<span style="color: #3e999f;">"C-x m"</span> . hydra-mc/body)
  (<span style="color: #3e999f;">"s-&lt;mouse-1&gt;"</span> . mc/add-cursor-on-click)
  (<span style="color: #3e999f;">"C-x M"</span> . compose-mail)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">defhydra</span> hydra-mc (<span style="color: #8959a8;">:hint</span> nil)
    <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">  ^Up^            ^Down^        ^Miscellaneous^</span>
<span style="color: #8959a8;">   -----------------------------------------------------------</span>
<span style="color: #8959a8;">   [_p_]   Next    [_n_]   Next    [_l_] Edit lines  [_x_] Arrows</span>
<span style="color: #8959a8;">   [_P_]   Skip    [_N_]   Skip    [_a_] Mark all    [_g_] Regexp</span>
<span style="color: #8959a8;">   [_M-p_] Unmark  [_M-n_] Unmark  [_q_] Quit"</span>
    (<span style="color: #3e999f;">"l"</span>   mc/edit-lines <span style="color: #8959a8;">:exit</span> t)
    (<span style="color: #3e999f;">"a"</span>   mc/mark-all-like-this-dwim <span style="color: #8959a8;">:exit</span> t)
    (<span style="color: #3e999f;">"n"</span>   mc/mark-next-like-this)
    (<span style="color: #3e999f;">"N"</span>   mc/skip-to-next-like-this)
    (<span style="color: #3e999f;">"M-n"</span> mc/unmark-next-like-this)
    (<span style="color: #3e999f;">"p"</span>   mc/mark-previous-like-this)
    (<span style="color: #3e999f;">"P"</span>   mc/skip-to-previous-like-this)
    (<span style="color: #3e999f;">"M-p"</span> mc/unmark-previous-like-this)
    (<span style="color: #3e999f;">"g"</span>   mc/mark-all-in-region-regexp <span style="color: #8959a8;">:exit</span> t)
    (<span style="color: #3e999f;">"r"</span>   mc/mark-sgml-tag-pair <span style="color: #8959a8;">:exit</span> t)
    (<span style="color: #3e999f;">"x"</span>   mc/mark-more-like-this-extended)
    (<span style="color: #3e999f;">"q"</span>   nil))
  (add-hydra-mc-funcs))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">add-hydra-mc-funcs</span> ()
  <span style="color: #8959a8;">"Add my hydra-mc funcs to the proper whitelist"</span>
  (<span style="color: #718c00;">let*</span> ((hydra-mc-funcs
          (cl-remove-if-not
           'functionp
           (apply #'append hydra-mc/heads)))
         (mc-funcs-to-ignore (cl-intersection
                              hydra-mc-funcs
                              mc--default-cmds-to-run-once))
         (funcs-to-whitelist
          (cl-mapcar
           (<span style="color: #718c00;">lambda</span> (x) (intern (concat <span style="color: #3e999f;">"hydra-mc/"</span> (symbol-name x))))
           mc-funcs-to-ignore)))
    (<span style="color: #718c00;">let</span> (value)
      (<span style="color: #718c00;">dolist</span> (element funcs-to-whitelist nil)
        (add-to-list 'mc/cmds-to-run-once element)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7bf0421" class="outline-3">
<h3 id="org7bf0421"><span class="section-number-3">5.32</span> Expand Region</h3>
<div class="outline-text-3" id="text-5-32">
<p>
Nice way to expand selections to semantic regions. Read more on
<a href="https://github.com/magnars/expand-region.el">https://github.com/magnars/expand-region.el</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">expand-region</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"C-="</span> . er/expand-region))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd537439" class="outline-3">
<h3 id="orgd537439"><span class="section-number-3">5.33</span> Hooks</h3>
<div class="outline-text-3" id="text-5-33">
<p>
In general, hooks may be best with other configuration items, but
if they are just pieces on their own, they belong here.
</p>
</div>

<div id="outline-container-org767100a" class="outline-4">
<h4 id="org767100a"><span class="section-number-4">5.33.1</span> Ensure proper lisping</h4>
<div class="outline-text-4" id="text-5-33-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-save-hook  'check-parens nil t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org24c079d" class="outline-4">
<h4 id="org24c079d"><span class="section-number-4">5.33.2</span> Auto Reverting in modes</h4>
<div class="outline-text-4" id="text-5-33-2">
<p>
For view-only buffers rendering content, it is useful to have them
<code>auto-revert</code> in case of changes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'doc-view-mode-hook 'auto-revert-mode)
(add-hook 'image-mode 'auto-revert-mode)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf2c8dba" class="outline-3">
<h3 id="orgf2c8dba"><span class="section-number-3">5.34</span> Recentf</h3>
<div class="outline-text-3" id="text-5-34">
<p>
I enable emacs remembering recently open files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(recentf-mode t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8f3cd17" class="outline-3">
<h3 id="org8f3cd17"><span class="section-number-3">5.35</span> Executable Scripts on save</h3>
<div class="outline-text-3" id="text-5-35">
<p>
Taken from: <a href="http://mbork.pl/2015-01-10_A_few_random_Emacs_tips">http://mbork.pl/2015-01-10_A_few_random_Emacs_tips</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-save-hook
          'executable-make-buffer-file-executable-if-script-p)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga2bdfba" class="outline-3">
<h3 id="orga2bdfba"><span class="section-number-3">5.36</span> Scroll Screen Position</h3>
<div class="outline-text-3" id="text-5-36">
<p>
This is one of those cool finds for a problem I mostly knew that I
had. I often hit <code>C-v</code> by accident and lose my place.  With the
following setting, <code>M-v</code> completely undoes the scroll leaving the
cursor back in the original position.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> scroll-preserve-screen-position 'always)
</pre>
</div>

<p>
Thanks to <a href="http://irreal.org/blog/?p=3963">http://irreal.org/blog/?p=3963</a> for the tip.
</p>
</div>
</div>

<div id="outline-container-org46e01c5" class="outline-3">
<h3 id="org46e01c5"><span class="section-number-3">5.37</span> Unique Buffer Names</h3>
<div class="outline-text-3" id="text-5-37">
<p>
When editing files with the same name, but different location, a
unique identifier (based on path) is preferred over a number.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">uniquify</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> uniquify-buffer-name-style 'post-forward
        uniquify-separator <span style="color: #3e999f;">":"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf3d9cc7" class="outline-3">
<h3 id="orgf3d9cc7"><span class="section-number-3">5.38</span> Focus Mode</h3>
<div class="outline-text-3" id="text-5-38">
<p>
Dim everything except for the thing-at-point. Improves focus when
reading code and text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">focus</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c f"</span> . focus-mode)
  (<span style="color: #3e999f;">"C-c F"</span> . focus-read-only-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc63a0fb" class="outline-3">
<h3 id="orgc63a0fb"><span class="section-number-3">5.39</span> Relative line numbers</h3>
<div class="outline-text-3" id="text-5-39">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">linum-relative</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaa465be" class="outline-3">
<h3 id="orgaa465be"><span class="section-number-3">5.40</span> ImageMagick</h3>
<div class="outline-text-3" id="text-5-40">
<p>
Register file types if we can.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">when</span> (fboundp 'imagemagick-register-types)
  (imagemagick-register-types))
</pre>
</div>
</div>
</div>

<div id="outline-container-org91d6577" class="outline-3">
<h3 id="org91d6577"><span class="section-number-3">5.41</span> PDF Tools</h3>
<div class="outline-text-3" id="text-5-41">
<p>
This replaces the built-in DocView for PDF files. Find out the
details <a href="https://github.com/politza/pdf-tools">on the repo</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defcustom</span> <span style="color: #eab700;">bnb/homebrew-prefix</span> <span style="color: #3e999f;">""</span>
  <span style="color: #8959a8;">"Prefix to use for an alternative path to homebrew items"</span>
  <span style="color: #8959a8;">:type</span> 'string
  <span style="color: #8959a8;">:group</span> 'bnb)

(setenv <span style="color: #3e999f;">"PKG_CONFIG_PATH"</span>
        (<span style="color: #718c00;">let</span> ((hbp bnb/homebrew-prefix))
          (<span style="color: #718c00;">setq</span> pdf-info-epdfinfo-program (concat hbp <span style="color: #3e999f;">"/usr/local/bin/epdfinfo"</span>))
          (mapconcat 'identity
                     (list (concat hbp <span style="color: #3e999f;">"/usr/local/Cellar/libffi/3.2.1/lib/pkgconfig"</span>)
                           (concat hbp <span style="color: #3e999f;">"/usr/local/Cellar/zlib/1.2.8/lib/pkgconfig"</span>)
                           (concat hbp <span style="color: #3e999f;">"/usr/local/lib/pkgconfig"</span>)
                           <span style="color: #3e999f;">"/opt/X11/lib/pkgconfig"</span>)
                     <span style="color: #3e999f;">":"</span>)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">pdf-tools</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:init</span> (add-hook 'pdf-view-mode-hook
                  (<span style="color: #718c00;">lambda</span> ()
                    (nlinum-mode 0)))
  <span style="color: #8959a8;">:config</span>
  (custom-set-variables '(pdf-tools-handle-upgrades nil))
  (<span style="color: #718c00;">setq-default</span> pdf-view-display-size 'fit-page)
  (pdf-loader-install))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7009471" class="outline-3">
<h3 id="org7009471"><span class="section-number-3">5.42</span> Helpful</h3>
<div class="outline-text-3" id="text-5-42">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">helpful</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-h f"</span> . helpful-function)
  (<span style="color: #3e999f;">"C-h x"</span> . helpful-command)
  (<span style="color: #3e999f;">"C-h z"</span> . helpful-macro))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1f8481d" class="outline-3">
<h3 id="org1f8481d"><span class="section-number-3">5.43</span> All the icons</h3>
<div class="outline-text-3" id="text-5-43">
<p>
<a href="https://github.com/domtronn/all-the-icons.el">https://github.com/domtronn/all-the-icons.el</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">all-the-icons</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 10)
</pre>
</div>
</div>

<div id="outline-container-org20c901a" class="outline-4">
<h4 id="org20c901a"><span class="section-number-4">5.43.1</span> All the icons Dired</h4>
<div class="outline-text-4" id="text-5-43-1">
<p>
Dired can also make use of pretty icons. Because of this integration,
<code>sunrise-commander</code> also gets some nice icons.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">all-the-icons-dired</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (all-the-icons-dired-mode)
  <span style="color: #8959a8;">:config</span> (add-hook 'dired-mode-hook 'all-the-icons-dired-mode))
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org51ad971" class="outline-3">
<h3 id="org51ad971"><span class="section-number-3">5.44</span> Discover my mode</h3>
<div class="outline-text-3" id="text-5-44">
<p>
If you ever wanted to know what keybindings were active in the
current buffer for the current mode, then it is now just a keypress
away.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">discover-my-major</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> ((<span style="color: #3e999f;">"C-h C-m"</span> . discover-my-major)
   (<span style="color: #3e999f;">"C-h C-d"</span> . discover-my-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf66d6a0" class="outline-3">
<h3 id="orgf66d6a0"><span class="section-number-3">5.45</span> Easy Kill</h3>
<div class="outline-text-3" id="text-5-45">
<p>
While looking for a way to store the filename in the clipboard, I
ran across <a href="https://github.com/leoliu/easy-kill">easy-kill</a>. Not only will it grab the filename, but
provides ways to grab all sorts of fun things.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">easy-kill</span>
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"M-w"</span> . easy-kill)
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9d35625" class="outline-3">
<h3 id="org9d35625"><span class="section-number-3">5.46</span> Undo Tree</h3>
<div class="outline-text-3" id="text-5-46">
<p>
It's time to give undo-tree another try. The following hydra makes
repeated undo/redo easier.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">undo-tree</span>
    <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#172;"</span>
    <span style="color: #8959a8;">:ensure</span> t
    <span style="color: #8959a8;">:config</span>
    (global-undo-tree-mode)
    (<span style="color: #718c00;">defhydra</span> hydra-undo-tree (<span style="color: #8959a8;">:color</span> yellow <span style="color: #8959a8;">:hint</span> nil)
<span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">    _p_: undo _n_: redo _s_: save _l_: load  "</span>
(<span style="color: #3e999f;">"p"</span> undo-tree-undo)
(<span style="color: #3e999f;">"n"</span> undo-tree-redo)
(<span style="color: #3e999f;">"s"</span> undo-tree-save-history)
(<span style="color: #3e999f;">"l"</span> undo-tree-load-history)
(<span style="color: #3e999f;">"u"</span> undo-tree-visualize <span style="color: #3e999f;">"visualize"</span> <span style="color: #8959a8;">:color</span> blue)
(<span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span> <span style="color: #8959a8;">:color</span> blue))
    (global-set-key (kbd <span style="color: #3e999f;">"H-,"</span>) 'hydra-undo-tree/body))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge8d7b0f" class="outline-3">
<h3 id="orge8d7b0f"><span class="section-number-3">5.47</span> Adaptive Fill&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h3>
<div class="outline-text-3" id="text-5-47">
<p>
Try to keep any prefixed elements of the first line for paragraph
filling.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">filladapt</span>
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#9638;"</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> filladapt-mode
  <span style="color: #8959a8;">:init</span> (<span style="color: #718c00;">setq-default</span> filladapt-mode t)
  <span style="color: #8959a8;">:hook</span> ((text-mode . filladapt-mode)
         (org-mode . turn-off-filladapt-mode)
         (prog-mode . turn-off-filladapt-mode)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0fba8b3" class="outline-2">
<h2 id="org0fba8b3"><span class="section-number-2">6</span> Style</h2>
<div class="outline-text-2" id="text-6">
<p>
The following sections describe items that affect the visual
elements of Emacs.
</p>
</div>

<div id="outline-container-org1922343" class="outline-3">
<h3 id="org1922343"><span class="section-number-3">6.1</span> Frame Changes</h3>
<div class="outline-text-3" id="text-6-1">
<p>
These following items make Emacs really beautiful on every
platform.  I remove the menu bar, tool bar and the scroll bar for
starters.  Then, I setup the fringe area with some items
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">if</span> (fboundp 'menu-bar-mode) (menu-bar-mode -1))
(<span style="color: #718c00;">if</span> (fboundp 'tool-bar-mode) (tool-bar-mode -1))
(<span style="color: #718c00;">if</span> (fboundp 'scroll-bar-mode) (scroll-bar-mode -1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org10a12c1" class="outline-3">
<h3 id="org10a12c1"><span class="section-number-3">6.2</span> Window Changes</h3>
<div class="outline-text-3" id="text-6-2">
<p>
In the fringe area, I like to have markers to show me where the
buffer begins/ends on the right. On the left, I have emacs show
little dashes where empty lines exist.
</p>

<p>
In the title bar, I have it print the buffer name, full file name
and size.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq-default</span> indicate-buffer-boundaries 'right)
(<span style="color: #718c00;">setq-default</span> indicate-empty-lines t)
(<span style="color: #718c00;">setq-default</span> frame-title-format '(<span style="color: #3e999f;">"%b %f %I"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7edf69b" class="outline-3">
<h3 id="org7edf69b"><span class="section-number-3">6.3</span> Faces</h3>
<div class="outline-text-3" id="text-6-3">
</div>
<div id="outline-container-org3316043" class="outline-4">
<h4 id="org3316043"><span class="section-number-4">6.3.1</span> Default Fonts</h4>
<div class="outline-text-4" id="text-6-3-1">
<p>
I love <i>Source Code Pro</i>, but I'm giving <i>Fira Code a try</i> for
some extra ligature fun.
</p>

<p>
<a href="https://github.com/tonsky/FiraCode/wiki/Setting-up-Emacs">https://github.com/tonsky/FiraCode/wiki/Setting-up-Emacs</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ring</span>
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"H-f"</span> . bnb/font-next)
  (<span style="color: #3e999f;">"H-F"</span> . bnb/font-prev)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> bnb/fontlist '(<span style="color: #3e999f;">"Fira Code-13"</span> <span style="color: #3e999f;">"Source Code Pro-13"</span>)
        bnb/font-ring
        (ring-convert-sequence-to-ring bnb/fontlist)
        bnb/font
        (ring-ref bnb/font-ring 0))
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-apply</span> (font)
    <span style="color: #8959a8;">"Change the default font to FONT."</span>
    (set-frame-font (<span style="color: #718c00;">setq</span> bnb/font font))
    (message <span style="color: #3e999f;">"Set default font to %s"</span> bnb/font))
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-next</span> ()
    <span style="color: #8959a8;">"Cycle the default font to the next in the ring."</span>
    (<span style="color: #718c00;">interactive</span>)
    (bnb/font-apply (ring-next bnb/font-ring bnb/font)))
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-prev</span> ()
    <span style="color: #8959a8;">"Cycle the default font to the previous in the ring."</span>
    (<span style="color: #718c00;">interactive</span>)
    (bnb/font-apply (ring-prev bnb/font-ring bnb/font)))
  (set-frame-font bnb/font))

(<span style="color: #718c00;">defconst</span> <span style="color: #eab700;">fira-code-font-lock-keywords-alist</span>
  (mapcar (<span style="color: #718c00;">lambda</span> (regex-char-pair)
            `(,(car regex-char-pair)
              (0 (<span style="color: #718c00;">prog1</span> ()
                   (compose-region (match-beginning 1)
                                   (match-end 1)
                                   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">The first argument to concat is a string containing a literal tab</span>
                                   ,(concat <span style="color: #3e999f;">" "</span> (list (decode-char 'ucs (cadr regex-char-pair)))))))))
          '((<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">www</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe100)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">/]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">/]"</span>        #Xe101)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*\\*\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>             #Xe102)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*\\*/</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe103)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe104)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">*]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*/</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>              #Xe105)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\\\\\\\</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>              #Xe106)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\\\\\\\\\\\</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>          #Xe107)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">{-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe108)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\[</span><span style="color: #4271ae;">\\</span><span style="color: #3e999f;">]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe109)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">::</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe10a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">:::</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe10b)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">:=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe10c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">!!</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe10d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">!=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe10e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">!==</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe10f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-}</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe110)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">--</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe111)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">---</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe112)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">--&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe113)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">-]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe114)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-&gt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe115)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe116)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-&lt;&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe117)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">-~</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe118)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#{</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe119)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#\\[</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe11a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">##</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe11b)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">###</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe11c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">####</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe11d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#(</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe11e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#\\?</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe11f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#_</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe120)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">#_(</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe121)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe122)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe123)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.\\.</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe124)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.\\.&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe125)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\.\\.\\.</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>             #Xe126)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\?=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe127)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\?\\?</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe128)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">;;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe129)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe12a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/\\*\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe12b)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe12c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/==</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe12d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">/&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe12e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">//</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe12f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">///</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe130)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&amp;&amp;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe131)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">||</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe132)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">||=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe133)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">|]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">|=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe134)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">|&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe135)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\^=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe136)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\$&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe137)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\+\\+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe138)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\+\\+\\+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>             #Xe139)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\+&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe13a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=:=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe13b)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">!/]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">==</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">&gt;]"</span>           #Xe13c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">===</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe13d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">==&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe13e)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe13f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=&gt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe140)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe141)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=&lt;&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe142)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">=/=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe143)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe144)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe145)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;=&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe146)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">-=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe147)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;&gt;-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe148)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;&gt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe149)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&gt;&gt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe14a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe14b)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\*&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                 #Xe14c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;|</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe14d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;|&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe14e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\$</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe14f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\$&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                 #Xe150)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;!--</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe151)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe152)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;--</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe153)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;-&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe154)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                  #Xe155)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;\\+&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                 #Xe156)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe157)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;==</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe158)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;=&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe159)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;=&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe15a)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe15b)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">-=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>               #Xe15c)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&lt;-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe15d)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&lt;=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe15e)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;&lt;&lt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe15f)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;~</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe160)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;~~</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe161)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;/</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe162)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">&lt;/&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe163)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~@</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe164)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~-</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe165)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~=</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe166)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe167)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">&lt;]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~~</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                #Xe168)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">~~&gt;</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                   #Xe169)
            (<span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">%%</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>                    #Xe16a)
            <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">("\\(x\\)"                   #Xe16b) This ended up being hard to do properly so i'm leaving it out.</span>
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">:=]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">:</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">:=]"</span>           #Xe16c)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\\+&lt;&gt;]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\\+&lt;&gt;]"</span>   #Xe16d)
            (<span style="color: #3e999f;">"[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\\*/&lt;&gt;]</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">\\*</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">[</span><span style="color: #4271ae;">^</span><span style="color: #3e999f;">\\*/&lt;&gt;]"</span> #Xe16f))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">add-fira-code-symbol-keywords</span> ()
  (font-lock-add-keywords nil fira-code-font-lock-keywords-alist))

<span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-fira-code-symbol-keywords)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org6e7ccd3"></a>Unicode<br />
<div class="outline-text-5" id="text-6-3-1-1">
<p>
Support unicode fonts
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">unicode-fonts</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:init</span>
  (unicode-fonts-setup))
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org2dd4879" class="outline-4">
<h4 id="org2dd4879"><span class="section-number-4">6.3.2</span> Trying out fonts on Windows</h4>
<div class="outline-text-4" id="text-6-3-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/windows-set-font</span> ()
  <span style="color: #8959a8;">"Use Windows font selection to set the default font."</span>
  (<span style="color: #718c00;">interactive</span>)
  (set-face-attribute 'default nil <span style="color: #8959a8;">:font</span> (w32-select-font)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1cdf738" class="outline-4">
<h4 id="org1cdf738"><span class="section-number-4">6.3.3</span> Dynamic Font sizes</h4>
<div class="outline-text-4" id="text-6-3-3">
<p>
Changing font sizes in presentations is crucial to have at hand. I
use the following keybindings. <code>C--</code> overrides the negative
argument function, but that one is also accessible by <code>M--</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/change-frame-font-size</span> (fn)
  <span style="color: #8959a8;">"Change the frame font size according to function FN."</span>
  (<span style="color: #718c00;">let*</span> ((font-name (frame-parameter nil 'font))
         (decomposed-font-name (x-decompose-font-name font-name))
         (font-size (string-to-number (aref decomposed-font-name 5))))
    (aset decomposed-font-name 5 (int-to-string (funcall fn font-size)))
    (set-frame-font (x-compose-font-name decomposed-font-name))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/frame-text-scale-increase</span> ()
  <span style="color: #8959a8;">"Increase the frame font size by 1."</span>
  (<span style="color: #718c00;">interactive</span>)
  (bnb/change-frame-font-size '1+))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/frame-text-scale-decrease</span> ()
  <span style="color: #8959a8;">"Decrease the frame font size by 1."</span>
  (<span style="color: #718c00;">interactive</span>)
  (bnb/change-frame-font-size '1-))

(<span style="color: #718c00;">bind-keys</span>
 (<span style="color: #3e999f;">"C-+"</span> . text-scale-increase)
 (<span style="color: #3e999f;">"C--"</span> . text-scale-decrease)
 (<span style="color: #3e999f;">"s--"</span> . bnb/frame-text-scale-decrease)
 (<span style="color: #3e999f;">"s-+"</span> . bnb/frame-text-scale-increase)
 (<span style="color: #3e999f;">"s-="</span> . bnb/frame-text-scale-increase))
</pre>
</div>
</div>
</div>

<div id="outline-container-org560b4af" class="outline-4">
<h4 id="org560b4af"><span class="section-number-4">6.3.4</span> Mode Line Style</h4>
<div class="outline-text-4" id="text-6-3-4">
<p>
I dislike the box around the <code>mode-line</code> making it look like a
button. I disable (set to <code>nil</code>) this face attribute, <code>box</code>, to
get a flat feel. Be sure to do it to all <code>mode-line</code> faces that
have this attribute.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute 'mode-line nil <span style="color: #8959a8;">:box</span> nil)
(set-face-attribute 'mode-line-inactive nil <span style="color: #8959a8;">:box</span> nil)
(set-face-attribute 'mode-line-highlight nil <span style="color: #8959a8;">:box</span> nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org18986da" class="outline-4">
<h4 id="org18986da"><span class="section-number-4">6.3.5</span> Missing Glyphs</h4>
<div class="outline-text-4" id="text-6-3-5">
<p>
If I ever use a font with a missing glyph, this will let Emacs
check the <i>Symbola</i> font for the missing data.
</p>

<p>
<a href="http://users.teilar.gr/~g1951d/">Download Symbola</a> if you do not have it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-fontset-font <span style="color: #3e999f;">"fontset-default"</span> nil
                  (font-spec <span style="color: #8959a8;">:size</span> 20 <span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Symbola"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org381cfb2" class="outline-4">
<h4 id="org381cfb2"><span class="section-number-4">6.3.6</span> Cursor width</h4>
<div class="outline-text-4" id="text-6-3-6">
<p>
Make the cursor the full width of the character at point.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> x-stretch-cursor t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7dbc6d9" class="outline-3">
<h3 id="org7dbc6d9"><span class="section-number-3">6.4</span> Themes</h3>
<div class="outline-text-3" id="text-6-4">
<p>
I used to have <a href="http://www.greghendershott.com/2017/02/emacs-themes.html">something else</a> from <a href="http://www.greghendershott.com">Greg Hendershot</a>, but now I
created my own theme override and layer it corectly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/disable-all-themes</span> ()
  <span style="color: #8959a8;">"Disable all enabled themes."</span>
  (<span style="color: #718c00;">interactive</span>)
  (mapc #'disable-theme custom-enabled-themes))
</pre>
</div>

<p>
On creating themes: <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Custom-Themes.html#Creating-Custom-Themes">https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Custom-Themes.html#Creating-Custom-Themes</a>
</p>
</div>

<div id="outline-container-orgcb05481" class="outline-4">
<h4 id="orgcb05481"><span class="section-number-4">6.4.1</span> Extra Themes</h4>
<div class="outline-text-4" id="text-6-4-1">
<p>
I like to have a few options for themes easily available. This set
respresents my favorite go-to combinations.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">minimal-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">gruvbox-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">material-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">tango-plus-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">color-theme-sanityinc-tomorrow</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t)
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">dichromacy</span>
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">adwaita</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4489712" class="outline-3">
<h3 id="org4489712"><span class="section-number-3">6.5</span> Sky Color Clock</h3>
<div class="outline-text-3" id="text-6-5">
<p>
This is a nice addition to any modeline. In a little block, it shows the date, time, moon phase
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">sky-color-clock</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:quelpa</span>
  (sky-color-clock <span style="color: #8959a8;">:fetcher</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"zk-phi/sky-color-clock"</span>)
  <span style="color: #8959a8;">:config</span>
  (sky-color-clock-initialize 40)
  (<span style="color: #718c00;">setq</span> sky-color-clock-enable-emoji-icon t)
  (sky-color-clock-initialize-openweathermap-client
   bnb/openweathermap-api-key
   bnb/openweathermap-city-id)
  (<span style="color: #718c00;">push</span> '(<span style="color: #8959a8;">:eval</span> (sky-color-clock)) (default-value 'mode-line-format)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c2a9cb" class="outline-3">
<h3 id="org3c2a9cb"><span class="section-number-3">6.6</span> Doom Modeline</h3>
<div class="outline-text-3" id="text-6-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">doom-modeline</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:init</span> (doom-modeline-mode t)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span>
   doom-modeline-height 0))
</pre>
</div>
</div>
</div>

<div id="outline-container-org92eeea9" class="outline-3">
<h3 id="org92eeea9"><span class="section-number-3">6.7</span> Font lock profiling</h3>
<div class="outline-text-3" id="text-6-7">
<p>
Allow for profiling of font-locking.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">font-lock-profiler</span>
  <span style="color: #8959a8;">:commands</span> (font-lock-profiler-start
             font-lock-profiler-buffer
             font-lock-profiler-region))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga5840c8" class="outline-3">
<h3 id="orga5840c8"><span class="section-number-3">6.8</span> Pretty Symbols</h3>
<div class="outline-text-3" id="text-6-8">
<p>
Emacs can be so pretty sometimes.
</p>
</div>

<div id="outline-container-org4ca6ca1" class="outline-4">
<h4 id="org4ca6ca1"><span class="section-number-4">6.8.1</span> Pretty mode</h4>
<div class="outline-text-4" id="text-6-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">pretty-mode</span>
  <span style="color: #8959a8;">:disabled</span>
  <span style="color: #8959a8;">:config</span>
  (global-pretty-mode t)
  (pretty-activate-groups
   '(<span style="color: #8959a8;">:sub-and-superscripts</span> <span style="color: #8959a8;">:greek</span> <span style="color: #8959a8;">:arithmetic-nary</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc1ecf06" class="outline-4">
<h4 id="orgc1ecf06"><span class="section-number-4">6.8.2</span> Prettify symbols mode</h4>
<div class="outline-text-4" id="text-6-8-2">
<p>
Some reading to consider:
</p>

<ul class="org-ul">
<li><a href="http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html">http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html</a></li>
<li><a href="https://www.emacswiki.org/emacs/PrettySymbolsForLanguages">https://www.emacswiki.org/emacs/PrettySymbolsForLanguages</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">prog-mode</span> <span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">Contains pretty-symbols-mode</span>
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> prettify-symbols-unprettify-at-point 'right-edge)
  (global-prettify-symbols-mode t)
  (add-hook
   'python-mode-hook
   (<span style="color: #718c00;">lambda</span> ()
     (mapc (<span style="color: #718c00;">lambda</span> (pair) (<span style="color: #718c00;">push</span> pair prettify-symbols-alist))
           '(<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Syntax</span>
             (<span style="color: #3e999f;">"def"</span> .      ?&#8497;)
             (<span style="color: #3e999f;">"not"</span> .      ?&#10071;)
             (<span style="color: #3e999f;">"in"</span> .       ?&#8712;)
             (<span style="color: #3e999f;">"not in"</span> .   ?&#8713;)
             (<span style="color: #3e999f;">"return"</span> .   ?&#10236;)
             (<span style="color: #3e999f;">"yield"</span> .    ?&#10235;)
             (<span style="color: #3e999f;">"for"</span> .      ?&#8704;)
             <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Base Types</span>
             (<span style="color: #3e999f;">"int"</span> .      ?&#8484;)
             (<span style="color: #3e999f;">"float"</span> .    ?&#8477;)
             (<span style="color: #3e999f;">"str"</span> .      ?&#120138;)
             (<span style="color: #3e999f;">"True"</span> .     ?&#120139;)
             (<span style="color: #3e999f;">"False"</span> .    ?&#120125;)
             <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Mypy</span>
             (<span style="color: #3e999f;">"Dict"</span> .     ?&#120071;)
             (<span style="color: #3e999f;">"List"</span> .     ?&#8466;)
             (<span style="color: #3e999f;">"Tuple"</span> .    ?&#10754;)
             (<span style="color: #3e999f;">"Set"</span> .      ?&#8486;)
             (<span style="color: #3e999f;">"Iterable"</span> . ?&#120074;)
             (<span style="color: #3e999f;">"Any"</span> .      ?&#10068;)
             (<span style="color: #3e999f;">"Union"</span> .    ?&#8746;))))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org79fa064" class="outline-3">
<h3 id="org79fa064"><span class="section-number-3">6.9</span> Color</h3>
<div class="outline-text-3" id="text-6-9">
</div>
<div id="outline-container-orga104a63" class="outline-4">
<h4 id="orga104a63"><span class="section-number-4">6.9.1</span> Rainbow Mode</h4>
<div class="outline-text-4" id="text-6-9-1">
<p>
In order to see the colors <i>in the buffer</i> this mode higlights
color words and definitions with their values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rainbow-mode</span>
  <span style="color: #8959a8;">:commands</span> (rainbow-mode)
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org871a8e7" class="outline-4">
<h4 id="org871a8e7"><span class="section-number-4">6.9.2</span> KureColor</h4>
<div class="outline-text-4" id="text-6-9-2">
<p>
Color helper KureColor allows easy modifications of hue,
saturation and brightness.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">kurecolor</span>
  <span style="color: #8959a8;">:bind</span> ((<span style="color: #3e999f;">"H-k"</span> . kurecolor-increase-hue-by-step)
         (<span style="color: #3e999f;">"H-j"</span> . kurecolor-decrease-hue-by-step)
         (<span style="color: #3e999f;">"s-k"</span> . kurecolor-increase-saturation-by-step)
         (<span style="color: #3e999f;">"s-j"</span> . kurecolor-decrease-saturation-by-step)
         (<span style="color: #3e999f;">"s-l"</span> . kurecolor-increase-brightness-by-step)
         (<span style="color: #3e999f;">"s-h"</span> . kurecolor-decrease-brightness-by-step))
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org1c25da2" class="outline-2">
<h2 id="org1c25da2"><span class="section-number-2">7</span> BNB Helpers</h2>
<div class="outline-text-2" id="text-7">
<p>
This is a collection of code specific to how I use emacs. Some
are from different websites or other Emacs users.
</p>
</div>

<div id="outline-container-org793bdfd" class="outline-3">
<h3 id="org793bdfd"><span class="section-number-3">7.1</span> Exit behavior</h3>
<div class="outline-text-3" id="text-7-1">
<p>
Instead of exiting emacs, I prefer to leave it running and only
minimize (iconize) it. Especially since I use <code>server</code> with emacs,
it is advantageous to not kill my session by accident
(muscle-memory). This idea is from <a href="http://emacs-fu.blogspot.com/2009/03/windows-and-daemons.html">Emacs-Fu</a>.
</p>

<p>
To accomplish this, I advise the <code>kill-emacs</code> function. But first,
I need to have some pieces in place to perform some functionality
if a killing operation triggers (keystrokes, button presses,
etc).
</p>

<p>
I create a variable, <code>bnb/kill-emacs-hooks</code>, for functions that
need to run before emacs is <i>killed</i>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">bnb/kill-emacs-hooks</span>)
(add-hook 'bnb/kill-emacs-hooks
          (<span style="color: #718c00;">lambda</span> () (<span style="color: #718c00;">if</span> (functionp 'server-edit)(server-edit))))
</pre>
</div>

<p>
In the hook above, I call the <code>server-edit</code> function to act as if
I am closing emacs for a file opened via the server API. This has
the effect of providing an illusion of opening the editor on a
specific file and then closing it with normal keypresses.
</p>

<p>
Next, I provide a flag and a function to set the flag if emacs is
to really exit. We always need an escape hatch.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">bnb/really-kill-emacs</span> nil)
(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/kill-emacs</span> ()
  <span style="color: #8959a8;">"Actually kill emacs."</span>
  (<span style="color: #718c00;">interactive</span>)
  (<span style="color: #718c00;">setq</span> bnb/really-kill-emacs t)
  (kill-emacs))
</pre>
</div>

<p>
Now that mechanism is in place, it is time to augment
<code>kill-emacs</code> with some advice around the function.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defadvice</span> <span style="color: #f5871f;">kill-emacs</span> (around bnb/pardon-emacs activate)
  <span style="color: #8959a8;">"Only kill emacs if a prefix is set"</span>
  (run-hooks 'bnb/kill-emacs-hooks)
  (<span style="color: #718c00;">if</span> bnb/really-kill-emacs
      ad-do-it
    (iconify-frame)))
</pre>
</div>

<p>
Now, when any event triggers a call to <code>kill-emacs</code>, a small set
of activities happen. First, the <code>bnb/kill-emacs-hooks</code> execute
and perform their jobs. Next, I check the flag for <i>really</i>
exiting and then call the proper <code>kill-emacs</code> if true. Otherwise,
the flag is false and emacs is simply iconified.
</p>
</div>
</div>

<div id="outline-container-org5df3562" class="outline-3">
<h3 id="org5df3562"><span class="section-number-3">7.2</span> Workweeks</h3>
<div class="outline-text-3" id="text-7-2">
<p>
This is vestigal content from my Intel days and this generates
their idea of a work week number.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek</span> ()
  <span style="color: #8959a8;">"Return the current workweek number."</span>
  (<span style="color: #718c00;">interactive</span>)
  (<span style="color: #718c00;">let*</span> ((now (current-time))
         (weeks (string-to-number
                 (format-time-string <span style="color: #3e999f;">"%W"</span> now)))
         (days (time-to-day-in-year now))
         (daynum (string-to-number
                  (format-time-string <span style="color: #3e999f;">"%w"</span> now)))
         (left (% days 7)))
    (<span style="color: #718c00;">if</span> (<span style="color: #718c00;">and</span> (= 0 daynum) (= left 0))
        weeks
      (+ 1 weeks))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek-string</span> ()
  <span style="color: #8959a8;">"Convert the current workweek into a string.</span>

<span style="color: #8959a8;">The string is of the format WW##."</span>
  (<span style="color: #718c00;">interactive</span>)
  (concat <span style="color: #3e999f;">"WW"</span>
          (number-to-string
           (bnb/workweek))))

(<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">calendar</span>)
(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek-from-gregorian</span> (<span style="color: #4271ae;">&amp;optional</span> date)
  <span style="color: #8959a8;">"Calculate the workweek from the Gregorian calendar."</span>
  (<span style="color: #718c00;">let*</span> ((date (<span style="color: #718c00;">or</span> date (calendar-current-date)))
         (year (calendar-extract-year date))
         (fst (calendar-day-of-week (list 1 1 year)))
         (x   (<span style="color: #718c00;">if</span> (&gt;= fst 4)1 0)))
    (+ x
       (car
        (calendar-iso-from-absolute
         (calendar-absolute-from-gregorian date))))))

(<span style="color: #718c00;">setq</span> calendar-week-start-day 1
      calendar-intermonth-text
      '(propertize
        (format <span style="color: #3e999f;">"%2d"</span>
                (bnb/workweek-from-gregorian (list month day year)))
        'font-lock-face 'font-lock-function-name-face))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3de06b1" class="outline-3">
<h3 id="org3de06b1"><span class="section-number-3">7.3</span> Better window splitting functions</h3>
<div class="outline-text-3" id="text-7-3">
<p>
<a href="http://www.reddit.com/r/emacs/comments/25v0eo/you_emacs_tips_and_tricks/chldury">http://www.reddit.com/r/emacs/comments/25v0eo/you_emacs_tips_and_tricks/chldury</a>
</p>

<p>
These settings split the window and load a previous buffer (instead
of the same buffer in both).  This has a better chance of being
what I want when splitting strings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/vplit-last-buffer</span> ()
  <span style="color: #8959a8;">"When splitting the frame, load the last visited buffer."</span>
  (<span style="color: #718c00;">interactive</span>)
  (split-window-vertically)
  (other-window 1 nil)
  (switch-to-next-buffer))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/hsplit-last-buffer</span> ()
  <span style="color: #8959a8;">"When splitting the frame, load the last visited buffer."</span>
  (<span style="color: #718c00;">interactive</span>)
  (split-window-horizontally)
  (other-window 1 nil)
  (switch-to-next-buffer))

(<span style="color: #718c00;">bind-keys</span>
 (<span style="color: #3e999f;">"C-x 2"</span> . bnb/vplit-last-buffer)
 (<span style="color: #3e999f;">"C-x 3"</span> . bnb/hsplit-last-buffer))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge5ec164" class="outline-3">
<h3 id="orge5ec164"><span class="section-number-3">7.4</span> Weekly Time Reporting</h3>
<div class="outline-text-3" id="text-7-4">
<p>
This is a function to create an entry like a datetree, but using
years and workweeks instead.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/find-year-create</span> (year)
  <span style="color: #8959a8;">"Find or create a [YEAR] in an Org journal."</span>
  (<span style="color: #718c00;">let</span> ((re <span style="color: #3e999f;">"^\\**[ \t]+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">[12][0-9]\\{3\\}</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>)
        match)
    (org-narrow-to-subtree)
    (goto-char (point-min))
    (<span style="color: #718c00;">while</span> (<span style="color: #718c00;">and</span> (<span style="color: #718c00;">setq</span> match (re-search-forward re nil t))
                (goto-char (match-beginning 1))
                (&lt; (string-to-number (match-string 1)) year)))
    (<span style="color: #718c00;">cond</span>
     ((not match)
      (goto-char (point-max))
      (<span style="color: #718c00;">or</span> (bolp) (newline))
      (insert (format  <span style="color: #3e999f;">"** %s\n"</span> year)))
     ((= (string-to-number (match-string 1)) year)
      (goto-char (point-at-bol)))
     (t
      (beginning-of-line 1)
      (insert (format  <span style="color: #3e999f;">"** %s\n"</span> year))))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/find-ww-create</span> (ww)
  <span style="color: #8959a8;">"Find or create a [WW] (workweek) in an Org journal."</span>
  (<span style="color: #718c00;">let</span> ((re <span style="color: #3e999f;">"^\\**[ \t]+\\WW</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">[0-9]\\{2\\}</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span>)
        match)
    (org-narrow-to-subtree)
    (goto-char (point-min))
    (<span style="color: #718c00;">while</span> (<span style="color: #718c00;">and</span> (<span style="color: #718c00;">setq</span> match (re-search-forward re nil t))
                (goto-char (match-beginning 1))
                (&lt; (string-to-number (match-string 1)) ww)))
    (<span style="color: #718c00;">cond</span>
     ((not match)
      (goto-char (point-max))
      (<span style="color: #718c00;">or</span> (bolp) (newline))
      (insert (format <span style="color: #3e999f;">"*** WW%02d\n"</span> ww)))
     ((= (string-to-number (match-string 1)) ww)
      (goto-char (point-at-bol)))
     (t
      (beginning-of-line 1)
      (insert (format <span style="color: #3e999f;">"*** WW%02d\n"</span> ww))))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/insert-weekly-time-sheet</span> ()
  <span style="color: #8959a8;">"Generated and insert a weekly time sheet generated from the default Org Agenda."</span>
  (<span style="color: #718c00;">with-temp-buffer</span>
    (insert
     (concat  <span style="color: #3e999f;">"#+BEGIN: clocktable :maxlevel 3 :scope agenda-with-archives :block lastweek :fileskip0 t :properties (\"Score\") :indent nil \n"</span>
              <span style="color: #3e999f;">"#+TBLFM: $6='(org-clock-time% @2$4 $3..$5);%.1f::@2$2=vsum(@3$2..@&gt;$2)\n"</span>
              <span style="color: #3e999f;">"#+END:\n\n"</span>))
    (goto-char (point-min))
    (org-update-dblock)
    (buffer-substring (point-min) (point-max))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/insert-weekly-clocking</span> ()
  <span style="color: #8959a8;">"Insert the weekly clocking clocking data."</span>
  (<span style="color: #718c00;">let</span> ((year (number-to-string (nth 2 (calendar-gregorian-from-absolute (org-today)))))
        (ww (bnb/workweek)))
    (goto-char (point-min))
    (goto-char (cdr (org-id-find <span style="color: #3e999f;">"clocking"</span>)))
    (bnb/find-year-create (string-to-number year))
    (bnb/find-ww-create ww)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgec700c8" class="outline-3">
<h3 id="orgec700c8"><span class="section-number-3">7.5</span> Weekly Score Goal in Org-Agenda</h3>
<div class="outline-text-3" id="text-7-5">
<p>
I use a scoring system to keep track of my overall progress.  This
involves scoring my tasks and attributing my idea of impact of a
particular done item.
</p>

<p>
To use these numbers, I do a weekly review on Monday and compare
the numbers to past years/weeks/etc. To keep pushing forward, this
little bit of code will insert a running status at the top of my
agenda.
</p>

<p>
If I am on track for the given day (at or above the scaled goal),
all is green.  Otherwise, I get a warning type formatting above 80%
and error type formatting under.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Define my goal to hit</span>
(<span style="color: #718c00;">defvar</span> <span style="color: #eab700;">bnb/weekly-score-goal</span> 42)

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Add up all the scores from DONE items in the agenda files</span>
(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/agenda-score-goal</span> ()
  <span style="color: #8959a8;">"Add up scores from done items.</span>

<span style="color: #8959a8;">In the agenda, this will show the number of done items and the</span>
<span style="color: #8959a8;">target goal from `bnb/weekly-score-goal`."</span>
  (<span style="color: #718c00;">let*</span> ((score <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Add up all scores from DONE items</span>
          (apply '+
                 (org-map-entries
                  (<span style="color: #718c00;">lambda</span> () (string-to-number (<span style="color: #718c00;">or</span> (org-entry-get (point) <span style="color: #3e999f;">"Score"</span>) <span style="color: #3e999f;">"0"</span>)))
                  <span style="color: #3e999f;">"/DONE"</span> 'agenda)))
         (scaled-goal (* bnb/weekly-score-goal (/ (string-to-number (format-time-string <span style="color: #3e999f;">"%w"</span>)) 5.0)))
         (face (<span style="color: #718c00;">cond</span> ((&gt;= score scaled-goal) 'success)
                     ((&gt;= score (* .8 scaled-goal)) 'warning)
                     (t 'error))))
    (insert
     (concat
      (propertize
       (format <span style="color: #3e999f;">"Score Goal (%d): "</span> scaled-goal) 'face 'org-agenda-structure)
      (propertize
       (format <span style="color: #3e999f;">"%d/%d\n"</span> score bnb/weekly-score-goal) 'face face)))))

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">This hook runs first in the agenda (and before it is set to read-only)</span>
(add-hook 'org-agenda-mode-hook 'bnb/agenda-score-goal)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5d77f0c" class="outline-3">
<h3 id="org5d77f0c"><span class="section-number-3">7.6</span> Auto-display agenda</h3>
<div class="outline-text-3" id="text-7-6">
<p>
<a href="http://lists.gnu.org/archive/html/emacs-orgmode/2010-03/msg00367.html">John Weigley shows a way</a> to display the agenda after some period
of inactivity.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/jump-to-org-agenda</span> ()
  <span style="color: #8959a8;">"Create and jump to the bnb org agenda."</span>
  (<span style="color: #718c00;">interactive</span>)
  (<span style="color: #718c00;">let</span> ((buf (get-buffer <span style="color: #3e999f;">"*Org Agenda*"</span>))
        wind)
    (<span style="color: #718c00;">if</span> buf
        (<span style="color: #718c00;">if</span> (<span style="color: #718c00;">setq</span> wind (get-buffer-window buf))
            (select-window wind)
          (<span style="color: #718c00;">if</span> (called-interactively-p)
              (<span style="color: #718c00;">progn</span>
                (select-window (display-buffer buf t t))
                (org-fit-window-to-buffer))
            (<span style="color: #718c00;">with-selected-window</span> (display-buffer buf)
              (org-fit-window-to-buffer))))
      (bnb/org-agenda-with-tip nil))))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/idle-agenda</span> (<span style="color: #4271ae;">&amp;optional</span> arg)
  <span style="color: #8959a8;">"Set or cancel idle agenda timer based on [ARG]."</span>
  (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span>)
  (<span style="color: #718c00;">setq</span> bnb/iagenda
        (<span style="color: #718c00;">if</span> arg
            (cancel-timer bnb/iagenda)
          (run-with-idle-timer 3600 t 'bnb/jump-to-org-agenda))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3ed90d9" class="outline-3">
<h3 id="org3ed90d9"><span class="section-number-3">7.7</span> Transparency</h3>
<div class="outline-text-3" id="text-7-7">
<p>
Using the <code>ring</code> package, these commands will cycles through transparency settings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ring</span>
  <span style="color: #8959a8;">:commands</span> (bnb/transparency-apply bnb/transparency-next bnb/transparency-previous
                                    bnb/transparency-cycle bnb/transparency-add)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> bnb/transparency-ring
        (ring-convert-sequence-to-ring (list '(100 100) '(100 50) '(100 10) '(95 50) '(90 50) '(85 50)))
        bnb/transparency
        (ring-ref bnb/transparency-ring 0))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-apply</span> (trans)
    <span style="color: #8959a8;">"Apply the TRANS alpha value to the frame."</span>
    (set-frame-parameter (selected-frame) 'alpha (<span style="color: #718c00;">setq</span> bnb/transparency trans)))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-next</span> ()
    <span style="color: #8959a8;">"Apply the next transparency value in the ring `bnb/transparency-ring`."</span>
    (<span style="color: #718c00;">interactive</span>)
    (bnb/transparency-apply (ring-next bnb/transparency-ring bnb/transparency)))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-previous</span> ()
    <span style="color: #8959a8;">"Apply the previous transparency value in the ring `bnb/transparency-ring`."</span>
    (<span style="color: #718c00;">interactive</span>)
    (bnb/transparency-apply (ring-previous bnb/transparency-ring bnb/transparency)))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-cycle</span> ()
    <span style="color: #8959a8;">"Cycle to the next transparency setting."</span>
    (<span style="color: #718c00;">interactive</span>)
    (bnb/transparency-next))

  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-add</span> (active inactive)
    <span style="color: #8959a8;">"Add ACTIVE and INACTIVE transparency values to the ring."</span>
    (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"nActive Transparency:\nnInactive Transparency:"</span>)
    (ring-insert+extend bnb/transparency-ring (list active inactive) t)
    (bnb/transparency-apply (list active inactive))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8982279" class="outline-3">
<h3 id="org8982279"><span class="section-number-3">7.8</span> Styled HTML Export</h3>
<div class="outline-text-3" id="text-7-8">
<p>
This is how I get the one-page html output for Github Pages. There
are two main parts to setting up and executing the export.
</p>

<p>
First, I use a <code>SETUPFILE</code> from
<a href="https://github.com/fniessen/org-html-themes">https://github.com/fniessen/org-html-themes</a>. Specifically, I use
the <i>readtheorg</i> style.
</p>

<p>
Second, I setup the emacs theme correctly for nice code
output. Syntax highlighting in the export will pull from the
current theme. I don't want this. Instead, I want to specify which
theme to use for <i>every</i> export.
</p>

<p>
The code below stores away the current list of enabled themes
before disabling them all. Then, it enables my preferred export
theme (<code>sanityinc-tomorrow-day</code>) before performing the
export. Finally, it disables the last theme and renables all of the
ones on the list.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/export-readme</span> ()
  <span style="color: #8959a8;">"Export the tangled org setting as html.</span>

<span style="color: #8959a8;">`sanityinc-tomorrow-day` is used to style the code exports."</span>
  (<span style="color: #718c00;">interactive</span>)
  (<span style="color: #718c00;">let</span> ((themes custom-enabled-themes))
    (mapc 'disable-theme themes)
    (load-theme 'sanityinc-tomorrow-day)
    (org-html-export-to-html)
    (disable-theme 'sanityinc-tomorrow-day)
    (mapcar 'load-theme (reverse themes))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcdd08b6" class="outline-3">
<h3 id="orgcdd08b6"><span class="section-number-3">7.9</span> Auto-indent when pasting</h3>
<div class="outline-text-3" id="text-7-9">
<p>
Automatically indent pasted blocks of text.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #718c00;">dolist</span> (command '(yank yank-pop))
  (eval `(<span style="color: #718c00;">defadvice</span> ,command (after indent-region activate)
           (<span style="color: #718c00;">and</span> (not current-prefix-arg)
                (<span style="color: #718c00;">let</span> ((mark-even-if-inactive transient-mark-mode))
                  (indent-region (region-beginning) (region-end) nil))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org64cc8d9" class="outline-3">
<h3 id="org64cc8d9"><span class="section-number-3">7.10</span> Hide mode line</h3>
<div class="outline-text-3" id="text-7-10">
<p>
This is a fun one I picked from a now defunct website. This block
of code hides the mode-line for the current buffer (window).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Setup buffer-local behavior</span>
(<span style="color: #718c00;">defvar-local</span> <span style="color: #eab700;">bnb/hide-mode-line-mode</span> nil)
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Setup minor mode</span>
(<span style="color: #718c00;">define-minor-mode</span> <span style="color: #f5871f;">bnb/hide-mode-line-mode</span>
  <span style="color: #8959a8;">"Minor mode to hide mode-line in current buffer"</span>
  <span style="color: #8959a8;">:init-value</span> nil
  <span style="color: #8959a8;">:global</span> nil
  <span style="color: #8959a8;">:variable</span> bnb/hide-mode-line-mode
  <span style="color: #8959a8;">:group</span> 'editing-basics
  (<span style="color: #718c00;">if</span> bnb/hide-mode-line-mode
      (<span style="color: #718c00;">setq</span> bnb/hide-mode-line-mode/saved-format mode-line-format
            mode-line-format nil)
    (<span style="color: #718c00;">setq</span> mode-line-format bnb/hide-mode-line-mode/saved-format
          bnb/hide-mode-line-mode/saved-format nil))
  (force-mode-line-update)
  (redraw-display)
  (<span style="color: #718c00;">when</span> (<span style="color: #718c00;">and</span> (called-interactively-p 'interactive)
             bnb/hide-mode-line-mode)
    (run-with-idle-timer
     0 nil 'message
     (concat <span style="color: #3e999f;">"Goodbye mode line!"</span>
             <span style="color: #3e999f;">"Use M-x bnb/hide-mode-line-mode to make the mode-line appear"</span>))))

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Bind global key</span>
(<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"H-0"</span> 'bnb/hide-mode-line-mode)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7fb7110" class="outline-2">
<h2 id="org7fb7110"><span class="section-number-2">8</span> Company</h2>
<div class="outline-text-2" id="text-8">
<p>
<a href="http://company-mode.github.io">Company Mode</a> is an in-buffer completion system. To get started, I
need to load the mode and bind some keys.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">company</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> company-mode
  <span style="color: #8959a8;">:init</span>
  (add-hook 'after-init-hook 'global-company-mode)
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"&lt;C-tab&gt;"</span> . company-complete-common-or-cycle)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-&lt;tab&gt;"</span> 'company-complete org-mode-map)
  (<span style="color: #718c00;">bind-keys</span> <span style="color: #8959a8;">:map</span> company-active-map
             (<span style="color: #3e999f;">"s-&lt;tab&gt;"</span> . company-complete-common-or-cycle)
             (<span style="color: #3e999f;">"C-n"</span>     . company-select-next)
             (<span style="color: #3e999f;">"C-p"</span>     . company-select-previous))
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Turn off the auto downcasing of things</span>
  (<span style="color: #718c00;">setq</span> company-dabbrev-downcase nil
        company-show-numbers t
        company-tooltip-align-annotations t
        company-selection-wrap-around t
        company-tooltip-flip-when-above t
        company-dabbrev-code-everywhere t
        company-dabbrev-code-ignore-case t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org821c02c" class="outline-2">
<h2 id="org821c02c"><span class="section-number-2">9</span> File Management</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org9d70205" class="outline-3">
<h3 id="org9d70205"><span class="section-number-3">9.1</span> Dired</h3>
<div class="outline-text-3" id="text-9-1">
<p>
These are part of the <a href="https://github.com/Fuco1/dired-hacks">dired-hacks repository</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-hacks-utils</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-filter</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-rainbow</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-narrow</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-collapse</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>

<p>
Also, there is a nice faculty to run an external command on a given
file with <code>!</code>.
</p>
</div>
</div>

<div id="outline-container-org62fea10" class="outline-3">
<h3 id="org62fea10"><span class="section-number-3">9.2</span> Neotree&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h3>
<div class="outline-text-3" id="text-9-2">
<p>
Neotree is a file sidebar for navigation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">neotree</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (neotree)
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"H-t"</span> . neotree-toggle)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> neo-theme (<span style="color: #718c00;">if</span> (display-graphic-p) 'icons 'arrow)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf71dad" class="outline-3">
<h3 id="orgbf71dad"><span class="section-number-3">9.3</span> Sunrise Commander</h3>
<div class="outline-text-3" id="text-9-3">
<p>
I always seem to need something better than <code>dired</code> when moving
files around. Sunrise commander seems to fit the bill nicely.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">sunrise-commander</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:quelpa</span>
  (sunrise-commander <span style="color: #8959a8;">:fetcher</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"escherdragon/sunrise-commander"</span>)
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"&lt;f8&gt;"</span> . sunrise))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab3a2da" class="outline-3">
<h3 id="orgab3a2da"><span class="section-number-3">9.4</span> OSX Dictionary</h3>
<div class="outline-text-3" id="text-9-4">
<p>
Search <code>Dictionary.app</code> from the comfort of an Emacs buffer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">osx-dictionary</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c d"</span> . osx-dictionary-search-word-at-point)
  (<span style="color: #3e999f;">"C-c i"</span> . osx-dictionary-search-input))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaeff5d2" class="outline-3">
<h3 id="orgaeff5d2"><span class="section-number-3">9.5</span> OSX Reveal</h3>
<div class="outline-text-3" id="text-9-5">
<p>
Show files in finder.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">reveal-in-osx-finder</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"C-c z"</span> . reveal-in-osx-finder))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6bc6a1c" class="outline-2">
<h2 id="org6bc6a1c"><span class="section-number-2">10</span> Smart Tabs</h2>
<div class="outline-text-2" id="text-10">
<p>
<a href="http://www.emacswiki.org/emacs-en/SmartTabs">SmartTabs</a> try to do the right thing regarding tabs/spaces in
indentation/alignment. It installs through the package interface. Look for
<code>smart-tabs-mode</code>.
</p>

<p>
By default, I'm enabling it in all modes that I can.
</p>

<p>
Since we are dealing with tabs here, I also take the time to set
the default width to 4. Because of the way this mode works, any
change in the default width will result in code that still aligns.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">smart-tabs-mode</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq-default</span> indent-tabs-mode nil)
  (smart-tabs-insinuate 'c 'cperl 'c++)
  (<span style="color: #718c00;">setq-default</span> tab-width 2))
</pre>
</div>
</div>

<div id="outline-container-org678f412" class="outline-3">
<h3 id="org678f412"><span class="section-number-3">10.1</span> Notes</h3>
<div class="outline-text-3" id="text-10-1">
<p>
To re-tab the whole file, use <code>C-x h C-M-\</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgc51cab0" class="outline-2">
<h2 id="orgc51cab0"><span class="section-number-2">11</span> CUA mode</h2>
<div class="outline-text-2" id="text-11">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#CUA_002520Bindings">CUA</a> has a primary feature of enabling cut, copy, paste and undo
shortcuts compatible with most applications (C-x, C-c,
C-v). However, it also has interesting rectangle features and
<b>that</b> is why I enable it. I also happen to turn off those other
bindings and prefer the emacs defaults.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(cua-mode t)
(<span style="color: #718c00;">setq</span> cua-enable-cua-keys nil)
</pre>
</div>
</div>

<div id="outline-container-orge36f6a5" class="outline-3">
<h3 id="orge36f6a5"><span class="section-number-3">11.1</span> Bindings</h3>
<div class="outline-text-3" id="text-11-1">
<p>
There are two main binding types: <a href="#orgea410c0">11.1.1</a> and <a href="#org12530a2">11.1.2</a>.
</p>
</div>

<div id="outline-container-orgea410c0" class="outline-4">
<h4 id="orgea410c0"><span class="section-number-4">11.1.1</span> CUA Rectangles</h4>
<div class="outline-text-4" id="text-11-1-1">
<p>
These take place with an active rectangle. To start/cancel a
rectangle use <code>C-RET</code>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keys</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">M-&lt;arrow&gt;</td>
<td class="org-left">Move rectangle overlay</td>
</tr>

<tr>
<td class="org-left">C-SPACE</td>
<td class="org-left">Activate region bounded by rectangle</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">M-a</td>
<td class="org-left">Align all words at the left edge</td>
</tr>

<tr>
<td class="org-left">M-b</td>
<td class="org-left">Fill rectangle with blanks (tabs and spaces)</td>
</tr>

<tr>
<td class="org-left">M-c</td>
<td class="org-left">Closes the rectangle by removing left edge blanks</td>
</tr>

<tr>
<td class="org-left">M-f</td>
<td class="org-left">Fills the rectangle with a single character (prompt)</td>
</tr>

<tr>
<td class="org-left">M-i</td>
<td class="org-left">Increases number found on each line of rectangle</td>
</tr>

<tr>
<td class="org-left">M-k</td>
<td class="org-left">Kills the rectangle as normal multi-line kill</td>
</tr>

<tr>
<td class="org-left">M-l</td>
<td class="org-left">Downcases the rectangle</td>
</tr>

<tr>
<td class="org-left">M-m</td>
<td class="org-left">Copies the rectangle for normal multi-line paste</td>
</tr>

<tr>
<td class="org-left">M-n</td>
<td class="org-left">Fills each line with increasing numbers (prompt)</td>
</tr>

<tr>
<td class="org-left">M-o</td>
<td class="org-left">Opens the rect by moving hilighted text right and filling with blanks</td>
</tr>

<tr>
<td class="org-left">M-p</td>
<td class="org-left">Toggles virtual straight rectangle edges</td>
</tr>

<tr>
<td class="org-left">M-P</td>
<td class="org-left">Inserts tabs and spaces to make real straight edges</td>
</tr>

<tr>
<td class="org-left">M-q</td>
<td class="org-left">Performs text filling on the rectangle</td>
</tr>

<tr>
<td class="org-left">M-q</td>
<td class="org-left">Performs text filling on the rectangle</td>
</tr>

<tr>
<td class="org-left">M-r</td>
<td class="org-left">Replaces REGEXP (prompt) by STRING (prompt) in rectangle</td>
</tr>

<tr>
<td class="org-left">M-R</td>
<td class="org-left">Reverse the lines in the rectangle</td>
</tr>

<tr>
<td class="org-left">M-s</td>
<td class="org-left">Fills each line of the rectangle with the same STRING (prompt)</td>
</tr>

<tr>
<td class="org-left">M-t</td>
<td class="org-left">Performs text fill of the rectangle with TEXT (prompt)</td>
</tr>

<tr>
<td class="org-left">M-u</td>
<td class="org-left">Upcases the rectangle</td>
</tr>

<tr>
<td class="org-left">M-&lt;Vertical Bar&gt;</td>
<td class="org-left">Runs shell command on rectangle</td>
</tr>

<tr>
<td class="org-left">M-'</td>
<td class="org-left">Restricts rectangle to lines with CHAR (prompt) at left column</td>
</tr>

<tr>
<td class="org-left">M-/</td>
<td class="org-left">Restricts rectangle to lines matching REGEXP (prompt)</td>
</tr>

<tr>
<td class="org-left">C-?</td>
<td class="org-left">Shows a brief list of the above commands.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">M-C-&lt;UP/DOWN&gt;</td>
<td class="org-left">Scrolls the lines INSIDE the rectangle up/down</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org12530a2" class="outline-4">
<h4 id="org12530a2"><span class="section-number-4">11.1.2</span> CUA Global Mark</h4>
<div class="outline-text-4" id="text-11-1-2">
<p>
The global mark feature enables a target the receives any
typed/copied/killed text from any buffer (even the current one).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&lt;ch&gt;</td>
<td class="org-left">All characters (including newlines) you type are inserted at the global mark!</td>
</tr>

<tr>
<td class="org-left">C-x</td>
<td class="org-left">If you cut a region or rectangle, it is automatically inserted at the global mark, and the global mark is advanced.</td>
</tr>

<tr>
<td class="org-left">C-c</td>
<td class="org-left">If you copy a region or rectangle, it is immediately inserted  at the global mark, and the global mark is advanced.</td>
</tr>

<tr>
<td class="org-left">C-v</td>
<td class="org-left">Copies a single character to the global mark.</td>
</tr>

<tr>
<td class="org-left">C-d</td>
<td class="org-left">Moves (i.e. deletes and inserts) a single character to the global mark.</td>
</tr>

<tr>
<td class="org-left">backspace</td>
<td class="org-left">deletes the character before the global mark</td>
</tr>

<tr>
<td class="org-left">delete</td>
<td class="org-left">deletes the character after the global mark.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">S-C-space</td>
<td class="org-left">Jumps to and cancels the global mark.</td>
</tr>

<tr>
<td class="org-left">C-u S-C-space</td>
<td class="org-left">Cancels the global mark (stays in current buffer).</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">TAB</td>
<td class="org-left">Indents the current line or rectangle to the column of the global mark.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb8d997e" class="outline-2">
<h2 id="orgb8d997e"><span class="section-number-2">12</span> Paredit</h2>
<div class="outline-text-2" id="text-12">
<p>
I added <code>paredit-mode</code> to several of the lisp modes that follow.
</p>

<p>
<a href="http://www.emacswiki.org/emacs/PareditCheatsheet">Paredit Cheatsheet</a>
</p>

<p>
<a href="http://danmidwood.com/content/2014/11/21/animated-paredit.html">Animated Paredit</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">paredit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#127824;"</span>
  <span style="color: #8959a8;">:commands</span> (paredit-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6e6da78" class="outline-2">
<h2 id="org6e6da78"><span class="section-number-2">13</span> Paxedit</h2>
<div class="outline-text-2" id="text-13">
<p>
Maybe even <i>more</i> power for lisp coding?
<a href="https://github.com/promethial/paxedit">Paxedit repo</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">paxedit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#41024;"</span>
  <span style="color: #8959a8;">:commands</span> (paxedit-mode)
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"M-&lt;right&gt;"</span> . paxedit-transpose-forward)
  (<span style="color: #3e999f;">"M-&lt;left&gt;"</span>  . paxedit-transpose-backward)
  (<span style="color: #3e999f;">"M-&lt;up&gt;"</span>    . paxedit-backward-up)
  (<span style="color: #3e999f;">"M-&lt;down&gt;"</span>  . paxedit-backward-end)
  (<span style="color: #3e999f;">"M-b"</span>       . paxedit-previous-symbol)
  (<span style="color: #3e999f;">"M-f"</span>       . paxedit-next-symbol)
  (<span style="color: #3e999f;">"C-%"</span>       . paxedit-copy)
  (<span style="color: #3e999f;">"C-&amp;"</span>       . paxedit-kill)
  (<span style="color: #3e999f;">"C-*"</span>       . paxedit-delete)
  (<span style="color: #3e999f;">"C-^"</span>       . paxedit-sexp-raise)
  (<span style="color: #3e999f;">"M-u"</span>       . paxedit-symbol-change-case)
  (<span style="color: #3e999f;">"C-@"</span>       . paxedit-symbol-copy)
  (<span style="color: #3e999f;">"C-#"</span>       . paxedit-symbol-kill))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc6a82f" class="outline-2">
<h2 id="orgfc6a82f"><span class="section-number-2">14</span> Projectile</h2>
<div class="outline-text-2" id="text-14">
<p>
Handling project buffers and files may be easier with projectile.
Currently under evaluation.
</p>

<p>
From the <a href="https://github.com/abo-abo/hydra/wiki/Projectile">Hydra Wiki</a>, the additional hydras launch the projectile
functions.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">projectile</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c p"</span> . projectile-command-map)
  (<span style="color: #3e999f;">"C-x w"</span> . hydra-projectile-other-window/body)
  (<span style="color: #3e999f;">"C-c C-p"</span> . hydra-projectile/body)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">counsel-projectile</span>
    <span style="color: #8959a8;">:after</span> (projectile)
    <span style="color: #8959a8;">:ensure</span> t
    <span style="color: #8959a8;">:bind</span>
    (<span style="color: #8959a8;">:map</span> projectile-command-map
          (<span style="color: #3e999f;">"s s"</span> . counsel-projectile-rg)
          (<span style="color: #3e999f;">"p"</span> . counsel-projectile-switch-project)))
  (<span style="color: #718c00;">when</span> (eq system-type 'windows-nt)
    (<span style="color: #718c00;">setq</span> projectile-indexing-method 'native))
  (<span style="color: #718c00;">setq</span> projectile-enable-caching t
        projectile-require-project-root t
        projectile-mode-line '(<span style="color: #8959a8;">:eval</span> (format <span style="color: #3e999f;">" &#128736;[%s]"</span> (projectile-project-name)))
        projectile-completion-system 'default)
  (projectile-mode)
  (<span style="color: #718c00;">defhydra</span> hydra-projectile-other-window (<span style="color: #8959a8;">:color</span> teal)
    <span style="color: #8959a8;">"projectile-other-window"</span>
    (<span style="color: #3e999f;">"f"</span>  projectile-find-file-other-window        <span style="color: #3e999f;">"file"</span>)
    (<span style="color: #3e999f;">"g"</span>  projectile-find-file-dwim-other-window   <span style="color: #3e999f;">"file dwim"</span>)
    (<span style="color: #3e999f;">"d"</span>  projectile-find-dir-other-window         <span style="color: #3e999f;">"dir"</span>)
    (<span style="color: #3e999f;">"b"</span>  projectile-switch-to-buffer-other-window <span style="color: #3e999f;">"buffer"</span>)
    (<span style="color: #3e999f;">"q"</span>  nil                                      <span style="color: #3e999f;">"cancel"</span> <span style="color: #8959a8;">:color</span> blue))
  (<span style="color: #718c00;">defhydra</span> hydra-projectile (<span style="color: #8959a8;">:color</span> teal <span style="color: #8959a8;">:hint</span> nil)
    <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;"> PROJECTILE: %(projectile-project-root)</span>

<span style="color: #8959a8;"> Find File            Search/Tags          Buffers                Cache</span>
<span style="color: #8959a8;">  ------------------------------------------------------------------------------------------</span>
<span style="color: #8959a8;">  _C-f_: file            _r_: ag                _i_: Ibuffer           _c_: cache clear</span>
<span style="color: #8959a8;">   _ff_: file dwim       _g_: update gtags      _b_: switch to buffer  _x_: remove known project</span>
<span style="color: #8959a8;">   _fd_: file curr dir   _o_: multi-occur     _C-k_: Kill all buffers  _X_: cleanup non-existing</span>
<span style="color: #8959a8;">    _r_: recent file                                               ^^^^_z_: cache current</span>
<span style="color: #8959a8;">    _d_: dir</span>

<span style="color: #8959a8;">  "</span>
    (<span style="color: #3e999f;">"r"</span>   counsel-projectile-rg)
    (<span style="color: #3e999f;">"b"</span>   projectile-switch-to-buffer)
    (<span style="color: #3e999f;">"c"</span>   projectile-invalidate-cache)
    (<span style="color: #3e999f;">"d"</span>   projectile-find-dir)
    (<span style="color: #3e999f;">"C-f"</span> projectile-find-file)
    (<span style="color: #3e999f;">"ff"</span>  projectile-find-file-dwim)
    (<span style="color: #3e999f;">"fd"</span>  projectile-find-file-in-directory)
    (<span style="color: #3e999f;">"g"</span>   ggtags-update-tags)
    (<span style="color: #3e999f;">"C-g"</span> ggtags-update-tags)
    (<span style="color: #3e999f;">"i"</span>   projectile-ibuffer)
    (<span style="color: #3e999f;">"K"</span>   projectile-kill-buffers)
    (<span style="color: #3e999f;">"C-k"</span> projectile-kill-buffers)
    (<span style="color: #3e999f;">"m"</span>   projectile-multi-occur)
    (<span style="color: #3e999f;">"o"</span>   projectile-multi-occur)
    (<span style="color: #3e999f;">"C-p"</span> projectile-switch-project <span style="color: #3e999f;">"switch project"</span>)
    (<span style="color: #3e999f;">"p"</span>   projectile-switch-project)
    (<span style="color: #3e999f;">"s"</span>   projectile-switch-project)
    (<span style="color: #3e999f;">"r"</span>   projectile-recentf)
    (<span style="color: #3e999f;">"x"</span>   projectile-remove-known-project)
    (<span style="color: #3e999f;">"X"</span>   projectile-cleanup-known-projects)
    (<span style="color: #3e999f;">"z"</span>   projectile-cache-current-file)
    (<span style="color: #3e999f;">"`"</span>   hydra-projectile-other-window/body <span style="color: #3e999f;">"other window"</span>)
    (<span style="color: #3e999f;">"q"</span>   nil <span style="color: #3e999f;">"cancel"</span> <span style="color: #8959a8;">:color</span> blue)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2c9628" class="outline-2">
<h2 id="orgb2c9628"><span class="section-number-2">15</span> Programming Languages</h2>
<div class="outline-text-2" id="text-15">
</div>
<div id="outline-container-orgfa5301d" class="outline-3">
<h3 id="orgfa5301d"><span class="section-number-3">15.1</span> Utilities</h3>
<div class="outline-text-3" id="text-15-1">
</div>
<div id="outline-container-org251c5d3" class="outline-4">
<h4 id="org251c5d3"><span class="section-number-4">15.1.1</span> Flycheck</h4>
<div class="outline-text-4" id="text-15-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">flycheck</span>
<span style="color: #8959a8;">:ensure</span> t
<span style="color: #8959a8;">:defer</span> 10
              <span style="color: #8e908c; font-style: italic;">;</span><span style="color: #8e908c; font-style: italic;">:init (global-flycheck-mode)</span>
<span style="color: #8959a8;">:config</span>
(<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"H-!"</span>
    (<span style="color: #718c00;">defhydra</span> hydra-toggle (<span style="color: #8959a8;">:color</span> amaranth)
      <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">  _c_ Check buffer      _x_ Explain error</span>
<span style="color: #8959a8;">  _n_ Next error        _h_ Show error</span>
<span style="color: #8959a8;">  _p_ Previous error</span>
<span style="color: #8959a8;">  _l_ Show all errors   _s_ Select syntax checker</span>
<span style="color: #8959a8;">  _C_ Clear errors      _?_ Describe syntax checker</span>
<span style="color: #8959a8;">  "</span>
      (<span style="color: #3e999f;">"c"</span> flycheck-buffer)
      (<span style="color: #3e999f;">"n"</span> flycheck-next-error)
      (<span style="color: #3e999f;">"p"</span> flycheck-previous-error)
      (<span style="color: #3e999f;">"l"</span> flycheck-list-errors)
      (<span style="color: #3e999f;">"C"</span> flycheck-clear-errors)
      (<span style="color: #3e999f;">"x"</span> flycheck-explain-error-at-point)
      (<span style="color: #3e999f;">"h"</span> flycheck-display-error-at-point)
      (<span style="color: #3e999f;">"s"</span> flycheck-select-checker)
      (<span style="color: #3e999f;">"?"</span> flycheck-describe-checker)
      (<span style="color: #3e999f;">"q"</span> nil))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4e923b" class="outline-4">
<h4 id="orga4e923b"><span class="section-number-4">15.1.2</span> Prog fill&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-15-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">prog-fill</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (prog-fill)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span>
   prog-fill-floating-close-paren-p nil
   prog-fill-break-method-immediate-p t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org43257ce" class="outline-4">
<h4 id="org43257ce"><span class="section-number-4">15.1.3</span> Language Server Protocol</h4>
<div class="outline-text-4" id="text-15-1-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-M-i</td>
<td class="org-left">completion at point</td>
</tr>

<tr>
<td class="org-left">M-.</td>
<td class="org-left">Goto definition</td>
</tr>

<tr>
<td class="org-left">M-?</td>
<td class="org-left">Symbol references</td>
</tr>

<tr>
<td class="org-left">M-x</td>
<td class="org-left">Rename</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">lsp-mode</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org13e0f30" class="outline-3">
<h3 id="org13e0f30"><span class="section-number-3">15.2</span> C++</h3>
<div class="outline-text-3" id="text-15-2">
<p>
Oh my! I finally have a C++ addition to make!
</p>
</div>

<div id="outline-container-org4a6b574" class="outline-4">
<h4 id="org4a6b574"><span class="section-number-4">15.2.1</span> Compilation Buffers</h4>
<div class="outline-text-4" id="text-15-2-1">
<p>
I forget where I snarfed this from, but it does a great job fixing
the ANSI escape sequences in compilation buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">ansi-color</span>)
(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">colorize-compilation-buffer</span> ()
  (toggle-read-only)
  (ansi-color-apply-on-region compilation-filter-start (point))
  (toggle-read-only))
(add-hook 'compilation-filter-hook 'colorize-compilation-buffer)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org05a46f7" class="outline-3">
<h3 id="org05a46f7"><span class="section-number-3">15.3</span> Elisp</h3>
<div class="outline-text-3" id="text-15-3">
<p>
When modified <code>emacs-lisp</code>, it is most helpful to use <code>paredit</code> and
<code>eldoc</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'emacs-lisp-mode-hook 'paredit-mode)
(add-hook 'emacs-lisp-mode-hook 'paxedit-mode)
(add-hook 'emacs-lisp-mode-hook 'turn-on-eldoc-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga795ada" class="outline-3">
<h3 id="orga795ada"><span class="section-number-3">15.4</span> Javascript</h3>
<div class="outline-text-3" id="text-15-4">
<p>
Let's make some javascript settings!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> js-indent-level 2)
</pre>
</div>

<p>
Additional setup from <a href="https://emacs.cafe/emacs/javascript/setup/2017/04/23/emacs-setup-javascript.html">https://emacs.cafe/emacs/javascript/setup/2017/04/23/emacs-setup-javascript.html</a>
</p>
</div>

<div id="outline-container-org5517673" class="outline-4">
<h4 id="org5517673"><span class="section-number-4">15.4.1</span> JS2</h4>
<div class="outline-text-4" id="text-15-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">js2-mode</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.js\\'"</span>
  <span style="color: #8959a8;">:init</span>
  (add-hook 'js2-mode-hook #'js2-imenu-extras-mode)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> js2-basic-offset 2))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">js2-refactor</span>
  <span style="color: #8959a8;">:after</span> js2-mode
  <span style="color: #8959a8;">:functions</span> (js2r-add-keybindings-with-prefix)
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> js2-mode-map
              (<span style="color: #3e999f;">"C-k"</span> . js2r-kill))
  <span style="color: #8959a8;">:config</span>
  (js2r-add-keybindings-with-prefix <span style="color: #3e999f;">"C-c C-r"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">xref-js2</span>
  <span style="color: #8959a8;">:after</span> js2-mode
  <span style="color: #8959a8;">:config</span>
  (add-hook 'js2-mode-hook
            (<span style="color: #718c00;">lambda</span> ()
              (add-hook 'xref-backend-functions #'xref-js2-xref-backend nil t))))
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org42c53fb"></a>React Style JSX<br />
<div class="outline-text-5" id="text-15-4-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rjsx-mode</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"(components|src\\/pages)\\/.*\\.js\\'"</span>)
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgb268f10" class="outline-4">
<h4 id="orgb268f10"><span class="section-number-4">15.4.2</span> Company tern</h4>
<div class="outline-text-4" id="text-15-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">company-tern</span>
  <span style="color: #8959a8;">:after</span> js2-mode
  <span style="color: #8959a8;">:config</span>
  (add-to-list 'company-backends 'company-tern)
  (add-to-list 'tern-command <span style="color: #3e999f;">"--no-port-file"</span> 'append)
  (add-hook 'js2-mode-hook (<span style="color: #718c00;">lambda</span> ()
                             (tern-mode)
                             (company-mode))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org51704c4" class="outline-3">
<h3 id="org51704c4"><span class="section-number-3">15.5</span> Rust</h3>
<div class="outline-text-3" id="text-15-5">
<p>
These initial settings are copied from the <a href="https://github.com/syl20bnr/spacemacs/blob/master/layers/%2Blang/rust/packages.el">spacemacs rust layer</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">cargo</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.rs"</span>
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">bind-keys</span> <span style="color: #8959a8;">:prefix-map</span> cargo-mode-map
             <span style="color: #8959a8;">:prefix</span> <span style="color: #3e999f;">"C-c c"</span>
             (<span style="color: #3e999f;">"C"</span> . cargo-process-repeat)
             (<span style="color: #3e999f;">"."</span> . cargo-process-repeat)
             (<span style="color: #3e999f;">"X"</span> . cargo-run-example)
             (<span style="color: #3e999f;">"c"</span> . cargo-process-build)
             (<span style="color: #3e999f;">"d"</span> . cargo-process-doc)
             (<span style="color: #3e999f;">"e"</span> . cargo-process-bench)
             (<span style="color: #3e999f;">"R"</span> . cargo-process-current-test)
             (<span style="color: #3e999f;">"f"</span> . cargo-process-fmt)
             (<span style="color: #3e999f;">"i"</span> . cargo-process-init)
             (<span style="color: #3e999f;">"n"</span> . cargo-process-new)
             (<span style="color: #3e999f;">"o"</span> . cargo-process-current-file-tests)
             (<span style="color: #3e999f;">"s"</span> . cargo-process-search)
             (<span style="color: #3e999f;">"u"</span> . cargo-process-update)
             (<span style="color: #3e999f;">"x"</span> . cargo-process-run)
             (<span style="color: #3e999f;">"t"</span> . cargo-process-test)
             (<span style="color: #3e999f;">"R"</span> . cargo-process-test-regexp)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">racer</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.rs"</span>
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq</span> racer-rust-src-path <span style="color: #3e999f;">"/Users/bnbeckwith/.rustup/toolchains/stable-x86_64-apple-darwin"</span>))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">flycheck-rust</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.rs"</span>
  <span style="color: #8959a8;">:init</span>
  (add-hook 'flycheck-mode-hook #'flycheck-rust-setup))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ggtags</span>
  <span style="color: #8959a8;">:defer</span>)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">html-gtags</span>
  <span style="color: #8959a8;">:defer</span>)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">racer-mode</span>
  <span style="color: #8959a8;">:ensure</span> racer
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:init</span>
  (add-hook 'racer-mode-hook #'eldoc-mode)
  (add-hook 'racer-mode-hook #'company-mode))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">company-racer</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">with-eval-after-load</span> 'company
    (add-to-list 'company-backends 'company-racer)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rustic</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (cargo-minor-mode)
  <span style="color: #8959a8;">:mode</span> (<span style="color: #3e999f;">"\\.rs"</span> . rustic-mode)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">bind-keys</span> <span style="color: #8959a8;">:map</span> rustic-mode-map
             (<span style="color: #3e999f;">"C-c TAB"</span> . rustic-format-buffer)
             (<span style="color: #3e999f;">"TAB"</span> . company-indent-or-complete-common))
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq</span> company-tooltip-align-annotations t
        rustic-format-on-save nil)
  (add-hook 'rustic-mode-hook #'cargo-minor-mode)
  (add-hook 'rustic-mode-hook #'racer-mode)
  (add-hook 'rustic-mode-hook #'flycheck-mode)
  (add-hook 'rustic-mode-hook #'electric-pair-mode))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">toml-mode</span>
  <span style="color: #8959a8;">:quelpa</span> (toml-mode <span style="color: #8959a8;">:fetcher</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"dryman/toml-mode.el"</span>)
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.toml\\'"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org536b57a" class="outline-3">
<h3 id="org536b57a"><span class="section-number-3">15.6</span> Web Mode</h3>
<div class="outline-text-3" id="text-15-6">
<p>
For all of the webish-stuff, this mode works well. Let's enable it
on the right things.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">web-mode</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"H-b"</span> . browse-url-of-file)
  <span style="color: #8959a8;">:config</span>
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.[agj]sp\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.erb\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.hbs\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.mustache\\'"</span> . web-mode))
  (add-to-list 'auto-mode-alist '(<span style="color: #3e999f;">"\\.djhtml\\'"</span> . web-mode))
  (<span style="color: #718c00;">setq</span> web-mode-engines-alist
        '((<span style="color: #3e999f;">"handlebars"</span> . <span style="color: #3e999f;">"\\.hbs\\'"</span>)))
  (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/web-mode-hook</span> ()
    <span style="color: #8959a8;">"Setup indentation when loading `web-mode`."</span>
    (<span style="color: #718c00;">setq</span> web-mode-markup-indent-offset 2
          web-mode-css-indent-offset 2
          web-mode-code-indent-offset 2))
  (add-hook 'web-mode-hook 'bnb/web-mode-hook))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge68765a" class="outline-3">
<h3 id="orge68765a"><span class="section-number-3">15.7</span> HTML</h3>
<div class="outline-text-3" id="text-15-7">
</div>
<div id="outline-container-org9bd9767" class="outline-4">
<h4 id="org9bd9767"><span class="section-number-4">15.7.1</span> Impatient mode</h4>
<div class="outline-text-4" id="text-15-7-1">
<p>
In order to play nicely with HTML+, it needs to be added to the
filters of impatient mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">impatient-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.html\\'"</span>
  <span style="color: #8959a8;">:config</span>
  (add-to-list 'imp-default-user-filters '(mhtml-mode . nil)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0c4dd17" class="outline-4">
<h4 id="org0c4dd17"><span class="section-number-4">15.7.2</span> Emmet</h4>
<div class="outline-text-4" id="text-15-7-2">
<p>
<a href="https://github.com/smihica/emmet-mode">Emmet mode</a> allows for terse description of nested elements. There
is great documentation on the approach at <a href="http://emmet.io">emmet.io</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">emmet-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (emmet-mode)
  <span style="color: #8959a8;">:config</span>
  (add-hook 'web-mode-hook 'emmet-mode)
  (add-hook 'sgml-mode-hook 'emmet-mode)
  (add-hook 'css-mode-hook 'emmet-mode))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfc9c322" class="outline-3">
<h3 id="orgfc9c322"><span class="section-number-3">15.8</span> Plantuml</h3>
<div class="outline-text-3" id="text-15-8">
<p>
Not a <i>programming language</i>, but certainly a language.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">plantuml-mode</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd03988a" class="outline-3">
<h3 id="orgd03988a"><span class="section-number-3">15.9</span> Pollen</h3>
<div class="outline-text-3" id="text-15-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">pollen-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:mode</span> ((<span style="color: #3e999f;">"\\.pp$"</span> . pollen-mode)))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">company-pollen</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcc61fa7" class="outline-2">
<h2 id="orgcc61fa7"><span class="section-number-2">16</span> Ivy, Counsel and Swiper</h2>
<div class="outline-text-2" id="text-16">
<p>
Ivy is a completion framework somewhere between <code>ido</code> and <code>helm</code>. It
and <code>counsel</code> are in the <code>swiper</code> package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ivy</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 0.1
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#128600;"</span>
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c C-r"</span> . ivy-resume)
  (<span style="color: #3e999f;">"C-x B"</span> . ivy-switch-buffer-other-window)
  <span style="color: #8959a8;">:custom</span>
  (ivy-count-format <span style="color: #3e999f;">"(%d/%d) "</span>)
  (ivy-use-virtual-buffers t)
  (ivy-display-style 'fancy)
  (ivy-re-builders-alist
   '((t . ivy--regex-fuzzy)))
  <span style="color: #8959a8;">:config</span>
  (ivy-mode))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">swiper</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:diminish</span>
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-s"</span> . swiper)
  (<span style="color: #3e999f;">"C-c S"</span> . swiper)
  (<span style="color: #3e999f;">"C-x C-r"</span> . counsel-recentf)
  (<span style="color: #3e999f;">"s-E"</span> . counsel-colors-emacs)
  (<span style="color: #3e999f;">"s-W"</span> . counsel-colors-web)
  <span style="color: #8959a8;">:custom</span>
  (colir-compose-method 'colir-compose-soft-light))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">counsel</span>
  <span style="color: #8959a8;">:after</span> ivy
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#120200;"</span>
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"M-x"</span>     . counsel-M-x)
  (<span style="color: #3e999f;">"H-y"</span>     . counsel-yank-pop)
  (<span style="color: #3e999f;">"C-x C-f"</span> . counsel-find-file)
  (<span style="color: #3e999f;">"C-c a"</span>   . counsel-rg)
  (<span style="color: #3e999f;">"H-h f"</span>  . counsel-describe-function)
  (<span style="color: #3e999f;">"H-h v"</span>  . counsel-describe-variable)
  (<span style="color: #3e999f;">"H-h l"</span>  . counsel-find-library)
  (<span style="color: #3e999f;">"H-h i"</span>  . counsel-info-lookup-symbol)
  (<span style="color: #3e999f;">"H-u"</span>    . counsel-unicode-char)
  <span style="color: #8959a8;">:custom</span>
  (counsel-find-file-at-point t)
  (enable-recursive-minibuffers t)
  <span style="color: #8959a8;">:config</span>
  (counsel-mode))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ivy-rich</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> ivy
  <span style="color: #8959a8;">:delight</span>
  <span style="color: #8959a8;">:custom</span>
  (ivy-virtual-abbreviate 'full)
  (ivy-rich-switch-buffer-align-virtual-buffer t)
  <span style="color: #8959a8;">:config</span>
  (ivy-rich-mode 1))

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ivy-hydra</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> ivy)
</pre>
</div>

<p>
The bindings introduced are replacements for built-in
commands. <code>counsel-M-x</code> becomes my default <code>M-x</code> binding with <code>smex</code>
ordering the results smartly.  I also enable it to try to find the
file at point if applicable.
</p>

<p>
The searching functionality of <code>C-x</code> advances with <code>swiper</code> showing
search with context, navigation and matching portions.
</p>

<p>
The remaining settings and binding relate to <code>ivy</code> itself.  This
library does the actual listing of completion items. I bind the
<code>ivy-recentf</code> interface to find recently used files.
</p>

<p>
For <code>ivy</code>'s look and feel, I make a few settings.  First, the
display style is set to <i>fancy</i>.  This shows the matching portions
of the candidates.  I also alter <code>colir-compose-method</code> to a better
colorizing scheme for my preferred themes. Next, I instruct <code>ivy</code> to
use virtual buffers (recentf, bookmarks) when switching buffers.
Finally, I enable fuzzy matching of the input.
</p>
</div>

<div id="outline-container-org96efd04" class="outline-3">
<h3 id="org96efd04"><span class="section-number-3">16.1</span> Smex</h3>
<div class="outline-text-3" id="text-16-1">
<p>
Counsel can use <code>smex</code> under the hood for <i>recent-item</i>
sorting. This give a better LRU functionality to command
selection.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org8eb4734">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">smex</span>
  <span style="color: #8959a8;">:delight</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span> (smex-initialize))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgac910ec" class="outline-3">
<h3 id="orgac910ec"><span class="section-number-3">16.2</span> Ivy View</h3>
<div class="outline-text-3" id="text-16-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ivy-view</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"H-["</span> . ivy-push-view)
  (<span style="color: #3e999f;">"H-]"</span> . ivy-pop-view)
  (<span style="color: #3e999f;">"H-b"</span> . ivy-switch-buffer)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> ivy-use-virtual-buffers t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgceeede4" class="outline-3">
<h3 id="orgceeede4"><span class="section-number-3">16.3</span> Ivy Icons</h3>
<div class="outline-text-3" id="text-16-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">all-the-icons-ivy</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> ivy-mode)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">all-the-icons-ivy-rich</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> ivy-rich
  <span style="color: #8959a8;">:init</span> (all-the-icons-ivy-rich-mode 1))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3bfd66d" class="outline-2">
<h2 id="org3bfd66d"><span class="section-number-2">17</span> Shells</h2>
<div class="outline-text-2" id="text-17">
<p>
There are two useful shells in emacs: <code>eshell</code> and
<code>ansi-term</code>.
</p>
</div>

<div id="outline-container-orgc1d8208" class="outline-3">
<h3 id="orgc1d8208"><span class="section-number-3">17.1</span> Ansi Term</h3>
<div class="outline-text-3" id="text-17-1">
<p>
Some of the following settings were stolen from <a href="https://ogbe.net/emacsconfig.html">https://ogbe.net/emacsconfig.html</a>.
</p>

<p>
These settings close <code>ansi-term</code> when I exit the shell. They also
default to just launching <code>zsh</code> instead of asking me
(preferred). Then it closes by setting up a hook to ensure some
nice functionality in the terminal mode window.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defadvice</span> <span style="color: #f5871f;">term-sentinel</span> (around bnb/advise-term-sentinel (proc msg))
  (<span style="color: #718c00;">if</span> (memq (process-status proc) '(<span style="color: #c82829; font-weight: bold;">signal</span> exit))
      (<span style="color: #718c00;">let</span> ((buffer (process-buffer proc)))
        ad-do-it
        (kill-buffer buffer))
    ad-do-it))
(ad-activate 'term-sentinel)

(<span style="color: #718c00;">defadvice</span> <span style="color: #f5871f;">ansi-term</span> (before force-zsh)
  (<span style="color: #718c00;">interactive</span> (list <span style="color: #3e999f;">"/bin/zsh"</span>)))
(ad-activate 'ansi-term)

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/term-mode-hook</span> ()
  <span style="color: #8959a8;">"Setup `term-mode`."</span>
  (goto-address-mode)
  (<span style="color: #718c00;">setq-local</span> term-buffer-maximum-size 10000))

(add-hook 'term-mode-hook 'bnb/term-mode-hook)

(<span style="color: #718c00;">defalias</span> '<span style="color: #f5871f;">zsh</span> 'ansi-term)

(<span style="color: #718c00;">setq</span> ansi-term-color-vector
      [term term-color-black term-color-red term-color-green term-color-yellow term-color-blue term-color-magenta term-color-cyan term-color-white]
      ansi-color-faces-vector
      [default bold shadow italic underline bold bold-italic bold])
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb72191a" class="outline-3">
<h3 id="orgb72191a"><span class="section-number-3">17.2</span> Eshell</h3>
<div class="outline-text-3" id="text-17-2">
<p>
Built-in Eshell can provide a shell that works the same on windows or
GNU/Linux. One of the really cool features is that you can define
commands to use (like aliases) within the shell and have them
directly integrate with emacs.
</p>
</div>

<div id="outline-container-orgd6c8a6d" class="outline-4">
<h4 id="orgd6c8a6d"><span class="section-number-4">17.2.1</span> Eshell Settings</h4>
<div class="outline-text-4" id="text-17-2-1">
<p>
Turn off any <code>$PAGER</code> settings inherited in the
environment. Because this is running in Emacs, there is no need
for a pager.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setenv <span style="color: #3e999f;">"PAGER"</span> <span style="color: #3e999f;">"cat"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4a477d8" class="outline-4">
<h4 id="org4a477d8"><span class="section-number-4">17.2.2</span> Eshell Commands</h4>
<div class="outline-text-4" id="text-17-2-2">
<p>
Fast fingers are used to typing <code>emacs</code> at a prompt to open a
file.  This gives the same behavior in <code>eshell</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/emacs</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  <span style="color: #8959a8;">"Open a file in emacs the natural way"</span>
  (<span style="color: #718c00;">if</span> (null args)
      <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">If emacs is called by itself, then just go to emacs directly</span>
      (bury-buffer)
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">If opening multiple files with a directory name, e.g.</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&gt; emacs bar/bar.txt foo.txt</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">then the names must be expanded to complete file paths.</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Otherwise, find-file will look in the current directory which</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">would fail for 'foo.txt' in the example above.</span>
    (mapc #'find-file (mapcar #'expand-file-name (eshell-flatten-list (reverse args))))))
</pre>
</div>

<p>
One can also keep the shell active and open files in the other
window.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/emo</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  (mapc
   (<span style="color: #718c00;">lambda</span> (f)
     (<span style="color: #718c00;">save-selected-window</span>
       (find-file-other-window f)))
   (mapcar #'expand-file-name (eshell-flatten-list (reverse args)))))
</pre>
</div>

<p>
I also setup some command aliases. Here, I create a long listing,
<code>ll</code>, alias for <code>ls</code>, a <code>llc</code> varient with colored output, and an
emacs shortcut.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">with-eval-after-load</span> <span style="color: #3e999f;">"em-alias"</span>
  '(<span style="color: #718c00;">progn</span>
     (eshell/alias <span style="color: #3e999f;">"em"</span> <span style="color: #3e999f;">"emacs"</span>)
     (eshell/alias <span style="color: #3e999f;">"ll"</span> <span style="color: #3e999f;">"ls -Aloh"</span>)
     (eshell/alias <span style="color: #3e999f;">"llc"</span> <span style="color: #3e999f;">"*ls -AlohG --color=always"</span>)))
</pre>
</div>

<p>
On a windows box, setup grep to be a cygwin version.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">when</span> (eq system-type 'windows-nt)
  (<span style="color: #718c00;">with-eval-after-load</span> <span style="color: #3e999f;">"eshell"</span>
    (<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/grep</span> (<span style="color: #4271ae;">&amp;rest</span> args)
      (eshell-grep <span style="color: #3e999f;">"c:/cygwin/bin/grep.exe"</span> args t))))
</pre>
</div>


<p>
For Magit, there are some niceties to add.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gst</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  (magit-status-internal (<span style="color: #718c00;">pop</span> args) nil)
  (eshell/echo))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gd</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  (magit-diff-unstaged)
  (eshell/echo))

(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gds</span> (<span style="color: #4271ae;">&amp;rest</span> args)
  (magit-diff-staged)
  (eshell/echo))
</pre>
</div>
</div>
</div>


<div id="outline-container-orgc7652fd" class="outline-4">
<h4 id="orgc7652fd"><span class="section-number-4">17.2.3</span> Plan 9 Smart Shells</h4>
<div class="outline-text-4" id="text-17-2-3">
<p>
See <a href="http://www.masteringemacs.org/article/complete-guide-mastering-eshell">the complete guide to mastering Eshell</a> for more on this.
Basically, the cursor stays on the command for editing if
necessary.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">eshell</span>)
(<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">em-smart</span>)

(<span style="color: #718c00;">setq</span> eshell-where-to-jump 'begin)
(<span style="color: #718c00;">setq</span> eshell-review-quick-commands nil)
(<span style="color: #718c00;">setq</span> eshell-smart-space-goes-to-end t)
(add-hook  'eshell-mode-hook 'eshell-smart-initialize)
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc24c24c" class="outline-2">
<h2 id="orgc24c24c"><span class="section-number-2">18</span> AucTeX</h2>
<div class="outline-text-2" id="text-18">
<p>
<a href="AUCTeX.html#Top">AUCTeX Manual</a>
</p>

<p>
Superb handling of TeX documents.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">tex-site</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:ensure</span> auctex
  <span style="color: #8959a8;">:config</span>
  (add-hook 'LaTeX-mode-hook 'flyspell-mode)
  (add-hook 'LaTeX-mode-hook 'LaTeX-math-mode)
  (add-hook 'LaTeX-mode-hook 'auto-fill-mode)
  (add-hook 'LaTeX-mode-hook 'orgtbl-mode)
  (<span style="color: #718c00;">setq</span> TeX-auto-untabify t
        TeX-auto-save t
        TeX-save-query nil
        TeX-parse-self t
        TeX-output-view-style
        (<span style="color: #718c00;">if</span> (eq system-type 'windows-nt)
            (<span style="color: #718c00;">quote</span>
             ((<span style="color: #3e999f;">"^pdf$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"SumatraPDF.exe -reuse-instance %o"</span>)
              (<span style="color: #3e999f;">"^html?$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"start %o"</span>)))
          (<span style="color: #718c00;">quote</span>
           ((<span style="color: #3e999f;">"^pdf$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"evince -f %o"</span>)
            (<span style="color: #3e999f;">"^html?$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"start %o"</span>))))
        TeX-command-extra-options <span style="color: #3e999f;">"-shell-escape"</span>
        TeX-PDF-mode 1
        TeX-engine 'xetex)
  (<span style="color: #718c00;">setq-default</span> TeX-master nil)
  (add-to-list 'org-latex-packages-alist
               '(<span style="color: #3e999f;">""</span> <span style="color: #3e999f;">"tikz"</span> t))
  (add-to-list 'org-latex-packages-alist
               '(<span style="color: #3e999f;">""</span> <span style="color: #3e999f;">"minted"</span> t))
  (<span style="color: #718c00;">setq</span> org-latex-create-formula-image-program 'imagemagick)
  (eval-after-load <span style="color: #3e999f;">"preview"</span>
    '(add-to-list 'preview-default-preamble <span style="color: #3e999f;">"\\PreviewEnvironment{tikzpicture}"</span> t))
  (add-hook 'doc-view-mode-hook 'auto-revert-mode))
</pre>
</div>
</div>

<div id="outline-container-orgac721dd" class="outline-3">
<h3 id="orgac721dd"><span class="section-number-3">18.1</span> RefTeX</h3>
<div class="outline-text-3" id="text-18-1">
<p>
<a href="RefTeX.html#Top">RefTeX Manual</a>
</p>

<p>
RefTeX provides navigation, easy references, easy citations and
integrates well into AUCTeX.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'LaTeX-mode-hook 'turn-on-reftex)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keystroke</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c =</td>
<td class="org-left">Show TOC and jump to sections</td>
</tr>

<tr>
<td class="org-left">C-c (</td>
<td class="org-left">Insert a label</td>
</tr>

<tr>
<td class="org-left">C-c )</td>
<td class="org-left">Reference a label</td>
</tr>

<tr>
<td class="org-left">C-c [</td>
<td class="org-left">Insert a citation (from BibTex db)</td>
</tr>

<tr>
<td class="org-left">C-c &lt;</td>
<td class="org-left">Index entry</td>
</tr>

<tr>
<td class="org-left">C-c &gt;</td>
<td class="org-left">View index</td>
</tr>

<tr>
<td class="org-left">C-c &amp;</td>
<td class="org-left">View crossref</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org54ac3e5" class="outline-3">
<h3 id="org54ac3e5"><span class="section-number-3">18.2</span> TeX Settings</h3>
<div class="outline-text-3" id="text-18-2">
<p>
Here are some nice features to have enabled.  Parse-self and
auto-save will parse the file on load and save
respectively. Untabify will remove tabs (real ones) before saving.
</p>

<p>
I also have a default of <code>TeX-master</code> set to <code>nil</code>. I used to have
it set to "master" as recommended in the documentation, but I had
bad results for LaTeX files generated on the fly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>

<p>
For viewing the output, I can specify the command to use on the
files generated in the process. However, the programs differ on
GNU/Linux and Windows, so I have differing settings below.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf4028ee" class="outline-3">
<h3 id="orgf4028ee"><span class="section-number-3">18.3</span> XeTeX settings</h3>
<div class="outline-text-3" id="text-18-3">
<p>
To get more beautiful fonts, I use the XeTeX processor. I also
use this in PDF mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</div>

<div id="outline-container-org1cf976e" class="outline-3">
<h3 id="org1cf976e"><span class="section-number-3">18.4</span> DocView</h3>
<div class="outline-text-3" id="text-18-4">
<p>
Have <code>docview</code> automatically revert the buffer.
</p>
</div>
</div>
</div>

<div id="outline-container-org90cd72e" class="outline-2">
<h2 id="org90cd72e"><span class="section-number-2">19</span> Markdown</h2>
<div class="outline-text-2" id="text-19">
<p>
Everything can't be as nice as org-mode. Oh well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">markdown-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> (markdown-mode gfm-mode)
  <span style="color: #8959a8;">:mode</span> ((<span style="color: #3e999f;">"README\\.md\\'"</span> . gfm-mode)
         (<span style="color: #3e999f;">"\\.md\\'"</span> . markdown-mode)
         (<span style="color: #3e999f;">"\\.markdown\\'"</span> . markdown-mode))
  <span style="color: #8959a8;">:init</span> (<span style="color: #718c00;">setq</span> markdown-command <span style="color: #3e999f;">"multimarkdown"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org60f9fac" class="outline-2">
<h2 id="org60f9fac"><span class="section-number-2">20</span> Orgmode</h2>
<div class="outline-text-2" id="text-20">
<p>
The one feature I cannot do without. Let's set up some basics.
</p>
</div>

<div id="outline-container-org0d07694" class="outline-3">
<h3 id="org0d07694"><span class="section-number-3">20.1</span> Orgmode Initialization</h3>
<div class="outline-text-3" id="text-20-1">
<p>
Here are the initial settings that will invoke org-mode or need to
be set when it is loaded.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-mode</span>
  <span style="color: #8959a8;">:ensure</span> org-plus-contrib
  <span style="color: #8959a8;">:delight</span> (org-mode <span style="color: #3e999f;">"&#129412;"</span> <span style="color: #8959a8;">:major</span>)
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.org</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">.gpg|_archive</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">?$"</span>
  <span style="color: #8959a8;">:bind</span>
  (<span style="color: #3e999f;">"C-c t"</span>  . orgtbl-mode)
  (<span style="color: #3e999f;">"C-c l"</span>  . org-store-link)
  (<span style="color: #3e999f;">"C-c r"</span>  . org-capture)
  (<span style="color: #3e999f;">"C-c b"</span>  . org-iswitchb)
  (<span style="color: #3e999f;">"&lt;f12&gt;"</span>  . org-agenda)
  (<span style="color: #3e999f;">"H-z"</span>    . org-agenda)
  (<span style="color: #3e999f;">"H-g"</span>    . org-mac-grab-link)
  (<span style="color: #3e999f;">"&lt;apps&gt;"</span> . org-agenda)
  (<span style="color: #3e999f;">"&lt;f9&gt; v"</span> . visible-mode)
  (<span style="color: #3e999f;">"&lt;f9&gt; g"</span> . org-clock-goto)
  (<span style="color: #3e999f;">"&lt;f9&gt; i"</span> . org-clock-in)
  (<span style="color: #3e999f;">"&lt;f9&gt; o"</span> . org-clock-out)
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-i"</span> 'org-toggle-inline-images org-mode-map)
  (add-hook 'org-babel-after-execute-hook
            (<span style="color: #718c00;">lambda</span> () (org-display-inline-images t t))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga5b4a32" class="outline-3">
<h3 id="orga5b4a32"><span class="section-number-3">20.2</span> Auto mode</h3>
<div class="outline-text-3" id="text-20-2">
<p>
I add gpg and _archive to the list of known org files. These two
alternative extensions are for either encrypted org files
(<code>.org.gpg</code>) or for archives (<code>.org_archive</code>).
</p>

<p>
This mode is set above with <code>use-package</code>.
</p>
</div>
</div>

<div id="outline-container-org0ab0114" class="outline-3">
<h3 id="org0ab0114"><span class="section-number-3">20.3</span> Hooks</h3>
<div class="outline-text-3" id="text-20-3">
<p>
There are three hooks to consider. These are initialized in <a href="#org0d07694">20.1</a>. First, I add in a keystroke to toggle the inline
images.
</p>

<p>
The next hook just saves the org files opened before exiting
emacs &#x2013; just in case.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'bnb/kill-emacs-hooks 'org-save-all-org-buffers 'append)
</pre>
</div>

<p>
The final hook shows images automatically. When I execute <code>babel</code>
to get graphs from my work logs, I hate having to toggle the inline
images on/off again.  Here is a hook from Rick Frankel to save the
day.
</p>
</div>
</div>

<div id="outline-container-org2e7564a" class="outline-3">
<h3 id="org2e7564a"><span class="section-number-3">20.4</span> Keys</h3>
<div class="outline-text-3" id="text-20-4">
</div>
<div id="outline-container-org6358125" class="outline-4">
<h4 id="org6358125"><span class="section-number-4">20.4.1</span> Global</h4>
<div class="outline-text-4" id="text-20-4-1">
<p>
Some org-mode features are so useful that I need to have them be
available globally.
</p>

<ul class="org-ul">
<li>orgtbl-mode
Use orgtbl in other modes</li>
<li>org-store-link
Store a link (context-aware) to the current location</li>
<li>org-agenda
Launch the agenda</li>
<li>org-capture
Capture a task/note</li>
<li>org-iswitchb
Switch org buffers</li>
<li>visible-mode
Show the file as-is (no special org handling)</li>
<li>org-clock-in/org-clock-out
Clock in/out of current subtree</li>
</ul>
</div>
</div>

<div id="outline-container-org8f72474" class="outline-4">
<h4 id="org8f72474"><span class="section-number-4">20.4.2</span> Speed</h4>
<div class="outline-text-4" id="text-20-4-2">
<p>
Using org-mode efficiently for task management is best done with
speed keys. This are in effect when the cursor is on the first <code>*</code>
of a headline. And they come with an easy cheat-sheet by typing
<code>?</code>. I enable this feature and add some of my own commands.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-use-speed-commands t
      org-speed-commands-user
      (<span style="color: #718c00;">quote</span> ((<span style="color: #3e999f;">"0"</span> . delete-window)
              (<span style="color: #3e999f;">"1"</span> . delete-other-windows)
              (<span style="color: #3e999f;">"2"</span> . split-window-vertically)
              (<span style="color: #3e999f;">"3"</span> . split-window-horizontally)
              (<span style="color: #3e999f;">"h"</span> . hide-other)
              (<span style="color: #3e999f;">"s"</span> . org-save-all-org-buffers)
              (<span style="color: #3e999f;">"z"</span> . org-add-note)
              (<span style="color: #3e999f;">"N"</span> . org-narrow-to-subtree)
              (<span style="color: #3e999f;">"W"</span> . widen)
              (<span style="color: #3e999f;">"m"</span> . org-mark-subtree)
              (<span style="color: #3e999f;">"C"</span> . org-global-cycle))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdc6e4cc" class="outline-3">
<h3 id="orgdc6e4cc"><span class="section-number-3">20.5</span> Org TODO Configuration</h3>
<div class="outline-text-3" id="text-20-5">
<p>
This is the meat of what Org can do. Keeping track of todo items
with due dates, tags, etc. is really powerful. And I get to
customize it to suit my needs and my workflow.
</p>
</div>

<div id="outline-container-org47cb139" class="outline-4">
<h4 id="org47cb139"><span class="section-number-4">20.5.1</span> Keywords</h4>
<div class="outline-text-4" id="text-20-5-1">
<p>
The keywords that org uses in the headlines exist as sequences
describing the state changes. <a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#Workflow_002520states">The sequences</a> describe how you can
cycle through the different states. However, I don't cycle through
states and just select them. I find that is better for the large
list of possibilities here.
</p>

<p>
The characters in <code>()</code> also
allow fast access to these states described <a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#Fast_002520access_002520to_002520TODO_002520states">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-todo-keywords
      (<span style="color: #718c00;">quote</span> ((sequence <span style="color: #3e999f;">"TODO(t)"</span> <span style="color: #3e999f;">"NEXT(n)"</span> <span style="color: #3e999f;">"|"</span> <span style="color: #3e999f;">"DONE(d!/!)"</span>)
              (sequence <span style="color: #3e999f;">"WAITING(w@/!)"</span> <span style="color: #3e999f;">"SOMEDAY(s!)"</span> <span style="color: #3e999f;">"|"</span> <span style="color: #3e999f;">"CANCELED(c@/!)"</span>)
              (sequence <span style="color: #3e999f;">"CANCELED(c@/!)"</span>))))
</pre>
</div>

<p>
I used to set <a href="(describe-variable 'org-todo-keyword-faces)">org-todo-keyword-faces</a>, but now I rely on theme
settings.
</p>
</div>
</div>

<div id="outline-container-orgea47ed9" class="outline-4">
<h4 id="orgea47ed9"><span class="section-number-4">20.5.2</span> Tags</h4>
<div class="outline-text-4" id="text-20-5-2">
<p>
Org uses tags on headlines for organization. I don't currently
use them much. I organize mainly by file with a file tag
specified via <a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#In_002dbuffer_002520settings">in-buffer settings</a> (<code>#+FILETAGS</code>).
</p>

<p>
However, a global tag list provides a selection list for the
tagging interface. I use 'project' as my tag to easily
differentiate simple tasks from more complex ones.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-tag-alist '((<span style="color: #3e999f;">"PROJECT"</span> . ?p)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org770a7dd" class="outline-4">
<h4 id="org770a7dd"><span class="section-number-4">20.5.3</span> Mechanics</h4>
<div class="outline-text-4" id="text-20-5-3">
<p>
The todo interface allows easy selection of states and triggers
on certain states to store notes.
</p>

<p>
Instead of cycling through states (and possibly triggering log
entries), I prefer fast entry to jump right to the correct
state. I also turn off the S-cursor transitions as state
changes to avoid the logging prompts.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-use-fast-todo-selection t)
(<span style="color: #718c00;">setq</span> org-treat-S-cursor-todo-selection-as-state-change nil)
</pre>
</div>

<p>
Upon changing the state of todo items, I can automatically
add/remove tags with the following list. It's a bit lispy, but
describes what happens upon entry in the specified state. The
state named as a string has tuples of tags and flags. 't'
indicates to set the flag, empty means to remove it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-todo-state-tags-triggers
      (<span style="color: #718c00;">quote</span> ((<span style="color: #3e999f;">"CANCELED"</span>
               (<span style="color: #3e999f;">"CANCELED"</span> . t))
              (<span style="color: #3e999f;">"WAITING"</span>
               (<span style="color: #3e999f;">"WAITING"</span> . t))
              (<span style="color: #3e999f;">"SOMEDAY"</span>
               (<span style="color: #3e999f;">"SOMEDAY"</span> . t))
              (done
               (<span style="color: #3e999f;">"WAITING"</span>))
              (<span style="color: #3e999f;">"TODO"</span>
               (<span style="color: #3e999f;">"WAITING"</span>)
               (<span style="color: #3e999f;">"CANCELED"</span>))
              (<span style="color: #3e999f;">"NEXT"</span>
               (<span style="color: #3e999f;">"WAITING"</span>))
              (<span style="color: #3e999f;">"DONE"</span>
               (<span style="color: #3e999f;">"WAITING"</span>)
               (<span style="color: #3e999f;">"CANCELED"</span>)))))
</pre>
</div>

<p>
Along with tags and states are priorities. I do not use task
priorities myself so I turn them off.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-enable-priority-commands nil)
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org78b2041"></a>Logging<br />
<div class="outline-text-5" id="text-20-5-3-1">
<p>
Org allows logging of states. I turn this on to prompt myself
for reasons behind specific state changes. There is also a
setting to set a different drawer for clocking and logs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-log-done (<span style="color: #718c00;">quote</span> note)
      org-log-redeadline (<span style="color: #718c00;">quote</span> time)
      org-log-reschedule (<span style="color: #718c00;">quote</span> time)
      org-log-into-drawer t
      org-drawers '(<span style="color: #3e999f;">"PROPERTIES"</span> <span style="color: #3e999f;">"LOGBOOK"</span> <span style="color: #3e999f;">"CLOCK"</span>))
</pre>
</div>
</div>
</li>

<li><a id="org31cea71"></a>Sub-tasks<br />
<div class="outline-text-5" id="text-20-5-3-2">
<p>
Naturally, some tasks are projects composed of smaller
sub-tasks. Org allows for this as well. I like to enforce the
dependencies of regular todo items and plain checkbox
lists. In this way, the overall item cannot change to done
without the completion of the sub-tasks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-enforce-todo-checkbox-dependencies t
      org-enforce-todo-dependencies t)
</pre>
</div>

<p>
Because of the previous enforcement of state, I can also
automatically infer when a parent state is complete. The
following code marks the parent complete once the sub-tasks
are all done.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">org-summary-todo</span> (n-done n-not-done)
  <span style="color: #8959a8;">"Switch entry to DONE when all sub-entries are done, to TODO otherwise."</span>
  (<span style="color: #718c00;">let</span> (org-log-done org-log-states)
    (org-todo (<span style="color: #718c00;">if</span> (= n-not-done 0) <span style="color: #3e999f;">"DONE"</span> <span style="color: #3e999f;">"TODO"</span>))))
(add-hook 'org-after-todo-statistics-hook 'org-summary-todo)
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org4840c28" class="outline-3">
<h3 id="org4840c28"><span class="section-number-3">20.6</span> Capture</h3>
<div class="outline-text-3" id="text-20-6">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#Capture">Capturing</a> is crucial to a task system and in this vein, org is no
slouch. The capture templates define what get captures, where it
goes, and what the user needs to type.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-capture-templates
      '((<span style="color: #3e999f;">"t"</span> <span style="color: #3e999f;">"Todo"</span> entry
         (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* TODO %?\n  %U\n%^{Score}p"</span> <span style="color: #8959a8;">:clock-in</span> t <span style="color: #8959a8;">:clock-resume</span> t)
        (<span style="color: #3e999f;">"r"</span> <span style="color: #3e999f;">"todo (Remember location)"</span> entry
         (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* TODO %?\n  %U\n  %a"</span> <span style="color: #8959a8;">:clock-in</span> t <span style="color: #8959a8;">:clock-resume</span> t)
        (<span style="color: #3e999f;">"n"</span> <span style="color: #3e999f;">"Note"</span> entry
         (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* %?                                                                            :NOTE:\n  %U\n  %a\n  :CLOCK:\n  :END:"</span>)
        (<span style="color: #3e999f;">"c"</span> <span style="color: #3e999f;">"Capture current TODO mix in table"</span> table-line (file+headline <span style="color: #3e999f;">"~/Documents/Org/WeeklyReports.org"</span> <span style="color: #3e999f;">"Burndown"</span>)
         <span style="color: #3e999f;">"%(bnb/org-count-tasks-by-status)"</span>)
        (<span style="color: #3e999f;">"s"</span> <span style="color: #3e999f;">"Capture Weekly Score in table"</span> table-line (file+headline <span style="color: #3e999f;">"~/Documents/Org/WeeklyReports.org"</span> <span style="color: #3e999f;">"Scores"</span>)
         <span style="color: #3e999f;">"%(bnb/add-weekly-score-table-entry)"</span>)
        (<span style="color: #3e999f;">"e"</span> <span style="color: #3e999f;">"Capture Weekly time in table"</span> table-line (file+headline <span style="color: #3e999f;">"~/Documents/Org/WeeklyReports.org"</span> <span style="color: #3e999f;">"Minutes"</span>)
         <span style="color: #3e999f;">"%(bnb/org-time-logged-table-entry)"</span>)
        (<span style="color: #3e999f;">"u"</span> <span style="color: #3e999f;">"Url"</span> entry (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* TODO %?\n  %U\n\n  %(org-mac-chrome-get-frontmost-url)"</span>)
        (<span style="color: #3e999f;">"m"</span> <span style="color: #3e999f;">"Mail"</span> entry (file <span style="color: #3e999f;">"~/Documents/Org/Refile.org"</span>)
         <span style="color: #3e999f;">"* TODO %?\n  %U\n\n  %(org-mac-message-get-links \"s\")"</span>)))
</pre>
</div>

<p>
There are five main capture templates here. The first two store a
todo item in my Refile.org file. The only difference is automatic
(contextual) link storage in the second case.
</p>

<p>
The next item simply stores a note. The next for "Weekly Report"
is a work in progress. I think that I'll have to either settle
for a proper datetree or write a custom function.
</p>

<p>
The final item is not for direct use, but through the
<code>org-protocol</code> interface and <code>org-outlook</code> usage. This lets me
add a link to an Outlook message on windows. I can then get an
email at work, mark it to store in emacs and quickly get back to
the message later.
</p>
</div>

<div id="outline-container-org4f2dc4c" class="outline-4">
<h4 id="org4f2dc4c"><span class="section-number-4">20.6.1</span> Capture-template helpers for data tables</h4>
<div class="outline-text-4" id="text-20-6-1">
<p>
These helpers provide functionality used in the capture templates
above.
</p>

<p>
Modified from <a href="http://sachachua.com/blog/2014/05/getting-r-ggplot2-work-emacs-org-mode-babel-blocks-also-tracking-number-todos/">Sacha Chua</a>, this code get the current mix of tasks
in the agenda files. I use this as part of my weekly review for
task amount and mix at a glance.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-count-tasks-by-status</span> ()
  <span style="color: #8959a8;">"Create a table entry for the tracking of task mix."</span>
  (<span style="color: #718c00;">interactive</span>)
  (<span style="color: #718c00;">let</span> ((counts (make-hash-table <span style="color: #8959a8;">:test</span> 'equal))
        (today (format-time-string <span style="color: #3e999f;">"%Y-%m-%d"</span> (current-time)))
        values output)
    (org-map-entries
     (<span style="color: #718c00;">lambda</span> ()
       (<span style="color: #718c00;">let</span> ((status (elt (org-heading-components) 2)))
         (<span style="color: #718c00;">when</span> status
           (puthash status (1+ (<span style="color: #718c00;">or</span> (gethash status counts) 0)) counts))))
     <span style="color: #3e999f;">"-HOME"</span>
     'agenda)
    (<span style="color: #718c00;">setq</span> values (mapcar (<span style="color: #718c00;">lambda</span> (x)
                           (<span style="color: #718c00;">or</span> (gethash x counts) 0))
                         '(<span style="color: #3e999f;">"DONE"</span> <span style="color: #3e999f;">"TODO"</span> <span style="color: #3e999f;">"WAITING"</span> <span style="color: #3e999f;">"CANCELLED"</span> <span style="color: #3e999f;">"SOMEDAY"</span>)))
    (<span style="color: #718c00;">setq</span> output
          (concat <span style="color: #3e999f;">"| "</span> today <span style="color: #3e999f;">" | "</span>
                  (mapconcat 'number-to-string values <span style="color: #3e999f;">" | "</span>)
                  <span style="color: #3e999f;">" | "</span>
                  (number-to-string (apply '+ values))
                  <span style="color: #3e999f;">" | "</span>
                  (number-to-string
                   (round (/ (* 100.0 (car values)) (apply '+ values))))
                  <span style="color: #3e999f;">"% |"</span>))
    (<span style="color: #718c00;">if</span> (called-interactively-p 'any)
        (insert output)
      output)))
</pre>
</div>

<p>
I also have a helper function to get the score of done tasks
closed within the last week.  I store this in a table line with
year and workweek number.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/add-weekly-score-table-entry</span> ()
  <span style="color: #8959a8;">"Track my weekly scores in a table."</span>
  (<span style="color: #718c00;">let</span> ((score (apply
                '+
                (org-map-entries
                 (<span style="color: #718c00;">lambda</span> ()
                   (string-to-number (<span style="color: #718c00;">or</span> (org-entry-get (point) <span style="color: #3e999f;">"Score"</span>) <span style="color: #3e999f;">"0"</span>)))
                 <span style="color: #3e999f;">"/DONE"</span>
                 'agenda)))
        (year (format-time-string <span style="color: #3e999f;">"%Y"</span> (current-time)))
        (ww (number-to-string (bnb/workweek))))
    (format <span style="color: #3e999f;">"| %s | %s | %s |"</span> year ww score)))
</pre>
</div>


<p>
How about the hours logged last week? Let's give that a go.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-time-logged-table-entry</span> (<span style="color: #4271ae;">&amp;optional</span> additional-weeks)
  <span style="color: #8959a8;">"Insert table of minutes per category.</span>
<span style="color: #8959a8;">  Optionally provide ADDITIONAL-WEEKS to get more history"</span>
  (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span>)
  (<span style="color: #718c00;">unless</span> additional-weeks (<span style="color: #718c00;">setq</span> additional-weeks 0))
  (<span style="color: #718c00;">let*</span> ((minh (make-hash-table <span style="color: #8959a8;">:test</span> 'equal))
         (now (decode-time))
         (start (encode-time 0 0 0 (- (nth 3 now) (nth 6 now) (* 7 (<span style="color: #718c00;">or</span> additional-weeks 1))) (nth 4 now) (nth 5 now)))
         (today (format-time-string <span style="color: #3e999f;">"%Y-%m-%d"</span> (current-time))))
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Collect minutes clocked per category</span>
    (org-map-entries
     (<span style="color: #718c00;">lambda</span> ()
       (<span style="color: #718c00;">let</span> ((category (org-entry-get-with-inheritance <span style="color: #3e999f;">"CATEGORY"</span> t))
             (minutes (org-clock-sum-current-item start)))
         (puthash category (+ minutes
                              (<span style="color: #718c00;">or</span> (gethash category minh) 0)) <span style="color: #c82829; font-weight: bold;">minh)))</span>
     <span style="color: #3e999f;">"LEVEL=1"</span>
     'agenda)
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Print out table lines</span>
    (<span style="color: #718c00;">let</span> ((rows nil))
      (maphash
       (<span style="color: #718c00;">lambda</span> (k v)
         (<span style="color: #718c00;">when</span> (&gt; v 0)
           (<span style="color: #718c00;">setq</span> rows
                 (cons (format <span style="color: #3e999f;">"| %s | %s | %d |"</span> today k v) rows))))
       minh)
      (<span style="color: #718c00;">if</span> (called-interactively-p 'any)
          (insert (mapconcat 'identity rows <span style="color: #3e999f;">"\n"</span>))
        (mapconcat 'identity rows <span style="color: #3e999f;">"\n"</span>)))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgabe813a" class="outline-3">
<h3 id="orgabe813a"><span class="section-number-3">20.7</span> Refile</h3>
<div class="outline-text-3" id="text-20-7">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#Refiling_002520notes">Refiling notes</a> is also spectacular with Org. That is what makes
it possible for me to simply put every captured item into
Refile.org and worry about organization later.
</p>

<p>
For my setup, I use separate files that hold a singular Tasks
headline. Because of that, I turn on caching first.
</p>

<p>
For the refile targets, I will allow up to 2 levels of search for
filing in any of the agenda files. For refiling within the current
file, I set the max to five levels. Anything deeper than six
levels will exhaust the depth of my thought.
</p>

<p>
Finally, I set the filenames to be first for refiling.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-refile-use-cache t
      org-refile-targets '((org-agenda-files <span style="color: #8959a8;">:maxlevel</span> . 2)
                           (nil <span style="color: #8959a8;">:maxlevel</span> . 5))
      org-refile-use-outline-path 'file)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f48e80" class="outline-3">
<h3 id="org3f48e80"><span class="section-number-3">20.8</span> Agenda</h3>
<div class="outline-text-3" id="text-20-8">
<p>
Once I have captured and refiled my tasks, I need to remember to
do them and see what is on the agenda. The ways to view the tasks
at hand are nicely programmable.
</p>

<p>
Some basic settings control small tidbits in the agenda. I turn
on tags in the agenda line, show the logged items for the day,
and only show a time grid if a scheduled tasks exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-agenda-show-inherited-tags t
      org-agenda-log-mode-items '(clock)
      org-agenda-clockreport-parameter-plist '(<span style="color: #8959a8;">:link</span> nil <span style="color: #8959a8;">:maxlevel</span> 2 <span style="color: #8959a8;">:fileskip0</span> t)
      org-agenda-block-separator <span style="color: #3e999f;">"&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;&#9473;"</span>
      org-agenda-dim-blocked-tasks nil
      org-agenda-inhibit-startup t
      org-agenda-breadcrumbs-separator <span style="color: #3e999f;">" &#10097; "</span>)
</pre>
</div>
</div>

<div id="outline-container-orgf49e5c0" class="outline-4">
<h4 id="orgf49e5c0"><span class="section-number-4">20.8.1</span> Views</h4>
<div class="outline-text-4" id="text-20-8-1">
<p>
The key to knowing what work there is the agenda views. These
provide a landscape to list, filter or manipulate
tasks. <code>org-agenda-custom-commands</code> defines which views are
available by default.
</p>

<p>
First, I define a little helper function (from Sacha Chua) to
display a note with agenda.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-agenda-with-tip</span> (arg)
  <span style="color: #8959a8;">"Show agenda for ARG days."</span>
  (org-agenda-list arg)
  (<span style="color: #718c00;">let</span> ((inhibit-read-only t)
        (pos (point)))
    (goto-char (point-max))
    (goto-char pos)))
</pre>
</div>

<p>
WIP from: <a href="https://github.com/fniessen/emacs-leuven/blob/master/org-custom-agenda-views.el">https://github.com/fniessen/emacs-leuven/blob/master/org-custom-agenda-views.el</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Reset everything to nil</span>
(<span style="color: #718c00;">setq</span> org-agenda-custom-commands nil)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"o"</span> <span style="color: #3e999f;">"My Agenda"</span>
               ((todo <span style="color: #3e999f;">"TODO"</span> (
                              (org-agenda-overriding-header <span style="color: #3e999f;">"\n&#9889; Do Today:\n&#9146;&#9146;&#9146;&#9146;&#9146;&#9146;&#9146;&#9146;&#9146;"</span>)
                              (org-agenda-remove-tags t)
                              (org-agenda-prefix-format <span style="color: #3e999f;">" %-2i %-15b"</span>)
                              (org-agenda-todo-keyword-format <span style="color: #3e999f;">""</span>)
                              ))
                (agenda <span style="color: #3e999f;">""</span> (
                            (org-agenda-start-day <span style="color: #3e999f;">"+0d"</span>)
                            (org-agenda-span 5)
                            (org-agenda-overriding-header <span style="color: #3e999f;">"&#9889; Schedule:\n&#9146;&#9146;&#9146;&#9146;&#9146;&#9146;&#9146;&#9146;&#9146;"</span>)
                            (org-agenda-repeating-timestamp-show-all nil)
                            (org-agenda-remove-tags t)
                            (org-agenda-prefix-format   <span style="color: #3e999f;">"  %-3i  %-15b %t%s"</span>)
                            (org-agenda-todo-keyword-format <span style="color: #3e999f;">" &#9744; "</span>)
                            (org-agenda-current-time-string <span style="color: #3e999f;">"&#11164;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480; now"</span>)
                            (org-agenda-scheduled-leaders '(<span style="color: #3e999f;">""</span> <span style="color: #3e999f;">""</span>))
                            (org-agenda-time-grid (<span style="color: #718c00;">quote</span> ((daily today remove-match)
                                                          (0900 1200 1500 1800 2100)
                                                          <span style="color: #3e999f;">"      "</span> <span style="color: #3e999f;">"&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;"</span>)))
                            ))
                )))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"b"</span> <span style="color: #3e999f;">"Agenda"</span> bnb/org-agenda-with-tip))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"c"</span> . <span style="color: #3e999f;">"COLLECT..."</span>) t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"cb"</span> <span style="color: #3e999f;">"CollectBox"</span>
               ((alltodo <span style="color: #3e999f;">""</span>))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"f"</span> . <span style="color: #3e999f;">"FOCUS..."</span>) t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             `(<span style="color: #3e999f;">"f."</span> <span style="color: #3e999f;">"Today"</span>
               ((agenda <span style="color: #3e999f;">""</span>
                        ((org-agenda-entry-types '(<span style="color: #8959a8;">:timestamp</span> <span style="color: #8959a8;">:sexp</span>))
                         (org-agenda-overriding-header
                          (concat <span style="color: #3e999f;">"CALENDAR Today"</span>
                                  (format-time-string <span style="color: #3e999f;">"%a %d"</span> (current-time))))
                         (org-agenda-span 'day)))
                (tags-todo <span style="color: #3e999f;">"LEVEL=1+REFILE"</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"COLLECTBOX (Unscheduled)"</span>)))
                (tags-todo <span style="color: #3e999f;">"DEADLINE=\"&lt;+0d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE TODAY"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'notedeadline))
                            (org-agenda-sorting-strategy '(priority-down))))
                (tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'notedeadline))
                            (org-agenda-sorting-strategy '(priority-down))))
                (agenda <span style="color: #3e999f;">""</span>
                        ((org-agenda-entry-types '(<span style="color: #8959a8;">:scheduled</span>))
                         (org-agenda-overriding-header <span style="color: #3e999f;">"SCHEDULED"</span>)
                         (org-agenda-skip-function
                          '(org-agenda-skip-entry-if 'todo 'done))
                         (org-agenda-sorting-strategy
                          '(priority-down time-down))
                         (org-agenda-span 'day)
                         (org-agenda-start-on-weekday nil)
                         (org-agenda-time-grid nil)))
                (todo <span style="color: #3e999f;">"DONE"</span>
                      ((org-agenda-overriding-header <span style="color: #3e999f;">"COMPLETED"</span>))))
               ((org-agenda-format-date <span style="color: #3e999f;">""</span>)
                (org-agenda-start-with-clockreport-mode nil))) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"fh"</span> <span style="color: #3e999f;">"Hotlist"</span>
               ((tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span>)))
                (tags-todo <span style="color: #3e999f;">"DEADLINE&gt;=\"&lt;+0d&gt;\"+DEADLINE&lt;=\"&lt;+1w&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE IN NEXT 7 DAYS"</span>)))
                (tags-todo <span style="color: #3e999f;">"DEADLINE=\"\"+FLAGGED|DEADLINE&gt;\"&lt;+1w&gt;\"+FLAGGED"</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"FLAGGED"</span>))))
               ((org-agenda-todo-ignore-scheduled 'future)))  <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"r"</span> . <span style="color: #3e999f;">"REVIEW..."</span>) t)

(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"ra"</span> . <span style="color: #3e999f;">"All Tasks..."</span>) t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"rad"</span> <span style="color: #3e999f;">"All Tasks (grouped by Due Date)"</span>
               ((tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'notdeadline))))
                (tags-todo <span style="color: #3e999f;">"DEADLINE=\"&lt;+0d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE TODAY"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'notdeadline))))
                (tags-todo <span style="color: #3e999f;">"DEADLINE=\"&lt;+1d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE TOMORROW"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'notdeadline))))
                (tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+1d&gt;\"+DEADLINE&lt;=\"&lt;+7d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE WITHIN A WEEK"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'notdeadline))))
                (tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+7d&gt;\"+DEADLINE&lt;=\"&lt;+28d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE WITHIN A MONTH"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'notdeadline))))
                (tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+28d&gt;\""</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"DUE LATER"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'notdeadline))))
                (tags-todo <span style="color: #3e999f;">"TODO={WAIT}"</span>
                           ((org-agenda-overriding-header <span style="color: #3e999f;">"WAITING FOR"</span>)
                            (org-agenda-skip-function
                             '(org-agenda-skip-entry-if 'deadline))))
                (todo <span style="color: #3e999f;">""</span>
                      ((org-agenda-overriding-header <span style="color: #3e999f;">"WAITING FOR"</span>)
                       (org-agenda-skip-function
                        '(org-agenda-skip-entry-if 'deadline)))))
               ((org-agenda-sorting-strategy '(priority-down))
                (org-agenda-write-buffer-name <span style="color: #3e999f;">"All Tasks (grouped by Due Date)"</span>))
               <span style="color: #3e999f;">"~/Documents/Org/all-tasks-by-due-date.pdf"</span>) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"ra1"</span> <span style="color: #3e999f;">"All Tasks with a due date"</span>
               ((alltodo <span style="color: #3e999f;">""</span>))
               ((org-agenda-overriding-header <span style="color: #3e999f;">"All Tasks (sorted by Due Date)"</span>)
                (org-agenda-skip-function
                 '(org-agenda-skip-entry-if 'notdeadline))
                (org-agenda-sorting-strategy '(deadline-up)))) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"rag"</span> <span style="color: #3e999f;">"Grouped Tasks"</span>)
             ())
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"rt"</span> . <span style="color: #3e999f;">"Timesheet..."</span>) t)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Show what happened today.</span>
(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"rtd"</span> <span style="color: #3e999f;">"Daily Timesheet"</span>
               ((agenda <span style="color: #3e999f;">""</span>))
               ((org-agenda-log-mode-items '(clock closed))
                (org-agenda-overriding-header <span style="color: #3e999f;">"DAILY TIMESHEET"</span>)
                (org-agenda-show-log 'clockcheck)
                (org-agenda-span 'day)
                (org-agenda-start-with-clockreport-mode t)
                (org-agenda-time-grid nil))) <span style="color: #c82829; font-weight: bold;">t)</span>

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Show what happened this week.</span>
(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"rtw"</span> <span style="color: #3e999f;">"Weekly Timesheet"</span>
               ((agenda <span style="color: #3e999f;">""</span>))
               (
                <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">(org-agenda-format-date "")</span>
                (org-agenda-overriding-header <span style="color: #3e999f;">"WEEKLY TIMESHEET"</span>)
                (org-agenda-skip-function '(org-agenda-skip-entry-if 'timestamp))
                (org-agenda-span 'week)
                (org-agenda-start-on-weekday 1)
                (org-agenda-start-with-clockreport-mode t)
                (org-agenda-time-grid nil))) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"rc"</span> . <span style="color: #3e999f;">"Calendar..."</span>) t)

(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"rc7"</span> <span style="color: #3e999f;">"Events and appointments for 7 days"</span>
               ((agenda <span style="color: #3e999f;">""</span>))
               ((org-agenda-entry-types '(<span style="color: #8959a8;">:timestamp</span> <span style="color: #8959a8;">:sexp</span>))
                <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">(org-agenda-overriding-header "Calendar for 7 days")</span>
                (org-agenda-span 'week)
                (org-agenda-format-date <span style="color: #3e999f;">"\n%a %d"</span>)
                <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">(org-agenda-date-weekend ... new face ...)</span>
                (org-agenda-time-grid nil))) <span style="color: #c82829; font-weight: bold;">t)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-agenda-custom-commands
             '(<span style="color: #3e999f;">"rw"</span> <span style="color: #3e999f;">"Weekly review"</span>
               ((tags <span style="color: #3e999f;">"CATEGORY={@REFILE}&amp;LEVEL&lt;=2"</span>
                      ((org-agenda-overriding-header <span style="color: #3e999f;">"NEW TASKS"</span>)))
                (agenda <span style="color: #3e999f;">""</span>
                        ((org-agenda-clockreport-mode t)
                         (org-agenda-format-date
                          (concat <span style="color: #3e999f;">"\n"</span>
                                  <span style="color: #3e999f;">"%Y-%m-%d"</span> <span style="color: #3e999f;">" %a "</span>
                                  (make-string (window-width) ?_)))
                         (org-agenda-overriding-header <span style="color: #3e999f;">"PAST WEEK"</span>)
                         (org-agenda-prefix-format <span style="color: #3e999f;">" %?-11t %i %-12:c% s"</span>)
                         (org-agenda-show-log 'clockcheck)
                         (org-agenda-span 7)
                         (org-agenda-start-day <span style="color: #3e999f;">"-1w"</span>)
                         (org-deadline-warning-days 0)))
                (agenda <span style="color: #3e999f;">""</span>
                        ((org-agenda-overriding-header <span style="color: #3e999f;">"NEXT MONTH"</span>)
                         (org-agenda-span 'month)
                         (org-agenda-start-day <span style="color: #3e999f;">"+0d"</span>)
                         (org-deadline-warning-days 0)))
                (todo <span style="color: #3e999f;">"PROJECT"</span>
                      ((org-agenda-overriding-header <span style="color: #3e999f;">"PROJECT LIST"</span>)))
                (todo <span style="color: #3e999f;">"DONE|PROJECTDONE"</span>
                      ((org-agenda-overriding-header
                        <span style="color: #3e999f;">"Candidates to be archived"</span>))))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-super-agenda</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:quelpa</span> (org-super-agenda <span style="color: #8959a8;">:fetcher</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"alphapapa/org-super-agenda"</span>)
  <span style="color: #8959a8;">:config</span>
  (org-super-agenda-mode t)
  (add-to-list 'org-agenda-custom-commands
               '(<span style="color: #3e999f;">"rag"</span> <span style="color: #3e999f;">"Grouped Tasks"</span>
                 ((todo <span style="color: #3e999f;">""</span> ((org-super-agenda-groups
                             '((<span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"All Tasks"</span> <span style="color: #8959a8;">:auto-category</span> t))))))))
  (add-to-list 'org-agenda-custom-commands
               '(<span style="color: #3e999f;">"f1"</span> <span style="color: #3e999f;">"Score 1 Tasks"</span>
                 ((tags <span style="color: #3e999f;">"+Score=1"</span> ((org-super-agenda-groups
                                     '((<span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Score 1 Tasks"</span> <span style="color: #8959a8;">:auto-category</span> t))))))))
  (add-to-list 'org-agenda-custom-commands
               '(<span style="color: #3e999f;">"f2"</span> <span style="color: #3e999f;">"Score 2 Tasks"</span>
                 ((tags <span style="color: #3e999f;">"+Score=2"</span> ((org-super-agenda-groups
                                     '((<span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Score 1 Tasks"</span> <span style="color: #8959a8;">:auto-category</span> t))))))))
  (add-to-list 'org-agenda-custom-commands
               '(<span style="color: #3e999f;">"f3"</span> <span style="color: #3e999f;">"Score 3 Tasks"</span>
                 ((tags <span style="color: #3e999f;">"+Score=3"</span> ((org-super-agenda-groups
                                     '((<span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Score 1 Tasks"</span> <span style="color: #8959a8;">:auto-category</span> t))))))))
  (add-to-list 'org-agenda-custom-commands
               '(<span style="color: #3e999f;">"f5"</span> <span style="color: #3e999f;">"Score 5 Tasks"</span>
                 ((tags <span style="color: #3e999f;">"+Score=5"</span> ((org-super-agenda-groups
                                     '((<span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Score 1 Tasks"</span> <span style="color: #8959a8;">:auto-category</span> t))))))))
  (add-to-list 'org-agenda-custom-commands
               '(<span style="color: #3e999f;">"f8"</span> <span style="color: #3e999f;">"Score 8 Tasks"</span>
                 ((tags <span style="color: #3e999f;">"+Score=8"</span> ((org-super-agenda-groups
                                     '((<span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Score 1 Tasks"</span> <span style="color: #8959a8;">:auto-category</span> t)))))))))
</pre>
</div>

<p>
Phew! That is a lot of lisp! It is easiest to describe each view
by the key that triggers it.
</p>

<ul class="org-ul">
<li><code>a</code> Agenda with tip (keystroke tip)</li>
<li><code>w</code> Tasks waiting on something</li>
<li><code>r</code> Refile New notes and tasks</li>
<li><code>n</code> Next
Any task with the NEXT tag</li>
<li><code>A</code> Tasks ready for Archive</li>
<li><code>u</code> Upcoming tasks
Scheduled or due in the next week.</li>
<li><code>U</code> Unscheduled tasks</li>
<li><code>P</code> Printable agenda
Formats tasks at the top with upcoming items below.</li>
<li><code>S</code> Scoreless tasks
Use this to get the scoreless tasks and edit in column mode</li>
<li><code>h</code> Habits</li>
<li><code>#</code> Stuck projects</li>
<li><code>z</code> Agenda with Personal Files</li>
<li><code>c</code> Select default clocking task</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgc5ba471" class="outline-3">
<h3 id="orgc5ba471"><span class="section-number-3">20.9</span> Export</h3>
<div class="outline-text-3" id="text-20-9">
<p>
Here are some global export settings make sense for HTML and \LaTeX.
</p>
</div>

<div id="outline-container-org47d5d4b" class="outline-4">
<h4 id="org47d5d4b"><span class="section-number-4">20.9.1</span> HTML</h4>
<div class="outline-text-4" id="text-20-9-1">
<p>
For HTML, I just want to inline the links to images.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-export-html-inline-images t)
</pre>
</div>

<p>
I also used to suppress the postamble with
<code>org-export-html-postamble</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-html-postamble nil)
</pre>
</div>

<p>
I'll use the <i>fancy</i> HTML5 export by default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-html-doctype <span style="color: #3e999f;">"html5"</span>
      org-html-html5-fancy t)
</pre>
</div>

<p>
I like to have striped tables in email, but this is terribly
difficult due to cruddy CSS support. Luckily,
<code>org-html-table-row-tags</code> saves the day and assigns the right
classes to the table rows. Now styling can be done in CSS-reduced
instances.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-html-table-row-tags
      (cons '(<span style="color: #718c00;">cond</span> (top-row-p <span style="color: #3e999f;">"&lt;tr class=\"tr-top\"&gt;"</span>)
                   (bottom-row-p <span style="color: #3e999f;">"&lt;tr class=\"tr-bottom\"&gt;"</span>)
                   (t (<span style="color: #718c00;">if</span> (= (mod row-number 2) 1)
                          <span style="color: #3e999f;">"&lt;tr class=\"tr-odd\"&gt;"</span>
                        <span style="color: #3e999f;">"&lt;tr class=\"tr-even\"&gt;"</span>)))
            <span style="color: #3e999f;">"&lt;/tr&gt;"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org560300f" class="outline-4">
<h4 id="org560300f"><span class="section-number-4">20.9.2</span> LaTeX</h4>
<div class="outline-text-4" id="text-20-9-2">
<p>
For \LaTeX, I want to convert fragments to images, and use minted
for any source blocks. I also want to have <code>xelatex</code> as the
backend.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-export-latex-listings 'minted
      org-export-latex-custom-lang-environments
      '((emacs-lisp <span style="color: #3e999f;">"common-lispcode"</span>))
      org-export-latex-minted-options '()
      org-highlight-latex-and-related '(latex script entities)
      org-latex-to-pdf-process
      '(<span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
        <span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
        <span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>))
</pre>
</div>


<p>
Also, I want to enable some of the other contributed
exporters. To do this, simply require the files necessary that
are not on by default.
</p>

<p>
I add exporters for github-flavored markdown and tufte html.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-gfm</span> <span style="color: #8959a8;">:defer</span> 10)
(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-tufte</span> <span style="color: #8959a8;">:defer</span> 10)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4260a61" class="outline-4">
<h4 id="org4260a61"><span class="section-number-4">20.9.3</span> EPUB</h4>
<div class="outline-text-4" id="text-20-9-3">
<p>
E-readers may be a thing that sticks around.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-epub</span> <span style="color: #8959a8;">:after</span> org-mode)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8e2af0d" class="outline-3">
<h3 id="org8e2af0d"><span class="section-number-3">20.10</span> Clocking</h3>
<div class="outline-text-3" id="text-20-10">
<p>
I have found clocking to be useful in understanding where my time
goes. And Org makes this easy, fast and painless to do. So very
nice.
</p>

<p>
The clock has some general settings around persistence (resuming
clocks), history length and resuming a task after clocking in
twice (interrupted task).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-clock-persistence-insinuate)
(<span style="color: #718c00;">setq</span> org-clock-history-length 28
      org-clock-in-resume t)
</pre>
</div>

<p>
Behavior of the clock can change to accommodate other needs. I
like having clocks log into a specific drawer. Also, it is nice
to remove zero-time clocks and clock out automatically when an
item completes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-clock-into-drawer <span style="color: #3e999f;">"CLOCK"</span>
      org-clock-out-remove-zero-time-clocks t
      org-clock-out-when-done t)
</pre>
</div>

<p>
Two settings help resolve most clock issues that I have
seen. Persisting the clock across sessions helps prevent loss of
time by accident. Auto-resolution of open clocks help prompt how
to handle the situation where a dangling clock exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-clock-persist 'history
      org-clock-auto-clock-resolution 'when-no-clock-is-running)
</pre>
</div>

<p>
Two final settings regarding clocking setup how I change and view
the clocks. I want any clock reports to include the currently
clocked task as well. And for clock editing, I change to 15
minute increments.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-clock-report-include-clocking-task t
      org-time-stamp-rounding-minutes '(1 15))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb818b28" class="outline-3">
<h3 id="orgb818b28"><span class="section-number-3">20.11</span> Modules</h3>
<div class="outline-text-3" id="text-20-11">
<p>
Org-modules allow for specific functionality within org-mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-modules
      '(org-bbdb
        org-bibtex
        org-crypt
        org-gnus
        org-id
        org-info
        org-jsinfo
        org-habit
        org-inlinetask
        org-irc
        org-plot
        org-protocol
        org-bookmark
        org-calc))
</pre>
</div>
</div>

<div id="outline-container-orgc7d970a" class="outline-4">
<h4 id="orgc7d970a"><span class="section-number-4">20.11.1</span> Habit</h4>
<div class="outline-text-4" id="text-20-11-1">
<p>
Some tasks repeat, but you still want to log when you have done
it. I use this to help me always do my weekly or yearly
reviews. By including it in <code>org-modules</code>, habits get activated.
</p>

<p>
My one setting blow sets a width for the graph in Agenda View.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-habit-graph-column 50)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb2cb16c" class="outline-3">
<h3 id="orgb2cb16c"><span class="section-number-3">20.12</span> Babel</h3>
<div class="outline-text-3" id="text-20-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((calc       . t)
   (C          . t)
   (ditaa      . t)
   (dot        . t)
   (emacs-lisp . t)
   (gnuplot    . t)
   (latex      . t)
   (maxima     . t)
   (perl       . t)
   (plantuml   . t)
   (python     . t)
   (ruby       . t)
   (shell      . t)
   (sqlite     . t)
   (sql        . t)
   (R          . t)))
</pre>
</div>
</div>

<div id="outline-container-org54574c7" class="outline-4">
<h4 id="org54574c7"><span class="section-number-4">20.12.1</span> Extra Babel Packages</h4>
<div class="outline-text-4" id="text-20-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ob-http</span> <span style="color: #8959a8;">:after</span> org-mode)

(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ob-restclient</span>
  <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:quelpa</span>
  (ob-restclient <span style="color: #8959a8;">:fetcher</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"alf/ob-restclient.el"</span>)
  <span style="color: #8959a8;">:config</span>
  (org-babel-do-load-languages
   'org-babel-load-languages
   (append org-babel-load-languages '((restclient . t)))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2579477" class="outline-3">
<h3 id="org2579477"><span class="section-number-3">20.13</span> Miscellaneous Settings</h3>
<div class="outline-text-3" id="text-20-13">
</div>
<div id="outline-container-org0510618" class="outline-4">
<h4 id="org0510618"><span class="section-number-4">20.13.1</span> Columns</h4>
<div class="outline-text-4" id="text-20-13-1">
<p>
The default columns are as follows.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-columns-default-format
      <span style="color: #3e999f;">"%80ITEM(Task) %5Score{+} %10Effort(Effort){:} %10CLOCKSUM"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org066fe38" class="outline-4">
<h4 id="org066fe38"><span class="section-number-4">20.13.2</span> Automatically save org files</h4>
<div class="outline-text-4" id="text-20-13-2">
<p>
I like to save early and often. In earlier versions of orgmode, I
sometimes had the capture buffer/timer crash on me. So, now I
save at the top of every hour to be sure.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(run-at-time <span style="color: #3e999f;">"00:59"</span> 3600 'org-save-all-org-buffers)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ad895b" class="outline-4">
<h4 id="org4ad895b"><span class="section-number-4">20.13.3</span> File Applications</h4>
<div class="outline-text-4" id="text-20-13-3">
<p>
This list lets org know how to handle the links of given file
types. Most things open inside <code>emacs</code>, but the others
set to default rely on the OS to supply a program.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-file-apps
      '((auto-mode . emacs)
        (<span style="color: #3e999f;">"\\.x?html?\\'"</span> . default)
        (<span style="color: #3e999f;">"\\.pdf\\'"</span> . default)
        (<span style="color: #3e999f;">"\\.mm\\'"</span> . default)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org559dc64" class="outline-4">
<h4 id="org559dc64"><span class="section-number-4">20.13.4</span> Goto Interface</h4>
<div class="outline-text-4" id="text-20-13-4">
<p>
By using <code>C-c C-j</code>, you can jump easily around a large orgfile
such as this one. Naturally, the interface you use to do so is
customizable.
</p>

<p>
I explicitly set it to the default because I sometimes go back
and forth with the default and <code>outline-path-completion</code> setting.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-goto-interface 'outline-path)
</pre>
</div>
</div>
</div>

<div id="outline-container-org03baf5d" class="outline-4">
<h4 id="org03baf5d"><span class="section-number-4">20.13.5</span> Special Control Keys</h4>
<div class="outline-text-4" id="text-20-13-5">
<p>
Orgmode has a different idea of some of the default emacs
commands to make it easier to work with the structures involved.
</p>

<p>
For <code>C-a</code> or <code>C-e</code> within a headline, it will only try to
navigate the headline text the first time. Additional keypresses
will move to the true beginning/ending of lines.
</p>

<p>
<code>C-k</code> also can behave specially in headlines depending on its
location. When point is at the beginning, it will kill the
headline and the folded subtree below. In the middle of a
headline, it kills the headline text up to the tags. After the
headline text, it kills the tags.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-special-ctrl-a/e t
      org-special-ctrl-k t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org10696f8" class="outline-4">
<h4 id="org10696f8"><span class="section-number-4">20.13.6</span> Auto-revert mode</h4>
<div class="outline-text-4" id="text-20-13-6">
<p>
If the org files are under DVCS like git, then the edits may
happen while open in emacs.
</p>

<p>
This is a global setting, but most useful for the org files that
exists elsewhere.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">autorevert</span>
  <span style="color: #8959a8;">:diminish</span> <span style="color: #3e999f;">" "</span>
  <span style="color: #8959a8;">:custom</span>
  (global-auto-revert-mode t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org32d4452" class="outline-4">
<h4 id="org32d4452"><span class="section-number-4">20.13.7</span> IDO Integration</h4>
<div class="outline-text-4" id="text-20-13-7">
<p>
IDO integrates well into orgmode. Anytime completion is
necessary, I like to use the IDO mechanics.
</p>

<p>
The <code>outline-path-completion</code> may conflict with IDO, so then it
is best to have it not use IDO in this case.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-completion-use-ido t
      org-outline-path-complete-in-steps nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org34d93f6" class="outline-4">
<h4 id="org34d93f6"><span class="section-number-4">20.13.8</span> Display settings</h4>
<div class="outline-text-4" id="text-20-13-8">
<p>
There are a collection of settings that define how the
headlines, subtrees, and notes render.
</p>

<p>
For the headline stars, there are two settings of note. I am
explicit that I do <b>not</b> want only odd levels. I also like to
hide the leading stars.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-odd-levels-only nil
      org-hide-leading-stars nil)
</pre>
</div>

<p>
Cycling the headline states can produce different views of the
files. I like this to be as compact as possible, so I try to
squash the lines between the collapsed trees. There is also a
flag to open a file collapsed. This I like too &#x2013; I get a
compact view of the file and can jump to a relevant section with
<code>C-c C-j</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-cycle-separator-lines 0
      org-startup-folded 'content)
</pre>
</div>

<p>
When using SRC-blocks, org can provide highlighting native to
the SRC type. Note that this may slow down some files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-src-fontify-natively t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1987d1b" class="outline-4">
<h4 id="org1987d1b"><span class="section-number-4">20.13.9</span> Insertion</h4>
<div class="outline-text-4" id="text-20-13-9">
<p>
I define when org should leave a blank line before an
item. In my case it is headings and plain list items.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-blank-before-new-entry '((heading)
                                   (plain-list-item)))
</pre>
</div>

<p>
Also, when inserting a new heading, do so after the current
subtree.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-insert-heading-respect-content t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org29688be" class="outline-4">
<h4 id="org29688be"><span class="section-number-4">20.13.10</span> Properties</h4>
<div class="outline-text-4" id="text-20-13-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-global-properties
      '((<span style="color: #3e999f;">"STYLE_ALL"</span>  . <span style="color: #3e999f;">"habit"</span>)
        (<span style="color: #3e999f;">"Effort_ALL"</span> . <span style="color: #3e999f;">"0:10 0:30 1:00 2:00 3:00 4:00"</span>)
        (<span style="color: #3e999f;">"Score_ALL"</span>  . <span style="color: #3e999f;">"1 2 3 5 8"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4dcee7" class="outline-4">
<h4 id="orgd4dcee7"><span class="section-number-4">20.13.11</span> Teleport</h4>
<div class="outline-text-4" id="text-20-13-11">
<p>
From <a href="http://kitchingroup.cheme.cmu.edu/blog/2016/03/18/Org-teleport-headlines/">the Kitchin Group</a>, I can have a nice <i>teleport</i> function for
org sections. Using a speed command on the current headline kills
it and then presents avy-style markers to select the insertion
point.
</p>

<p>
By default the teleported headline will be inserted after the
target. With a prefix argument, it will preceed the target.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-teleport</span> (<span style="color: #4271ae;">&amp;optional</span> arg)
  <span style="color: #8959a8;">"Teleport the current heading to after a headline selected with avy.</span>
<span style="color: #8959a8;">    With a prefix ARG move the headline to before the selected</span>
<span style="color: #8959a8;">    headline. With a numeric prefix, set the headline level. If ARG</span>
<span style="color: #8959a8;">    is positive, move after, and if negative, move before."</span>
  (<span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span>)
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Kill current headline</span>
  (org-mark-subtree)
  (kill-region (region-beginning) (region-end))
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Jump to a visible headline</span>
  (avy-with avy-goto-line (avy--generic-jump <span style="color: #3e999f;">"^\\*+"</span> nil avy-style))
  (<span style="color: #718c00;">cond</span>
   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Move before  and change headline level</span>
   ((<span style="color: #718c00;">and</span> (numberp arg) (&gt; 0 arg))
    (<span style="color: #718c00;">save-excursion</span>
      (yank))
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">arg is what we want, second is what we have</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">if n is positive, we need to demote (increase level)</span>
    (<span style="color: #718c00;">let</span> ((n (- (abs arg) (car (org-heading-components)))))
      (<span style="color: #718c00;">cl-loop</span> for i from 1 to (abs n)
               do
               (<span style="color: #718c00;">if</span> (&gt; 0 n)
                   (org-promote-subtree)
                 (org-demote-subtree)))))
   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Move after and change level</span>
   ((<span style="color: #718c00;">and</span> (numberp arg) (&lt; 0 arg))
    (org-mark-subtree)
    (goto-char (region-end))
    (<span style="color: #718c00;">when</span> (eobp) (insert <span style="color: #3e999f;">"\n"</span>))
    (<span style="color: #718c00;">save-excursion</span>
      (yank))
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">n is what we want and second is what we have</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">if n is positive, we need to demote</span>
    (<span style="color: #718c00;">let</span> ((n (- (abs arg) (car (org-heading-components)))))
      (<span style="color: #718c00;">cl-loop</span> for i from 1 to (abs n)
               do
               (<span style="color: #718c00;">if</span> (&gt; 0 n) (org-promote-subtree)
                 (org-demote-subtree)))))

   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">move to before selection</span>
   ((equal arg '(4))
    (<span style="color: #718c00;">save-excursion</span>
      (yank)))
   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">move to after selection</span>
   (t
    (org-mark-subtree)
    (goto-char (region-end))
    (<span style="color: #718c00;">when</span> (eobp) (insert <span style="color: #3e999f;">"\n"</span>))
    (<span style="color: #718c00;">save-excursion</span>
      (yank))))
  (outline-hide-leaves))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-speed-commands-user
             (cons <span style="color: #3e999f;">"k"</span> (<span style="color: #718c00;">lambda</span> ()
                         (org-mark-subtree)
                         (kill-region
                          (region-beginning)
                          (region-end)))))

(add-to-list 'org-speed-commands-user
             (cons <span style="color: #3e999f;">"q"</span> (<span style="color: #718c00;">lambda</span> ()
                         (avy-with avy-goto-line
                           (avy--generic-jump <span style="color: #3e999f;">"^\\*+"</span> nil avy-style)))))

(add-to-list 'org-speed-commands-user
             (cons <span style="color: #3e999f;">"T"</span> 'bnb/org-teleport))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfe202a6" class="outline-4">
<h4 id="orgfe202a6"><span class="section-number-4">20.13.12</span> Plantuml</h4>
<div class="outline-text-4" id="text-20-13-12">
<p>
Setup the path for orgmode to find the jar needed.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> org-plantuml-jar-path <span style="color: #3e999f;">"/usr/local/Cellar/plantuml/1.2017.18/libexec/plantuml.jar"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdba1432" class="outline-3">
<h3 id="orgdba1432"><span class="section-number-3">20.14</span> Org Repo Todo&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h3>
<div class="outline-text-3" id="text-20-14">
<p>
Make it easy to setup a <code>TODO.org</code> from within a repo. I use this
to capture thoughts while coding
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-repo-todo</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"s-;"</span> . ort/capture-todo)
  (<span style="color: #3e999f;">"s-'"</span> . ort/capture-checkitem)
  (<span style="color: #3e999f;">"s-`"</span> . ort/goto-todos))
</pre>
</div>
</div>
</div>

<div id="outline-container-org322a368" class="outline-3">
<h3 id="org322a368"><span class="section-number-3">20.15</span> Org projectile&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h3>
<div class="outline-text-3" id="text-20-15">
<p>
Make it easy to capture tasks into the right projects and setup a project todo.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-projectile</span>
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"C-c n p"</span> . org-projectile:project-todo-completing-read)
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span>
  (org-projectile:per-repo)
  (add-to-list 'org-capture-templates
               (org-projectile:project-todo-entry))
  (<span style="color: #718c00;">setq</span> org-agenda-files
        (append org-agenda-files (org-projectile:todo-files))
        org-projectile:per-repo-filename <span style="color: #3e999f;">"Tasks.org"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6bd03c" class="outline-3">
<h3 id="orgf6bd03c"><span class="section-number-3">20.16</span> Org Ref</h3>
<div class="outline-text-3" id="text-20-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-ref</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:config</span>
  (<span style="color: #718c00;">setq</span> org-ref-notes-directory <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/"</span>
        org-ref-bibliography-notes <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/index.org"</span>
        org-ref-default-bibliography '(<span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/index.bib"</span>)
        org-ref-pdf-directory <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/lib"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org518310d" class="outline-3">
<h3 id="org518310d"><span class="section-number-3">20.17</span> Org Noter</h3>
<div class="outline-text-3" id="text-20-17">
<p>
<a href="https://github.com/weirdNox/org-noter">Taking notes in a PDF</a> is a useful trick. <code>org-noter</code> lets me do just that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-noter</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> (<span style="color: #3e999f;">"H-n"</span> . org-noter))
</pre>
</div>
</div>
</div>

<div id="outline-container-org531d84d" class="outline-3">
<h3 id="org531d84d"><span class="section-number-3">20.18</span> Org Roam</h3>
<div class="outline-text-3" id="text-20-18">
<p>
The best of all worlds? Org-mode and a Zettelkasten system? Yes,
Org-roam]] sets up a knowledge capture and organization system built
on the principles of a <a href="https://en.wikipedia.org/wiki/Zettelkasten">Zettelkasten</a> system.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-roam</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#120171;"</span>
  <span style="color: #8959a8;">:hook</span>
  (after-init . org-roam-mode)
  <span style="color: #8959a8;">:custom</span>
  (org-roam-directory <span style="color: #3e999f;">"~/Documents/zettel"</span>)
  <span style="color: #8959a8;">:bind</span> (<span style="color: #8959a8;">:map</span> org-roam-mode-map
              ((<span style="color: #3e999f;">"C-c n l"</span> . org-roam)
               (<span style="color: #3e999f;">"C-c n t"</span> . org-roam-today)
               (<span style="color: #3e999f;">"C-c n w"</span> . org-roam-tomorrow)
               (<span style="color: #3e999f;">"C-c n d"</span> . org-roam-date)
               (<span style="color: #3e999f;">"C-c n f"</span> . org-roam-find-file)
               (<span style="color: #3e999f;">"C-c n g"</span> . org-roam-show-graph))
              <span style="color: #8959a8;">:map</span> org-mode-map
              ((<span style="color: #3e999f;">"C-c n i"</span> . org-roam-insert))
              ((<span style="color: #3e999f;">"C-c n I"</span> . org-roam-insert-immediate))))
</pre>
</div>
</div>

<div id="outline-container-org171ad2d" class="outline-4">
<h4 id="org171ad2d"><span class="section-number-4">20.18.1</span> Company Org Roam</h4>
<div class="outline-text-4" id="text-20-18-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">company-org-roam</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:quelpa</span> (company-org-roam <span style="color: #8959a8;">:fetcher</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"org-roam/company-org-roam"</span>)
  <span style="color: #8959a8;">:config</span> (<span style="color: #718c00;">push</span> 'company-org-roam company-backends))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge8365f1" class="outline-3">
<h3 id="orge8365f1"><span class="section-number-3">20.19</span> Org QL</h3>
<div class="outline-text-3" id="text-20-19">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-ql</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:quelpa</span> (<span style="color: #718c00;">org-ql</span> <span style="color: #8959a8;">:fetcher</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"alphapapa/org-ql"</span>)
  <span style="color: #8959a8;">:commands</span> (org-ql-search)
  <span style="color: #8959a8;">:config</span> (<span style="color: #718c00;">progn</span>
            (<span style="color: #718c00;">require</span> '<span style="color: #4271ae;">org-habit</span>))
  <span style="color: #8959a8;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcb205ca" class="outline-2">
<h2 id="orgcb205ca"><span class="section-number-2">21</span> Calc</h2>
<div class="outline-text-2" id="text-21">
<p>
Working in computer land, I add these additional units to <code>calc</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">calc</span>
  <span style="color: #8959a8;">:commands</span> (calc)
  <span style="color: #8959a8;">:init</span>
  (<span style="color: #718c00;">setq</span> math-additional-units
        '((GiB <span style="color: #3e999f;">"1024 * MiB"</span> <span style="color: #3e999f;">"Giga Byte"</span>)
          (MiB <span style="color: #3e999f;">"1024 * KiB"</span> <span style="color: #3e999f;">"Mega Byte"</span>)
          (KiB <span style="color: #3e999f;">"1024 * B"</span>   <span style="color: #3e999f;">"Kilo Byte"</span>)
          (B   nil          <span style="color: #3e999f;">"Byte"</span>)
          (Gib <span style="color: #3e999f;">"1024 * Mib"</span> <span style="color: #3e999f;">"Giga bit"</span>)
          (Mib <span style="color: #3e999f;">"1024 * Kib"</span> <span style="color: #3e999f;">"Mega bit"</span>)
          (Kib <span style="color: #3e999f;">"1024 * b"</span>   <span style="color: #3e999f;">"Kilo bit"</span>)
          (b   nil          <span style="color: #3e999f;">"bit"</span>)
          )))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d8ca6a" class="outline-2">
<h2 id="org1d8ca6a"><span class="section-number-2">22</span> Server</h2>
<div class="outline-text-2" id="text-22">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_mono/emacs.html#Emacs_002520Server">Using Emacs as a server</a> is a great way to keep the power
responsive.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">when</span> (<span style="color: #718c00;">and</span> (<span style="color: #718c00;">or</span> (eq system-type 'windows-nt) (eq system-type 'darwin))
           (not (<span style="color: #718c00;">and</span> (boundp 'server-clients) server-clients))
           (not (daemonp)))
  (server-start))
</pre>
</div>

<p>
I need to look into the TCP connections to see how
that work across machines. Perhaps it can be useful in a
multi-machine work environment.
</p>
</div>
</div>

<div id="outline-container-org5532646" class="outline-2">
<h2 id="org5532646"><span class="section-number-2">23</span> Local customizations (custom.el)</h2>
<div class="outline-text-2" id="text-23">
<p>
I typically use the customize interface to generate any local
settings such as proxies, paths, fonts, etc. that may vary from
machine to machine.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">setq</span> custom-file <span style="color: #3e999f;">"~/.emacs.d/custom.el"</span>)
(load-file custom-file)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeff6614" class="outline-2">
<h2 id="orgeff6614"><span class="section-number-2">24</span> Local customizations (user-login-name)</h2>
<div class="outline-text-2" id="text-24">
<p>
I also intend to have a generic call to an installed local file
that may need to behave differently from <code>custom.el</code>. This loads
last so that it can modify any existing setting made here to work
on the specific system in question.
</p>

<p>
In the code below, I add <code>~/.emacs.d/</code> to the load path and have a
protected call to <code>load-library</code>.  If the file exists, it gets
loaded, otherwise the error normally returned if the file is
non-existent gets ignored.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #718c00;">condition-case</span> err
    (<span style="color: #718c00;">progn</span>
      (load-file (format <span style="color: #3e999f;">"~/.emacs.d/%s.el"</span>  user-login-name))
      (message <span style="color: #3e999f;">"Loaded local settings file %s.el"</span> user-login-name))
  (file-error
   (message <span style="color: #3e999f;">"Skipping %s library as it does not exist."</span> user-login-name))
  nil)
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Benjamin Beckwith</p>
<p class="date">Created: 2020-07-13 Mon 14:16</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>