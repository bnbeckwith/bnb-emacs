<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-02-16 Fri 08:20 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Beckwith Tangled Emacs Initialization</title>
<meta name="author" content="Benjamin Beckwith" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Beckwith Tangled Emacs Initialization</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org0b313e4">1. Introduction</a>
<ul>
<li><a href="#orgca2c0ad">1.1. Installation</a></li>
<li><a href="#org028feab">1.2. Notes</a>
<ul>
<li><a href="#org06ce46f">1.2.1. Elpaca</a></li>
<li><a href="#org41e13f4">1.2.2. Emacs Build</a></li>
<li><a href="#org2a3f40c">1.2.3. Pending sections</a></li>
<li><a href="#orgbf1266a">1.2.4. Performance</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9b6d1bd">2. Preamble</a>
<ul>
<li><a href="#orgb7857ff">2.1. Personal Information</a></li>
<li><a href="#org8a7b115">2.2. Local customizations (custom.el, username.var.el)</a>
<ul>
<li><a href="#org77a5e0f">2.2.1. Local variables (user-login-name)</a></li>
</ul>
</li>
<li><a href="#org0bc3499">2.3. Early Initialization</a></li>
<li><a href="#org126e538">2.4. Libraries</a>
<ul>
<li><a href="#org3cd693f">2.4.1. Dash</a></li>
<li><a href="#orgb93b49e">2.4.2. Delight</a></li>
<li><a href="#org65e0a76">2.4.3. Hydra</a></li>
<li><a href="#orgb047eaa">2.4.4. Seq</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orga2a095e">3. Settings</a>
<ul>
<li><a href="#orgd03c9cc">3.1. Keys</a>
<ul>
<li><a href="#orgbc8eada">3.1.1. Binding Keys</a></li>
<li><a href="#org16a060a">3.1.2. Personal Keymaps</a></li>
<li><a href="#org9751a02">3.1.3. Super keys</a></li>
</ul>
</li>
<li><a href="#org49bc1f7">3.2. Command Launchers</a>
<ul>
<li><a href="#org1cb815b">3.2.1. Hydra</a></li>
<li><a href="#org206b335">3.2.2. Vertico</a></li>
</ul>
</li>
<li><a href="#org10dff39">3.3. Expansion &amp; Completion</a>
<ul>
<li><a href="#org435fc7a">3.3.1. Abbrev</a></li>
<li><a href="#orgeffaac9">3.3.2. Cape</a></li>
<li><a href="#org1bc9c88">3.3.3. Company</a></li>
<li><a href="#orga0077e9">3.3.4. Corfu</a></li>
<li><a href="#orgcf49715">3.3.5. Yasnippet&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#orge3bc916">3.3.6. Hippie Expand</a></li>
</ul>
</li>
<li><a href="#orgb5fcc00">3.4. Built-in Features</a>
<ul>
<li><a href="#orgb3c7e9f">3.4.1. Backups</a></li>
<li><a href="#org6590a54">3.4.2. Default File encoding</a></li>
<li><a href="#org70ee5fb">3.4.3. Native Compilation</a></li>
<li><a href="#orgdb068f1">3.4.4. Path</a></li>
<li><a href="#org41c9964">3.4.5. Server</a></li>
<li><a href="#orgd2937b8">3.4.6. Sounds</a></li>
<li><a href="#org356f8da">3.4.7. Recentf</a></li>
<li><a href="#orgc7108fb">3.4.8. Timezones</a></li>
<li><a href="#org2e6fbee">3.4.9. Isearch</a></li>
</ul>
</li>
<li><a href="#org502dcc8">3.5. Minibuffer</a>
<ul>
<li><a href="#orgd622298">3.5.1. Minibuffer History</a></li>
</ul>
</li>
<li><a href="#org522a4f6">3.6. Movement</a>
<ul>
<li><a href="#orgabac837">3.6.1. Ace Utilities</a></li>
<li><a href="#orgf2dad87">3.6.2. Errors</a></li>
<li><a href="#orga610ec6">3.6.3. Read-only helpers</a></li>
<li><a href="#org2c3d6e8">3.6.4. Scroll Screen Position</a></li>
</ul>
</li>
<li><a href="#orge7fe4e1">3.7. Custom Helpers</a>
<ul>
<li><a href="#org9c2b51a">3.7.1. Auto-display agenda</a></li>
<li><a href="#org10de967">3.7.2. Auto-indent when pasting</a></li>
<li><a href="#orgcb640ef">3.7.3. Better window splitting functions</a></li>
<li><a href="#org08d2ce2">3.7.4. Hide mode line</a></li>
<li><a href="#org2ebe5d3">3.7.5. Open/Edit This file</a></li>
<li><a href="#org7e7872b">3.7.6. Org-column resizing</a></li>
<li><a href="#org4fc60a7">3.7.7. Styled HTML Export</a></li>
<li><a href="#orga31a498">3.7.8. Transparency</a></li>
<li><a href="#orgec9233b">3.7.9. Weekly Score Goal in Org-Agenda</a></li>
<li><a href="#org9abaee4">3.7.10. Weekly Time Reporting</a></li>
<li><a href="#org021d4b4">3.7.11. Workweeks</a></li>
</ul>
</li>
<li><a href="#org4b569fc">3.8. Editing</a>
<ul>
<li><a href="#org4309660">3.8.1. Ediff single frame</a></li>
<li><a href="#orgb98de27">3.8.2. Multiple Cursors</a></li>
<li><a href="#orgb03267c">3.8.3. Regexp-Builder</a></li>
<li><a href="#org9aac43a">3.8.4. Executable Scripts on save</a></li>
<li><a href="#org3c9e5e8">3.8.5. Auto Reverting</a></li>
</ul>
</li>
<li><a href="#org6a6ceb0">3.9. Images</a>
<ul>
<li><a href="#orga0f4dba">3.9.1. ImageMagick</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgd3d6d27">4. Minor Modes</a>
<ul>
<li><a href="#org224cdfb">4.1. Reference</a>
<ul>
<li><a href="#org85dbd4a">4.1.1. Helpful</a></li>
<li><a href="#orge59c991">4.1.2. Which Key</a></li>
<li><a href="#org155aee4">4.1.3. Dictionary</a></li>
<li><a href="#orgecb22e6">4.1.4. OSX Dictionary</a></li>
</ul>
</li>
<li><a href="#orgdbe9069">4.2. Editing</a>
<ul>
<li><a href="#org8d8936b">4.2.1. Adaptive Fill&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#org33f0108">4.2.2. Focus Mode</a></li>
<li><a href="#org8fa52a0">4.2.3. Common User Access mode</a></li>
<li><a href="#orgf96ac0b">4.2.4. Easy Kill</a></li>
<li><a href="#orgff69a08">4.2.5. Vundo&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#org1b22077">4.2.6. Expand Region</a></li>
<li><a href="#org6f0771f">4.2.7. Citar (Bibtex completions)</a></li>
<li><a href="#org0376c36">4.2.8. Tree Sitter</a></li>
</ul>
</li>
<li><a href="#org07fd57b">4.3. Version Control</a>
<ul>
<li><a href="#orga9358f0">4.3.1. Magit</a></li>
<li><a href="#org20ccbc3">4.3.2. Smerge</a></li>
</ul>
</li>
<li><a href="#orgc2f693c">4.4. Checking</a>
<ul>
<li><a href="#org5c1c326">4.4.1. Writegood Mode</a></li>
<li><a href="#org4486ec1">4.4.2. Spell Checking</a></li>
<li><a href="#org20690c8">4.4.3. Proselint</a></li>
</ul>
</li>
<li><a href="#org16ebbc9">4.5. Buffers</a>
<ul>
<li><a href="#org236ea7b">4.5.1. Midnight Mode</a></li>
<li><a href="#org8b896c7">4.5.2. IBuffer</a></li>
<li><a href="#org45d9da7">4.5.3. Unique Buffer Names</a></li>
<li><a href="#orge02b4d4">4.5.4. OSX Reveal</a></li>
</ul>
</li>
<li><a href="#org2e3158f">4.6. Development</a>
<ul>
<li><a href="#org09be855">4.6.1. Check parens on save</a></li>
<li><a href="#orgf3c1b6c">4.6.2. Eldoc</a></li>
<li><a href="#orgfff06cd">4.6.3. LSP</a></li>
<li><a href="#org256376e">4.6.4. Paredit</a></li>
<li><a href="#org292a4d6">4.6.5. Paxedit</a></li>
<li><a href="#org7f82a9f">4.6.6. Rainbow Delimiters</a></li>
</ul>
</li>
<li><a href="#org6174e59">4.7. Organization</a>
<ul>
<li><a href="#orgec8ce42">4.7.1. Bookmarks</a></li>
<li><a href="#org48bf6ff">4.7.2. Project</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org029f98d">5. Major Modes</a>
<ul>
<li><a href="#orgca01fe3">5.1. File Management</a>
<ul>
<li><a href="#org85b8584">5.1.1. Dired</a></li>
<li><a href="#org91bc8d8">5.1.2. Neotree</a></li>
</ul>
</li>
<li><a href="#org9772500">5.2. Documents</a>
<ul>
<li><a href="#org0add342">5.2.1. AucTeX</a></li>
<li><a href="#org8bc35e3">5.2.2. HTML</a></li>
<li><a href="#orgb984cc0">5.2.3. Markdown</a></li>
<li><a href="#orgf3faca8">5.2.4. Orgmode</a></li>
<li><a href="#org95290c3">5.2.5. PDF Tools</a></li>
</ul>
</li>
<li><a href="#org8bde3a4">5.3. Miscellaneous</a>
<ul>
<li><a href="#org2ba3bac">5.3.1. Calc</a></li>
<li><a href="#orge2a001a">5.3.2. Dashboard</a></li>
<li><a href="#org999e73c">5.3.3. Hyperbole&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
</ul>
</li>
<li><a href="#org349bb7b">5.4. Programming Languages</a>
<ul>
<li><a href="#org6d3eeed">5.4.1. C++</a></li>
<li><a href="#org4e069ee">5.4.2. Elisp</a></li>
<li><a href="#org43acd8c">5.4.3. Javascript</a></li>
<li><a href="#org0116569">5.4.4. Plantuml</a></li>
<li><a href="#org7b4ed7e">5.4.5. Rust</a></li>
<li><a href="#org885d8ec">5.4.6. Emacs Speaks Statistics (ESS)</a></li>
<li><a href="#orge984e5b">5.4.7. Utilities</a></li>
<li><a href="#orga1dcbd6">5.4.8. Web Mode</a></li>
</ul>
</li>
<li><a href="#orgf6a7c9a">5.5. Shells</a>
<ul>
<li><a href="#org5afe55e">5.5.1. Ansi Term</a></li>
<li><a href="#orgddf86ed">5.5.2. Eshell</a></li>
</ul>
</li>
<li><a href="#org67733df">5.6. Visual</a>
<ul>
<li><a href="#org7bd6e42">5.6.1. Nerd Icons</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgb8e281c">6. Style</a>
<ul>
<li><a href="#orgc84fb0d">6.1. Frame Changes</a></li>
<li><a href="#orge17d4dc">6.2. Window Changes</a></li>
<li><a href="#org28a3710">6.3. Faces</a>
<ul>
<li><a href="#orgf9299df">6.3.1. Default Fonts</a></li>
<li><a href="#org4cb140c">6.3.2. Unicode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#org409de2a">6.3.3. Trying out fonts on Windows</a></li>
<li><a href="#org36a7c13">6.3.4. Dynamic Font sizes</a></li>
<li><a href="#orgd019de3">6.3.5. Mode Line Style</a></li>
<li><a href="#org9adfbc6">6.3.6. Missing Glyphs</a></li>
<li><a href="#org1dd3f61">6.3.7. Cursor width</a></li>
</ul>
</li>
<li><a href="#org5478a0f">6.4. Themes</a>
<ul>
<li><a href="#orgff5492f">6.4.1. Extra Themes</a></li>
</ul>
</li>
<li><a href="#org4accf49">6.5. Sky Color Clock</a></li>
<li><a href="#orgf4d53af">6.6. Doom Modeline</a></li>
<li><a href="#org05b537b">6.7. Asterism (‚ÅÇ) Mode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></a></li>
<li><a href="#org650eab9">6.8. Prettify Symbols</a></li>
<li><a href="#org539fc13">6.9. Color</a>
<ul>
<li><a href="#orgdbd050d">6.9.1. Rainbow Mode</a></li>
<li><a href="#org77f4984">6.9.2. KureColor</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgcb2f728">7. Postamble</a>
<ul>
<li><a href="#orgee6a0a2">7.1. Local customizations (custom.el)</a></li>
<li><a href="#orgc4cf1a5">7.2. Local customizations (user-login-name)</a></li>
<li><a href="#orga5dc87f">7.3. Housekeeping</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org0b313e4" class="outline-2">
<h2 id="org0b313e4"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
This document tangles (in literate programming style) the necessary
commands to initialize Emacs to my liking and the documentation for my
choices. 
</p>

<p>
To clone, go to the <a href="http://github.com/bnbeckwith/bnb-emacs">github repository</a>. For a pretty view, head over to
the <a href="http://bnbeckwith.com/bnb-emacs/">generated page</a>.
</p>
</div>

<div id="outline-container-orgca2c0ad" class="outline-3">
<h3 id="orgca2c0ad"><span class="section-number-3">1.1.</span> Installation</h3>
<div class="outline-text-3" id="text-1-1">
<p>
My <code>init.el</code> file is quite simple and is generated by the following
block. Essentially, I just have to install this package
(<code>bnb-emacs</code>) in the <a href="file:///Users/ben.beckwith/.emacs.d/">~/.emacs.d/</a> directory and run the following
code block (<code>C-c C-c</code>) to bootstrap the system.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;;; </span><span style="color: #8e908c; font-style: italic;">init.el --- bnbeckwith config -*- eval: (read-only-mode 1) -*-</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> package-enable-at-startup nil<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-installer-version</span> 0.6<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-directory</span> <span style="color: #3e999f;">(</span>expand-file-name <span style="color: #3e999f;">"elpaca/"</span> user-emacs-directory<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-builds-directory</span> <span style="color: #3e999f;">(</span>expand-file-name <span style="color: #3e999f;">"builds/"</span> elpaca-directory<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-repos-directory</span> <span style="color: #3e999f;">(</span>expand-file-name <span style="color: #3e999f;">"repos/"</span> elpaca-directory<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">elpaca-order</span>
  '<span style="color: #3e999f;">(</span>elpaca <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"https://github.com/progfolio/elpaca.git"</span>
           <span style="color: #8959a8;">:ref</span> nil
           <span style="color: #8959a8;">:files</span> <span style="color: #eab700;">(</span><span style="color: #8959a8;">:defaults</span> <span style="color: #3e999f;">"elpaca-test.el"</span> <span style="color: #718c00;">(</span><span style="color: #8959a8;">:exclude</span> <span style="color: #3e999f;">"extensions"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
           <span style="color: #8959a8;">:build</span> <span style="color: #eab700;">(</span><span style="color: #8959a8;">:not</span> elpaca--activate-package<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">let*</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>repo  <span style="color: #718c00;">(</span>expand-file-name <span style="color: #3e999f;">"elpaca/"</span> elpaca-repos-directory<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
       <span style="color: #eab700;">(</span>build <span style="color: #718c00;">(</span>expand-file-name <span style="color: #3e999f;">"elpaca/"</span> elpaca-builds-directory<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
       <span style="color: #eab700;">(</span>order <span style="color: #718c00;">(</span>cdr elpaca-order<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
       <span style="color: #eab700;">(</span>default-directory repo<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'load-path <span style="color: #eab700;">(</span><span style="color: #718c00;">if</span> <span style="color: #718c00;">(</span>file-exists-p build<span style="color: #718c00;">)</span> build repo<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">unless</span> <span style="color: #eab700;">(</span>file-exists-p repo<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>make-directory repo t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">when</span> <span style="color: #718c00;">(</span>&lt; emacs-major-version 28<span style="color: #718c00;">)</span> <span style="color: #718c00;">(</span><span style="color: #718c00;">require</span> '<span style="color: #4271ae;">subr-x</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">condition-case-unless-debug</span> err
        <span style="color: #718c00;">(</span><span style="color: #718c00;">if-let</span> <span style="color: #4271ae;">(</span><span style="color: #4d4d4c;">(</span>buffer <span style="color: #3e999f;">(</span>pop-to-buffer-same-window <span style="color: #3e999f;">"*elpaca-bootstrap*"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>zerop <span style="color: #eab700;">(</span>call-process <span style="color: #3e999f;">"git"</span> nil buffer t <span style="color: #3e999f;">"clone"</span>
                                       <span style="color: #718c00;">(</span>plist-get order <span style="color: #8959a8;">:repo</span><span style="color: #718c00;">)</span> repo<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>zerop <span style="color: #eab700;">(</span>call-process <span style="color: #3e999f;">"git"</span> nil buffer t <span style="color: #3e999f;">"checkout"</span>
                                       <span style="color: #718c00;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>plist-get order <span style="color: #8959a8;">:ref</span><span style="color: #4d4d4c;">)</span> <span style="color: #3e999f;">"--"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
                 <span style="color: #4d4d4c;">(</span>emacs <span style="color: #3e999f;">(</span>concat invocation-directory invocation-name<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>zerop <span style="color: #eab700;">(</span>call-process emacs nil buffer nil <span style="color: #3e999f;">"-Q"</span> <span style="color: #3e999f;">"-L"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"--batch"</span>
                                       <span style="color: #3e999f;">"--eval"</span> <span style="color: #3e999f;">"(byte-recompile-directory \".\" 0 'force)"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span><span style="color: #718c00;">require</span> '<span style="color: #4271ae;">elpaca</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>elpaca-generate-autoloads <span style="color: #3e999f;">"elpaca"</span> repo<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
            <span style="color: #4271ae;">(</span><span style="color: #718c00;">progn</span> <span style="color: #4d4d4c;">(</span>message <span style="color: #3e999f;">"%s"</span> <span style="color: #3e999f;">(</span>buffer-string<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span> <span style="color: #4d4d4c;">(</span>kill-buffer buffer<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #c82829; font-weight: bold;">error</span> <span style="color: #3e999f;">"%s"</span> <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-current-buffer</span> buffer <span style="color: #3e999f;">(</span>buffer-string<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span><span style="color: #c82829; font-weight: bold;">error</span><span style="color: #4271ae;">)</span> <span style="color: #4271ae;">(</span><span style="color: #c82829; font-weight: bold;">warn</span> <span style="color: #3e999f;">"%s"</span> err<span style="color: #4271ae;">)</span> <span style="color: #4271ae;">(</span>delete-directory repo 'recursive<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">unless</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">require</span> '<span style="color: #4271ae;">elpaca-autoloads</span> nil t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">require</span> '<span style="color: #4271ae;">elpaca</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>elpaca-generate-autoloads <span style="color: #3e999f;">"elpaca"</span> repo<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>load <span style="color: #3e999f;">"./elpaca-autoloads"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>add-hook 'after-init-hook #'elpaca-process-queues<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> `<span style="color: #3e999f;">(</span>,@elpaca-order<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Install use-package support</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> elpaca-use-package
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Enable :elpaca use-package keyword.</span>
  <span style="color: #3e999f;">(</span>elpaca-use-package-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Assume :elpaca t unless otherwise specified.</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> elpaca-use-package-by-default t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>elpaca-wait<span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span>load <span style="color: #3e999f;">"~/.emacs.d/full.el"</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
From there on, the bootstrapping is simple. Emacs finds
<a href="file:///Users/ben.beckwith/.emacs.d/init.el">~/.emacs.d/init.el</a> and runs the code. 
</p>

<p>
First, I disable <code>package</code>, and use the standard <code>elpaca</code>
initialization. Following that, I enable <code>elpaca-use-package</code> so that
the rest of this setup can use the standard <code>use-package</code> interface.
</p>

<p>
Finally, the output of this file, <a href="file:///Users/ben.beckwith/.emacs.d/full.el">~/.emacs.d/full.el</a>, is loaded for
the complete initialization.
</p>

<p>
If you are reading this online, the html version of this file is
generated by using `bnb/export-readme` explained in <a href="#org4fc60a7">Styled HTML
Export</a>.
</p>
</div>
</div>

<div id="outline-container-org028feab" class="outline-3">
<h3 id="org028feab"><span class="section-number-3">1.2.</span> Notes</h3>
<div class="outline-text-3" id="text-1-2">
<p>
This section has specific notes that are relevant to my emacs setup
in general and this document in particular.
</p>
</div>

<div id="outline-container-org06ce46f" class="outline-4">
<h4 id="org06ce46f"><span class="section-number-4">1.2.1.</span> Elpaca</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
A newer package manager, <a href="https://github.com/progfolio/elpaca">Elpaca</a> seeks to be a preferred drop-in
replacement for the built-in <code>package.el</code> manager. For the
configuration above, I use the standard installation boilerplate
and enable <code>use-package</code> support.
</p>

<p>
This is the quick cheat sheet of commands:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operation</th>
<th scope="col" class="org-left">UI (keys apply in elpaca-ui-mode)</th>
<th scope="col" class="org-left">completing-read interface commands</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Finding Packages</td>
<td class="org-left"><code>M-x elpaca-manager</code></td>
<td class="org-left"><code>elpaca-try</code></td>
</tr>

<tr>
<td class="org-left">Trying Packages (for current session)</td>
<td class="org-left"><code>i x</code></td>
<td class="org-left"><code>elpaca-try</code></td>
</tr>

<tr>
<td class="org-left">Fetching Package Updates</td>
<td class="org-left"><code>f x</code></td>
<td class="org-left"><code>elpaca-fetch</code> or <code>elpaca-fetch-all</code></td>
</tr>

<tr>
<td class="org-left">Merging Updates</td>
<td class="org-left"><code>u x</code></td>
<td class="org-left"><code>elpaca-merge</code> or <code>elpaca-merge-all</code></td>
</tr>

<tr>
<td class="org-left">Pulling Updates*</td>
<td class="org-left"><code>C-u u x</code></td>
<td class="org-left"><code>C-u M-x elpaca-merge</code> or <code>C-u M-x elpaca-merge-all</code></td>
</tr>

<tr>
<td class="org-left">Rebuilding Packages</td>
<td class="org-left"><code>r x</code></td>
<td class="org-left"><code>elpaca-rebuild</code></td>
</tr>

<tr>
<td class="org-left">Deleting Packages</td>
<td class="org-left"><code>d x</code></td>
<td class="org-left"><code>elpaca-delete</code></td>
</tr>

<tr>
<td class="org-left">View Package Logs</td>
<td class="org-left"><code>l</code> filters log to current package</td>
<td class="org-left"><code>elpaca-log</code></td>
</tr>

<tr>
<td class="org-left">View Package Statuses</td>
<td class="org-left"><code>t</code> show most recent log entries</td>
<td class="org-left"><code>elpaca-status</code></td>
</tr>

<tr>
<td class="org-left">Visit Package Repository Directory</td>
<td class="org-left"><code>v</code></td>
<td class="org-left"><code>elpaca-visit</code></td>
</tr>

<tr>
<td class="org-left">Visit Package Build Directory</td>
<td class="org-left"><code>C-u v</code></td>
<td class="org-left"><code>C-u M-x elpaca-visit</code></td>
</tr>

<tr>
<td class="org-left">Browse Package Website</td>
<td class="org-left"><code>b</code></td>
<td class="org-left"><code>elpaca-browse</code></td>
</tr>
</tbody>
</table>

<p>
There is also a <a href="https://github.com/progfolio/elpaca/blob/master/doc/manual.md">helpful manual</a>.
</p>


<p>
To see how the startup time has imporoved, let's store when we
start evaluating these settings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> bnb/start-time <span style="color: #3e999f;">(</span>float-time<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org41e13f4" class="outline-4">
<h4 id="org41e13f4"><span class="section-number-4">1.2.2.</span> Emacs Build</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
My current flavor of Emacs comes from:
<a href="https://github.com/d12frosted/homebrew-emacs-plus">https://github.com/d12frosted/homebrew-emacs-plus</a>
</p>

<p>
To install with <code>brew</code>, run the following command:
</p>
<div class="org-src-container">
<pre class="src src-sh">brew install emacs-plus@29 --with-nobu417-big-sur-icon --with-imagemagick --with-native-comp
</pre>
</div>

<p>
Notes: <a href="https://www.masteringemacs.org/article/whats-new-in-emacs-29-1">What's new in 29.1</a>
</p>
</div>
</div>

<div id="outline-container-org2a3f40c" class="outline-4">
<h4 id="org2a3f40c"><span class="section-number-4">1.2.3.</span> Pending sections</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
There are some features that I like to take on a <i>trial run</i>. These
are marked with the <b>PENDING</b> tag to help me remember and evaluate.
</p>
</div>
</div>

<div id="outline-container-orgbf1266a" class="outline-4">
<h4 id="orgbf1266a"><span class="section-number-4">1.2.4.</span> Performance</h4>
<div class="outline-text-4" id="text-1-2-4">
<p>
By utilizing elements of <code>use-package</code>, I can keep an eye on
troublesome packages during startup. Together, these turn on
reporting and set the minimum time to consider when building the
report.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> use-package-verbose t
      use-package-compute-statistics t
      use-package-minimum-reported-time 0<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The generated messages will be found in the <code>*Messsages*</code> buffer.
</p>

<p>
There is also the <a href="(elpaca-log)">elpaca log</a> that can show loading times.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org9b6d1bd" class="outline-2">
<h2 id="org9b6d1bd"><span class="section-number-2">2.</span> Preamble</h2>
<div class="outline-text-2" id="text-2">
<p>
This sections houses the settings that need to be made up front and
support subsuquent package installation and activiation.
</p>
</div>

<div id="outline-container-orgb7857ff" class="outline-3">
<h3 id="orgb7857ff"><span class="section-number-3">2.1.</span> Personal Information</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The full name is used for email messages.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> user-full-name <span style="color: #3e999f;">"Benjamin Beckwith"</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8a7b115" class="outline-3">
<h3 id="org8a7b115"><span class="section-number-3">2.2.</span> Local customizations (custom.el, username.var.el)</h3>
<div class="outline-text-3" id="text-2-2">
<p>
I typically use the customize interface to generate any local
settings such as proxies, paths, fonts, etc. that may vary from
machine to machine. This keeps the setup the same and allows for
only some details to differ.
</p>

<p>
I like to set the custom file explicitly. Mine resides in the
<a href="file:///Users/ben.beckwith/.emacs.d/">~/.emacs.d/</a> directory. This code block sets the file name and
loads it if it exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> custom-file <span style="color: #3e999f;">"~/.emacs.d/custom.el"</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">if</span> <span style="color: #3e999f;">(</span>file-exists-p custom-file<span style="color: #3e999f;">)</span>
    <span style="color: #3e999f;">(</span>load-file custom-file<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
If the file doesn't exist, <code>Emacs</code> will still use the file if any
changes are made through the <i>custom interface</i>.
</p>

<p>
Sometimes I'll get bad settings or cruft in that file. I now have a
key, <code>&lt;F7&gt;</code>, for easy navigation to wherever the <code>custom-file</code> points.
</p>
</div>

<div id="outline-container-org77a5e0f" class="outline-4">
<h4 id="org77a5e0f"><span class="section-number-4">2.2.1.</span> Local variables (user-login-name)</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
I also intend to have a generic call to an installed local file
that may need to behave differently from <code>custom.el</code>. This loads
last so that it can modify any existing setting made here to work
on the specific system in question.
</p>

<p>
In the code below, I add <code>~/.emacs.d/</code> to the load path and have a
protected call to <code>load-library</code>.  If the file exists, it gets
loaded, otherwise the error normally returned if the file is
non-existent gets ignored.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">condition-case</span> err
    <span style="color: #3e999f;">(</span><span style="color: #718c00;">progn</span>
      <span style="color: #eab700;">(</span>load-file <span style="color: #718c00;">(</span>format <span style="color: #3e999f;">"~/.emacs.d/%s.vars.el"</span>  user-login-name<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
      <span style="color: #eab700;">(</span>message <span style="color: #3e999f;">"Loaded local settings file %s.vars.el"</span> user-login-name<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>file-error
   <span style="color: #eab700;">(</span>message <span style="color: #3e999f;">"Skipping %s.vars library as it does not exist."</span> user-login-name<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  nil<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0bc3499" class="outline-3">
<h3 id="org0bc3499"><span class="section-number-3">2.3.</span> Early Initialization</h3>
<div class="outline-text-3" id="text-2-3">
<p>
There are a few optimizations to make so that emacs can get
initialized quickly. First, setup the garbage collector to have a
default value of 16mb and a initializtion time value of
<code>most-positive-fixnum</code>.
</p>

<p>
This prevents garbage collection from pausing evaluation during
startup. After startup, I leverage the hook to reset the
optimizations down to their default values.
</p>

<p>
The next setting stores <code>file-name-handler-alist</code> and then sets it to
<code>nil</code>. By doing this, there is no automatic handler evalutation
happening during startup. This setting goes back to its original
value post startup.
</p>

<p>
Finally, user interface elements are hidden early to have a nice
streamlined interface.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">default-gc-cons-threshold</span> 16777216<span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">16mb</span>
  <span style="color: #8959a8;">"my default desired value of `</span><span style="color: #4271ae;">gc-cons-threshold</span><span style="color: #8959a8;">'</span>
<span style="color: #8959a8;">during normal emacs operations."</span><span style="color: #4d4d4c;">)</span>

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">make garbage collector less invasive</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span>
 gc-cons-threshold most-positive-fixnum
 gc-cons-percentage 0.6<span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span>
 default-file-name-handler-alist
 file-name-handler-alist
 file-name-handler-alist nil<span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span>add-hook
 'emacs-startup-hook
 <span style="color: #3e999f;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #eab700;">(</span><span style="color: #4271ae;">&amp;rest</span> _<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span>
    gc-cons-threshold
    default-gc-cons-threshold
    gc-cons-percentage 0.1
    file-name-handler-alist default-file-name-handler-alist<span style="color: #eab700;">)</span>

   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">delete no longer necessary startup variable</span>
   <span style="color: #eab700;">(</span>makunbound 'default-file-name-handler-alist<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Prevent the glimpse of un-styled Emacs by disabling these UI elements early.</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">push</span> '<span style="color: #3e999f;">(</span>menu-bar-lines . 0<span style="color: #3e999f;">)</span> default-frame-alist<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">push</span> '<span style="color: #3e999f;">(</span>tool-bar-lines . 0<span style="color: #3e999f;">)</span> default-frame-alist<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">push</span> '<span style="color: #3e999f;">(</span>vertical-scroll-bars<span style="color: #3e999f;">)</span> default-frame-alist<span style="color: #4d4d4c;">)</span>

</pre>
</div>

<p>
The block above is written to <a href="file:///Users/ben.beckwith/.emacs.d/early-init.el">~/.emacs.d/early-init.el</a> and
automatically evaluated first by emacs.
</p>
</div>
</div>

<div id="outline-container-org126e538" class="outline-3">
<h3 id="org126e538"><span class="section-number-3">2.4.</span> Libraries</h3>
<div class="outline-text-3" id="text-2-4">
<p>
This section hosts early loading of libraries required by
subsequent packages.
</p>
</div>

<div id="outline-container-org3cd693f" class="outline-4">
<h4 id="org3cd693f"><span class="section-number-4">2.4.1.</span> Dash</h4>
<div class="outline-text-4" id="text-2-4-1">
<p>
The modern list library, <a href="https://github.com/magnars/dash.el">Dash</a>, provides a set of common list
manipulation functions (all prepended with '-', hence the name).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dash</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb93b49e" class="outline-4">
<h4 id="orgb93b49e"><span class="section-number-4">2.4.2.</span> Delight</h4>
<div class="outline-text-4" id="text-2-4-2">
<p>
The mode line can get pretty busy showing all of the package
names. <a href="https://www.gnu.org/software/emacs/manual/html_node/use-package/Delight.html">Delight</a> helps tone it down by removing some packages from
showing up, or changing their name to something shorter.
</p>

<p>
In <code>use-package</code> delcarations, I use the <code>:delight</code> keyword to set a
string to represent the package. It is also possible to provide
elisp for evaluation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">delight</span> <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org65e0a76" class="outline-4">
<h4 id="org65e0a76"><span class="section-number-4">2.4.3.</span> Hydra</h4>
<div class="outline-text-4" id="text-2-4-3">
<p>
Sometimes it is useful to go into a <i>command mode</i> that lets you
quickly do a few different actions. <a href="https://github.com/abo-abo/hydra">Hydra</a> does that and more.
</p>

<p>
By defining specific <i>hydras</i>, you can group together commands with
documentation. Think of it as a mini-control-panel. I include it
here and use it elsewhere when grouping commands. (See <a href="#org5d3992f">3.1.2.1</a>
for an example)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">hydra</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb047eaa" class="outline-4">
<h4 id="orgb047eaa"><span class="section-number-4">2.4.4.</span> Seq</h4>
<div class="outline-text-4" id="text-2-4-4">
<p>
<a href="#orga9358f0">Magit</a> needs an updated <a href="https://elpa.gnu.org/packages/seq.html">seq</a>, so we can install it here. Note that
the functions below unload the library if already loaded, and then
does the correct install.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #8e908c; font-style: italic;">;;; </span><span style="color: #8e908c; font-style: italic;">Take care of the seq dependency</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">+elpaca-unload-seq</span> <span style="color: #3e999f;">(</span>e<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">and</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">featurep</span> '<span style="color: #4271ae;">seq</span><span style="color: #eab700;">)</span> <span style="color: #eab700;">(</span>unload-feature 'seq t<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>elpaca--continue-build e<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">+elpaca-seq-build-steps</span> <span style="color: #3e999f;">()</span>
  <span style="color: #3e999f;">(</span>append <span style="color: #eab700;">(</span>butlast <span style="color: #718c00;">(</span><span style="color: #718c00;">if</span> <span style="color: #4271ae;">(</span>file-exists-p <span style="color: #4d4d4c;">(</span>expand-file-name <span style="color: #3e999f;">"seq"</span> elpaca-builds-directory<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
                       elpaca--pre-built-steps elpaca-build-steps<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
          <span style="color: #eab700;">(</span>list '+elpaca-unload-seq 'elpaca--activate-package<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">seq</span> <span style="color: #8959a8;">:ensure</span> `<span style="color: #3e999f;">(</span>seq <span style="color: #8959a8;">:build</span> ,<span style="color: #eab700;">(</span>+elpaca-seq-build-steps<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #8e908c; font-style: italic;">;;; </span><span style="color: #8e908c; font-style: italic;">Wait for this to be processed before packages that depend on it</span>
<span style="color: #4d4d4c;">(</span>elpaca-wait<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orga2a095e" class="outline-2">
<h2 id="orga2a095e"><span class="section-number-2">3.</span> Settings</h2>
<div class="outline-text-2" id="text-3">
<p>
The sections here contain mostly settings that configure keymaps,
command launchers, built-in features, and other details for
day-to-day life.
</p>
</div>

<div id="outline-container-orgd03c9cc" class="outline-3">
<h3 id="orgd03c9cc"><span class="section-number-3">3.1.</span> Keys</h3>
<div class="outline-text-3" id="text-3-1">
<p>
These sections contain setting related to keys and keymaps.
</p>
</div>

<div id="outline-container-orgbc8eada" class="outline-4">
<h4 id="orgbc8eada"><span class="section-number-4">3.1.1.</span> Binding Keys</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
For binding keys, I use the <a href="https://github.com/jwiegley/use-package/blob/master/bind-key.el">bind-key</a> package. Not only does it
easily bind keys, but it does so with some nice features.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-keys</span> <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-h B"</span> . describe-personal-keybindings<span style="color: #eab700;">)</span>
             <span style="color: #eab700;">(</span><span style="color: #3e999f;">"&lt;f7&gt;"</span>  . <span style="color: #718c00;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #4271ae;">()</span> <span style="color: #4271ae;">(</span><span style="color: #718c00;">interactive</span> <span style="color: #4d4d4c;">(</span>find-file custom-file<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
By using <code>bind-key</code>, you can specify the keystrokes that invoke a
command. In the example above, we bind functions to the global key
map. Note that in later settings, there are also examples of
mapping keys within local keymaps.
</p>

<p>
If you also want to override any possible minor-mode bindings of
the same keys, you can use <code>bind-key*</code> instead.
</p>

<p>
There is also an <code>unbind-key</code> to, of course, remove any binding.
</p>

<p>
The real kicker is that it will keep track of these bindings and
let you see a summary of your customizations with
</p>

<pre class="example">
M-x describe-personal-keybindings
</pre>


<p>
This is bound to <code>C-h B</code> above.
</p>

<p>
As of emacs 28.1, there is a setting to group bindings into an
outline format. Use the following settings with <code>M-x
    describe-bindings</code> or <code>C-h b</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> describe-bindings-outline t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org16a060a" class="outline-4">
<h4 id="org16a060a"><span class="section-number-4">3.1.2.</span> Personal Keymaps</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
The following settings are inspired from
<a href="http://endlessparentheses.com/the-toggle-map-and-wizardry.html">http://endlessparentheses.com/the-toggle-map-and-wizardry.html</a>.
</p>
</div>

<ol class="org-ol">
<li><a id="org5d3992f"></a>Toggle Map<br />
<div class="outline-text-5" id="text-3-1-2-1">
<p>
This toggle map shows the current <i>toggleable</i> settings with
shortcut keys for enabling. The amaranth color makes this buffer
stay around until I press <code>q</code>.
</p>

<p>
What are these settings?
</p>

<table id="org468378a" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> Toggle Map Functions</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>c</code></td>
<td class="org-left"><code>column-number-mode</code></td>
<td class="org-left">Toggle column number display in the modeline</td>
</tr>

<tr>
<td class="org-left"><code>e</code></td>
<td class="org-left"><code>toggle-debug-on-error</code></td>
<td class="org-left">Enter debugger on error</td>
</tr>

<tr>
<td class="org-left"><code>u</code></td>
<td class="org-left"><code>toggle-debug-on-quit</code></td>
<td class="org-left">Enter debugger on <code>C-g</code></td>
</tr>

<tr>
<td class="org-left"><code>f</code></td>
<td class="org-left"><code>auto-fill-mode</code></td>
<td class="org-left">Automatic line breaking</td>
</tr>

<tr>
<td class="org-left"><code>t</code></td>
<td class="org-left"><code>toggle-truncate-lines</code></td>
<td class="org-left">Truncate long lines in the buffer</td>
</tr>

<tr>
<td class="org-left"><code>r</code></td>
<td class="org-left"><code>dired-toggle-read-only</code></td>
<td class="org-left">Read-only mode</td>
</tr>

<tr>
<td class="org-left"><code>w</code></td>
<td class="org-left"><code>whitespace-mode</code></td>
<td class="org-left">Whitespace visualization</td>
</tr>

<tr>
<td class="org-left"><code>b</code></td>
<td class="org-left"><code>orgtbl-mode</code></td>
<td class="org-left">Use org table minor mode (non-org buffers)</td>
</tr>

<tr>
<td class="org-left"><code>x</code></td>
<td class="org-left"><code>bnb/transparency-next</code></td>
<td class="org-left">Cycle forward through transparency settings</td>
</tr>

<tr>
<td class="org-left"><code>X</code></td>
<td class="org-left"><code>bnb/transparency-previous</code></td>
<td class="org-left">Cycle backward through transparency settings</td>
</tr>

<tr>
<td class="org-left"><code>B</code></td>
<td class="org-left"><code>display-battery-mode</code></td>
<td class="org-left">Show battery info in modeline</td>
</tr>

<tr>
<td class="org-left"><code>l</code></td>
<td class="org-left"><code>hl-line-mode</code></td>
<td class="org-left">Highlight current line</td>
</tr>

<tr>
<td class="org-left"><code>n</code></td>
<td class="org-left"><code>linum-mode</code></td>
<td class="org-left">Absolute ine numbers</td>
</tr>

<tr>
<td class="org-left"><code>N</code></td>
<td class="org-left"><code>linum-relative-toggle</code></td>
<td class="org-left">Relative line numbers</td>
</tr>

<tr>
<td class="org-left"><code>m</code></td>
<td class="org-left"><code>bnb/hide-mode-line-mode</code></td>
<td class="org-left">Toggle mode line</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defmacro</span> <span style="color: #f5871f;">toggle-setting-string</span> <span style="color: #3e999f;">(</span>setting<span style="color: #3e999f;">)</span>
  `<span style="color: #3e999f;">(</span><span style="color: #718c00;">if</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">and</span> <span style="color: #718c00;">(</span>boundp ',setting<span style="color: #718c00;">)</span> ,setting<span style="color: #eab700;">)</span> '<span style="color: #eab700;">[</span>x<span style="color: #eab700;">]</span> '<span style="color: #eab700;">[</span>_<span style="color: #eab700;">]</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-key</span>
   <span style="color: #3e999f;">"C-x t"</span>
   <span style="color: #eab700;">(</span><span style="color: #718c00;">defhydra</span> hydra-toggle <span style="color: #718c00;">(</span><span style="color: #8959a8;">:color</span> amaranth<span style="color: #718c00;">)</span>
     <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">    _c_ column-number : %(toggle-setting-string column-number-mode)  _b_ orgtbl-mode    : %(toggle-setting-string orgtbl-mode)</span>
<span style="color: #8959a8;">    _e_ debug-on-error: %(toggle-setting-string debug-on-error)  _B_ battery-mode   : %(toggle-setting-string display-battery-mode)  </span>
<span style="color: #8959a8;">    _u_ debug-on-quit : %(toggle-setting-string debug-on-quit)  _l_ highlight-line : %(toggle-setting-string hl-line-mode)  </span>
<span style="color: #8959a8;">    _f_ auto-fill     : %(toggle-setting-string auto-fill-function)  _n_ line-numbers   : %(toggle-setting-string linum-mode)</span>
<span style="color: #8959a8;">    _t_ truncate-lines: %(toggle-setting-string truncate-lines)  _x_/_X_ trans         : %(identity bnb/transparency)</span>
<span style="color: #8959a8;">    _r_ read-only     : %(toggle-setting-string buffer-read-only)</span>
<span style="color: #8959a8;">    _w_ whitespace    : %(toggle-setting-string whitespace-mode)</span>
<span style="color: #8959a8;">    _q_ quit</span>
<span style="color: #8959a8;">    "</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"c"</span> column-number-mode nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"e"</span> toggle-debug-on-error nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"u"</span> toggle-debug-on-quit nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"f"</span> auto-fill-mode nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"t"</span> toggle-truncate-lines nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"r"</span> dired-toggle-read-only nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"w"</span> whitespace-mode nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"b"</span> orgtbl-mode nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"x"</span> bnb/transparency-next nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"B"</span> display-battery-mode nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"X"</span> bnb/transparency-previous nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"l"</span> hl-line-mode nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"n"</span> linum-mode nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"m"</span> bnb/hide-mode-line-mode nil<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"q"</span> nil<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgacb58a8"></a>Elisp Maps<br />
<div class="outline-text-5" id="text-3-1-2-2">
<p>
Here are some nice-to-have features when in <i>elisp-mode</i>.
</p>

<table id="orgbe0d929" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> Elisp Map Functions</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>b</code></td>
<td class="org-left"><code>eval-buffer</code></td>
<td class="org-left">Evaluate entire buffer</td>
</tr>

<tr>
<td class="org-left"><code>e</code></td>
<td class="org-left"><code>toggle-debug-on-error</code></td>
<td class="org-left">Start the debugger on error</td>
</tr>

<tr>
<td class="org-left"><code>f</code></td>
<td class="org-left"><code>emacs-lisp-byte-compile-and-load</code></td>
<td class="org-left">Byte compile then load file</td>
</tr>

<tr>
<td class="org-left"><code>r</code></td>
<td class="org-left"><code>eval-region</code></td>
<td class="org-left">Evaluate region</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-key</span>
   <span style="color: #3e999f;">"C-c e"</span>
   <span style="color: #eab700;">(</span><span style="color: #718c00;">defhydra</span> hydra-elisp-cmds <span style="color: #718c00;">(</span><span style="color: #8959a8;">:color</span> blue<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"b"</span> eval-buffer <span style="color: #3e999f;">"eval buffer"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"e"</span> toggle-debug-on-error <span style="color: #3e999f;">"debug-on-error"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"f"</span> emacs-lisp-byte-compile-and-load <span style="color: #3e999f;">"byte-compile-and-load"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"r"</span> eval-region <span style="color: #3e999f;">"eval-region"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"q"</span> nil<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
   emacs-lisp-mode-map<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
There is one block for execuing items and another for looking up
specific <code>elisp</code> help.
</p>
</div>
</li>

<li><a id="orga64b8d0"></a>Whitespace<br />
<div class="outline-text-5" id="text-3-1-2-3">
<p>
This mode (used in the keymap above) toggles a mode that shows
the different whitespace in a buffer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">whitespace</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>whitespace-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>whitespace-line-column nil<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">" &#128962;"</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org5c8bd75"></a>Deletion<br />
<div class="outline-text-7" id="text-3-1-2-3-0-1">
<p>
By default, <code>M-\</code> performs <code>delete-horizontal-space</code> and will
consume all of the whitespace present.
</p>

<p>
I'd like it to be smart and leave one or no spaces if
possible. The <code>fixup-whitespace</code> function will do that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-k"</span> 'fixup-whitespace<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>

<li><a id="org38d355e"></a>Scroll window up/down<br />
<div class="outline-text-6" id="text-3-1-2-3-1">
<p>
In addition to moving the cursor, it is also interesting to
scroll the screen (without moving the cursor with respect to the
frame).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/scroll-up-1</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Scroll up by one line."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>cua-scroll-up 1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/scroll-down-1</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Scroll down by one line."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>cua-scroll-down 1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'bind-key
    <span style="color: #eab700;">(</span><span style="color: #718c00;">bind-keys</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"M-n"</span> . bnb/scroll-up-1<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"M-p"</span> . bnb/scroll-down-1<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgaf37466"></a>Align Regexp<br />
<div class="outline-text-6" id="text-3-1-2-3-2">
<p>
When selecting a region, a quick trip to <code>align-regexp</code> can align
all of that nasty text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'bind-key
    <span style="color: #eab700;">(</span><span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"C-c TAB"</span> 'align-regexp<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org4dfd2c0"></a>Kill current buffer<br />
<div class="outline-text-5" id="text-3-1-2-4">
<p>
Another great tip from <a href="http://pragmaticemacs.com/emacs/dont-kill-buffer-kill-this-buffer-instead/">Pragmatic Emacs</a>, use <code>kill-this-buffer</code> to
kill the current buffer instead of asking which one.  I'm not
overriding the <code>C-x k</code> default, but added a <code>C-x C-k</code> alternative.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/kill-this-buffer</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Kill the current buffer"</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>kill-buffer <span style="color: #eab700;">(</span>current-buffer<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-keys</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x C-k"</span> . bnb/kill-this-buffer<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org9751a02" class="outline-4">
<h4 id="org9751a02"><span class="section-number-4">3.1.3.</span> Super keys</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
I like to be able to use the command (or super or hyper) keys for
shortcuts. I need to take care to not interfere with the built-in
operating system shortcuts or my bindings will not work.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> mac-function-modifier 'hyper
      mac-pass-command-to-system nil
      mac-right-option-modifier 'super
      mac-right-command-modifier 'hyper
      mac-right-control-modifier 'hyper
      mac-command-modifier 'meta
      mac-control-modifier 'ctrl
      mac-option-modifier 'none<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Note that the right <code>option</code> and <code>command</code> keys will pass through to
the system. This is especially cool for the <code>option</code> key on a mac
that lets insert special characters directly. (E.g. √° or ‚àë or ¬Æ)
</p>

<p>
Inspiration for the keys comes from <a href="https://www.wisdomandwonder.com/article/10146/every-emacser-can-use-hyper-on-every-usb-hid-keyboard">wisdom and wonder</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-org49bc1f7" class="outline-3">
<h3 id="org49bc1f7"><span class="section-number-3">3.2.</span> Command Launchers</h3>
<div class="outline-text-3" id="text-3-2">
<p>
This section holds the settings for my two main command launchers:
hydra and vertico.
</p>
</div>

<div id="outline-container-org1cb815b" class="outline-4">
<h4 id="org1cb815b"><span class="section-number-4">3.2.1.</span> Hydra</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Sometimes it is useful to go into a <i>command mode</i> that lets you
quickly do a few different actions. Hydra does that and more.
</p>

<p>
By defining specific <i>hydras</i>, you can group together commands with
documentation. Think of it as a mini-control-panel. I include it
here and use it elsewhere when grouping commands. (See <a href="#org5d3992f">3.1.2.1</a>
for an example)
</p>

<p>
The setup is in <a href="#org1cb815b">Hydra</a> so that I can use it with the previous
keybinding commands.
</p>
</div>
</div>

<div id="outline-container-org206b335" class="outline-4">
<h4 id="org206b335"><span class="section-number-4">3.2.2.</span> Vertico</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Or <a href="https://github.com/minad/vertico">VERTical Interactive COmpletion</a>, is my preferred completion
interface.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">vertico</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span> <span style="color: #3e999f;">(</span>vertico-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org579eb4a"></a>Vertico Directory<br />
<div class="outline-text-5" id="text-3-2-2-1">
<p>
The <a href="https://github.com/minad/vertico/blob/main/extensions/vertico-directory.el">directory</a> extension navigates directories like <code>Ido</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Configure directory extension.</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">vertico-directory</span>
  <span style="color: #8959a8;">:after</span> vertico
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">More convenient directory navigation commands</span>
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> vertico-map
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"RET"</span>   . vertico-directory-enter<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"DEL"</span>   . vertico-directory-delete-char<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-DEL"</span> . vertico-directory-delete-word<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"?"</span>     . minibuffer-completion-help<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Tidy shadowed file names</span>
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span>rfn-eshadow-update-overlay . vertico-directory-tidy<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org0cbaf5e"></a>Embark<br />
<div class="outline-text-5" id="text-3-2-2-2">
<p>
The <a href="https://github.com/oantolin/embark">embark</a> package helps find actions relevant to what is near
the point. With <code>C-.</code>, a menu pops up with actions to choose from.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">embark</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-."</span> . embark-act<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-;"</span> . embark-dwim<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x ."</span> . embark-act<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x ;"</span> . embark-dwim<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-h C-b"</span> . embark-bindings<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> prefix-help-command #'embark-prefix-help-command<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>add-to-list 'display-buffer-alist
               '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\'\\*Embark Collect </span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">Live</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">Comletions</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">\\*"</span>
                 nil
                 <span style="color: #718c00;">(</span>window-parameters <span style="color: #4271ae;">(</span>mode-line-format . none<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">embark-consult</span>
  <span style="color: #8959a8;">:after</span> <span style="color: #3e999f;">(</span>emark consult<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>embark-collect-mode . consult-preview-at-point-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd30be0d"></a>Orderless<br />
<div class="outline-text-5" id="text-3-2-2-3">
<p>
Easy completion is possible with <a href="https://github.com/oantolin/orderless">Orderless.</a> This completion
framework lets users utilize matching elements separated by
spaces.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">orderless</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>completion-styles '<span style="color: #eab700;">(</span>orderless basic<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>completion-category-overrides '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>file <span style="color: #4271ae;">(</span>styles basic partial-completion<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Within the matching framework, a few <i>dispatchers</i> can modify the
subsequent matchers. The following table summarizes these
elements.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Character</th>
<th scope="col" class="org-left">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>!</code></td>
<td class="org-left">Does <i>not</i> match following literal</td>
</tr>

<tr>
<td class="org-left"><code>,</code></td>
<td class="org-left">Matches initial characters</td>
</tr>

<tr>
<td class="org-left"><code>=</code></td>
<td class="org-left">Forces a literal match</td>
</tr>

<tr>
<td class="org-left"><code>~</code></td>
<td class="org-left">Uses the flex matching</td>
</tr>

<tr>
<td class="org-left"><code>%</code></td>
<td class="org-left">Matches while ignoring diacritics</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org1d0a9ee"></a>Consult<br />
<div class="outline-text-5" id="text-3-2-2-4">
<p>
Rounding out the completion helpers, <a href="https://github.com/minad/consult">Consult</a> provides specific
functions that help complete actions or find elements. The
bindings are supplied below.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">consult</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">C-c bindings</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c h"</span> . consult-history<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c m"</span> . consult-mode-command<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c b"</span> . consult-bookmark<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c k"</span> . consult-macro<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c o"</span> . consult-outline<span style="color: #eab700;">)</span>
         <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">C-x bindings</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x b"</span>   . consult-buffer<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x 4 b"</span> . consult-buffer-other-window<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x 5 b"</span> . consult-buffer-other-frame<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x r x"</span> . consult-register<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x r b"</span> . consult-bookmark<span style="color: #eab700;">)</span>
         <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Custom M bindings</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-g o"</span> . consult-ouline<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-y"</span>   . consult-yank-pop<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-i"</span>   . consult-imenu<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">bnb/org-agendas</span>
    <span style="color: #eab700;">(</span>list <span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Org Agenda Files"</span>
          <span style="color: #8959a8;">:category</span> 'file
          <span style="color: #8959a8;">:narrow</span>   ?a
          <span style="color: #8959a8;">:face</span>     'consult-file
          <span style="color: #8959a8;">:history</span>  'file-name-history
          <span style="color: #8959a8;">:action</span>   #'consult--file-action
          <span style="color: #8959a8;">:items</span>    #'org-agenda-files<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'consult-buffer-sources 'bnb/org-agendas 'append<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>fset 'multi-occur #'consult-multi-occur<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
One of the more interesting feaures is virtual buffers. When
viewing buffers, recent files, bookmarks, and similar, the
interface shows the buffer as you are selecting so that you can
have the right file context for the line you are selecting.
</p>

<p>
The <code>consult-buffer</code> command is powerful and has specific key
sequences that can narrow the buffer list in useful ways.  These
are summarized in the following list.
</p>

<dl class="org-dl">
<dt><code>b &lt;SPC&gt;</code></dt><dd>buffers</dd>
<dt><code>&lt;SPC&gt;</code></dt><dd>hidden buffers</dd>
<dt><code>* &lt;SPC&gt;</code></dt><dd>modified buffers</dd>
<dt><code>f &lt;SPC&gt;</code></dt><dd>files</dd>
<dt><code>r &lt;SPC&gt;</code></dt><dd>file registers</dd>
<dt><code>m &lt;SPC&gt;</code></dt><dd>bookmarks</dd>
<dt><code>p &lt;SPC&gt;</code></dt><dd>project</dd>
</dl>


<p>
In the code block above, I add one more, <code>a &lt;SPC&gt;</code> that will show
the available <code>org-agenda-files</code> for easy selection.
</p>
</div>
</li>

<li><a id="orgb17e65b"></a>Marginalia<br />
<div class="outline-text-5" id="text-3-2-2-5">
<p>
The great thing about vertical completion is the extra horizontal
space. <a href="https://github.com/minad/marginalia">Marginalia</a> makes use of this extra space by providing
relevant extra information about each element on the line.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">marginalia</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> minibuffer-local-map
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-A"</span> . marginalia-cycle<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>marginalia-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> marginalia-annotators
        '<span style="color: #eab700;">(</span>marginalia-annotators-heavy marginalia-annotators-light<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org10dff39" class="outline-3">
<h3 id="org10dff39"><span class="section-number-3">3.3.</span> Expansion &amp; Completion</h3>
<div class="outline-text-3" id="text-3-3">
<p>
This section defines interations with text expansion systems.
</p>
</div>

<div id="outline-container-org435fc7a" class="outline-4">
<h4 id="org435fc7a"><span class="section-number-4">3.3.1.</span> Abbrev</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
The following block is courtesy of <a href="http://endlessparentheses.com/ispell-and-abbrev-the-perfect-auto-correct.html">Endless Parentheses</a>. For
regular misspellings, we can do <code>ispell</code> and then make an
abbreviation for future corrections.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/ispell-word-then-abbrev</span> <span style="color: #3e999f;">(</span>p<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Call `</span><span style="color: #4271ae;">ispell-word</span><span style="color: #8959a8;">'. Then create an abbrev for the correction</span>
<span style="color: #8959a8;">    made. With prefix P, create local abbrev. Otherwise, it will be</span>
<span style="color: #8959a8;">    global."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>bef <span style="color: #4271ae;">(</span>downcase <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">or</span> <span style="color: #3e999f;">(</span>thing-at-point 'word<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">""</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span> aft<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>call-interactively 'ispell-word<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> aft <span style="color: #718c00;">(</span>downcase <span style="color: #4271ae;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>thing-at-point 'word<span style="color: #4d4d4c;">)</span> <span style="color: #3e999f;">""</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">unless</span> <span style="color: #718c00;">(</span>string= aft bef<span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>message <span style="color: #3e999f;">"\"%s\" now expands to \"%s\" %sally"</span>
               bef aft <span style="color: #4271ae;">(</span><span style="color: #718c00;">if</span> p <span style="color: #3e999f;">"loc"</span> <span style="color: #3e999f;">"glob"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>define-abbrev
        <span style="color: #4271ae;">(</span><span style="color: #718c00;">if</span> p global-abbrev-table local-abbrev-table<span style="color: #4271ae;">)</span>
        bef aft<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">abbrev</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#9862;"</span>
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x C-i"</span> . bnb/ispell-word-then-abbrev<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> save-abbrevs t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq-default</span> abbrev-mode t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeffaac9" class="outline-4">
<h4 id="orgeffaac9"><span class="section-number-4">3.3.2.</span> Cape</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
"Let your completions fly!" &#x2013; <a href="https://github.com/minad/cape">cape.el</a>
</p>

<p>
Cape provies a set of completion backends avaialble right on bound
keys. It works with <a href="#orga0077e9">Corfu</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Add extensions</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">cape</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Bind dedicated completion commands</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Alternative prefix keys: C-c p, M-p, M-+, ...</span>
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p p"</span> . completion-at-point<span style="color: #eab700;">)</span> <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">capf</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p t"</span> . complete-tag<span style="color: #eab700;">)</span>        <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">etags</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p d"</span> . cape-dabbrev<span style="color: #eab700;">)</span>        <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">or dabbrev-completion</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p h"</span> . cape-history<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p f"</span> . cape-file<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p k"</span> . cape-keyword<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p s"</span> . cape-elisp-symbol<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p e"</span> . cape-elisp-block<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p a"</span> . cape-abbrev<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p l"</span> . cape-line<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p w"</span> . cape-dict<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p :"</span> . cape-emoji<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p \\"</span> . cape-tex<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p _"</span> . cape-tex<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p ^"</span> . cape-tex<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p &amp;"</span> . cape-sgml<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c p r"</span> . cape-rfc1345<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Add to the global default value of `</span><span style="color: #4271ae; font-style: italic;">completion-at-point-functions</span><span style="color: #8e908c; font-style: italic;">' which is</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">used by `</span><span style="color: #4271ae; font-style: italic;">completion-at-point</span><span style="color: #8e908c; font-style: italic;">'.  The order of the functions matters, the</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">first function returning a result wins.  Note that the list of buffer-local</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">completion functions takes precedence over the global list.</span>
  <span style="color: #3e999f;">(</span>add-to-list 'completion-at-point-functions #'cape-dabbrev<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'completion-at-point-functions #'cape-file<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'completion-at-point-functions #'cape-elisp-block<span style="color: #3e999f;">)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-history)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-keyword)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-tex)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-sgml)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-rfc1345)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-abbrev)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-dict)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-elisp-symbol)</span>
  <span style="color: #8e908c; font-style: italic;">;;</span><span style="color: #8e908c; font-style: italic;">(add-to-list 'completion-at-point-functions #'cape-line)</span>
  <span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1bc9c88" class="outline-4">
<h4 id="org1bc9c88"><span class="section-number-4">3.3.3.</span> Company</h4>
<div class="outline-text-4" id="text-3-3-3">
<p>
<a href="http://company-mode.github.io">Company Mode</a> is an in-buffer completion system. To get started, I
need to load the mode and bind some keys.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">company</span>
  <span style="color: #8959a8;">:disabled</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> company-mode
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>global-company-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-&lt;tab&gt;"</span> . company-complete-common-or-cycle<span style="color: #eab700;">)</span>
   <span style="color: #8959a8;">:map</span> company-active-map
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-&lt;tab&gt;"</span> . company-complete-common-or-cycle<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-n"</span>     . company-select-next<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-p"</span>     . company-select-previous<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-&lt;"</span>     . company-select-first<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-&gt;"</span>     . company-select-last<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Turn off the auto downcasing of things</span>
  <span style="color: #3e999f;">(</span>company-dabbrev-downcase nil<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>company-show-numbers t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>company-tooltip-align-annotations t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>company-selection-wrap-around t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>company-tooltip-flip-when-above t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>company-dabbrev-code-everywhere t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>company-dabbrev-code-ignore-case t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga0077e9" class="outline-4">
<h4 id="orga0077e9"><span class="section-number-4">3.3.4.</span> Corfu</h4>
<div class="outline-text-4" id="text-3-3-4">
<p>
Taking in-buffer completion to the next level, <a href="https://github.com/minad/corfu">Corfu</a> gives familar
functionality with nice enhancements. It integrates with orderless
for easier searching, and has the ability to show documentation
alongside of the completion popup.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">corfu</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>corfu-auto nil<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>tab-always-indent 'complete<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> corfu-map <span style="color: #eab700;">(</span><span style="color: #3e999f;">"SPC"</span> . corfu-insert-separator<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>global-corfu-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>corfu-popupinfo-mode 1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org7311447"></a>Terminal support<br />
<div class="outline-text-5" id="text-3-3-4-1">
<p>
Because Corfu uses child frames, terminal support needs to be
added that leverages overlays for non-graphical frames.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">corfu-terminal</span>
  <span style="color: #8959a8;">:if</span> <span style="color: #3e999f;">(</span>not <span style="color: #eab700;">(</span>display-graphic-p<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> <span style="color: #3e999f;">(</span>corfu-terminal
           <span style="color: #8959a8;">:host</span> github
           <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"https://codeberg.org/akib/emacs-corfu-terminal.git"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgcf49715" class="outline-4">
<h4 id="orgcf49715"><span class="section-number-4">3.3.5.</span> Yasnippet&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-3-3-5">
<p>
Text expansion makes sense in many programming modes. <a href="https://joaotavora.github.io/yasnippet/index.html">Yasnippet</a>
comes in handy by providing a minor mode for easy expansions.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">yasnippet</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 30
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>prog-mode . yas-minor-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>text-mode . yas-minor-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>yas-reload-all<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
I also load a collection of <a href="https://github.com/AndreaCrotti/yasnippet-snippets">yasnippet snippets</a> so I don't have to
maintain my own.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">yasnippet-snippets</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge3bc916" class="outline-4">
<h4 id="orge3bc916"><span class="section-number-4">3.3.6.</span> Hippie Expand</h4>
<div class="outline-text-4" id="text-3-3-6">
<p>
Try to expand the text before point in an intelligent way. Repeat
the keypress to cycle through options.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"M-/"</span> 'hippie-expand<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgb5fcc00" class="outline-3">
<h3 id="orgb5fcc00"><span class="section-number-3">3.4.</span> Built-in Features</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Emacs comes with some nice batteries. This section configures my
favorites.
</p>
</div>

<div id="outline-container-orgb3c7e9f" class="outline-4">
<h4 id="orgb3c7e9f"><span class="section-number-4">3.4.1.</span> Backups</h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
Sensible backup settings from <a href="https://www.emacswiki.org/emacs/BackupDirectory">https://www.emacswiki.org/emacs/BackupDirectory</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> backup-by-copying t
      create-lockfiles nil
      backup-directory-alist '<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">".*"</span> . <span style="color: #3e999f;">"~/.emacs.d/.saves"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
      <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">auto-save-file-name-transforms `((".*" "~/.saves" t))</span>
      kill-buffer-delete-auto-save-files t
      delete-old-versions t
      kept-new-versions 6
      kept-old-versions 2
      version-control t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Here's a quick rundown of the settings:
</p>

<dl class="org-dl">
<dt><code><code>backup-by-copying</code></code></dt><dd>Use copying to create backups when <code>t</code></dd>
<dt><code><code>create-lockfiles</code></code></dt><dd>Don't use lockfiles if <code>nil</code></dd>
<dt><code><code>backup-directory-alist</code></code></dt><dd>List of regexp/location pairs of where to backup files</dd>
<dt><code><code>kill-buffer-delete-auto-save-files</code></code></dt><dd>Killing a buffer with an auto-save file will prompt for deletion</dd>
<dt><code><code>delete-old-versions</code></code></dt><dd>Delete excess backups silently if <code>t</code></dd>
<dt><code><code>kept-new-versions</code></code></dt><dd>Number of newest versions to keep</dd>
<dt><code><code>kept-old-versions</code></code></dt><dd>Number of oldest versions to keep</dd>
<dt><code><code>version-control</code></code></dt><dd>When <code>t</code>, make numeric backup versions always</dd>
</dl>
</div>
</div>

<div id="outline-container-org6590a54" class="outline-4">
<h4 id="org6590a54"><span class="section-number-4">3.4.2.</span> Default File encoding</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
I like to have the files be <code>utf-8</code> by default. Do
let me know if I shouldn't do this, will you?
</p>

<p>
Set <code>utf-8</code> for all coding systems except for the clipboard on
windows. That one gets <code>utf-16le</code> to be compatible.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>prefer-coding-system       'utf-8<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>set-default-coding-systems 'utf-8<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>set-terminal-coding-system 'utf-8<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>set-keyboard-coding-system 'utf-8<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>set-language-environment 'utf-8<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> buffer-file-coding-system 'utf-8
      x-select-request-type '<span style="color: #3e999f;">(</span>UTF8_STRING COMPOUND_TEXT TEXT STRING<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">MS Windows clipboard is UTF-16LE</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">when</span> <span style="color: #3e999f;">(</span>eq system-type 'windows-nt<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>set-clipboard-coding-system 'utf-16le-dos<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org70ee5fb" class="outline-4">
<h4 id="org70ee5fb"><span class="section-number-4">3.4.3.</span> Native Compilation</h4>
<div class="outline-text-4" id="text-3-4-3">
<p>
Emacs 28.1 introduced <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Native-Compilation.html">Native Compilation</a>. When this feature is
available, I use it to compile the packages.
</p>

<p>
There are also two settings to make the process slightly more
verbose and ensure that warnings and erros are bubbled up from any
async processes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">if</span> <span style="color: #3e999f;">(</span>native-comp-available-p<span style="color: #3e999f;">)</span>
    <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> package-native-compile t
          native-comp-verbose 1
          native-comp-async-report-warnings-errors t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgdb068f1" class="outline-4">
<h4 id="orgdb068f1"><span class="section-number-4">3.4.4.</span> Path</h4>
<div class="outline-text-4" id="text-3-4-4">
<p>
Sometimes Emacs' idea of path differs from the shell. The package
<a href="https://github.com/purcell/exec-path-from-shell">exec-path-from-shell</a> seeks to bring those in line with each other.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">exec-path-from-shell</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">when</span> <span style="color: #eab700;">(</span>memq window-system '<span style="color: #718c00;">(</span>mac ns x<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>exec-path-from-shell-initialize<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org41c9964" class="outline-4">
<h4 id="org41c9964"><span class="section-number-4">3.4.5.</span> Server</h4>
<div class="outline-text-4" id="text-3-4-5">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html">Using Emacs as a server</a> is a great way to keep the power
responsive.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">when</span> <span style="color: #3e999f;">(</span><span style="color: #718c00;">and</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">or</span> <span style="color: #718c00;">(</span>eq system-type 'windows-nt<span style="color: #718c00;">)</span> <span style="color: #718c00;">(</span>eq system-type 'darwin<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
           <span style="color: #eab700;">(</span>not <span style="color: #718c00;">(</span><span style="color: #718c00;">and</span> <span style="color: #4271ae;">(</span>boundp 'server-clients<span style="color: #4271ae;">)</span> server-clients<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
           <span style="color: #eab700;">(</span>not <span style="color: #718c00;">(</span>daemonp<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>server-start<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd2937b8" class="outline-4">
<h4 id="orgd2937b8"><span class="section-number-4">3.4.6.</span> Sounds</h4>
<div class="outline-text-4" id="text-3-4-6">
<p>
I dislike the bell ringing when I hit <code>C-g</code>. To silence the bell,
just set the <code>ring-bell-function</code> to <code>nil</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> visual-bell nil
      ring-bell-function `<span style="color: #3e999f;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #eab700;">()</span> nil<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org356f8da" class="outline-4">
<h4 id="org356f8da"><span class="section-number-4">3.4.7.</span> Recentf</h4>
<div class="outline-text-4" id="text-3-4-7">
<p>
I enable emacs remembering recently open files. For my setup, this
feeds into the candidates for <a href="#org1d0a9ee">Consult</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span>recentf-mode t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc7108fb" class="outline-4">
<h4 id="orgc7108fb"><span class="section-number-4">3.4.8.</span> Timezones</h4>
<div class="outline-text-4" id="text-3-4-8">
<p>
For <code>world-clock</code>, it's best to define the time zones most relevant
to me. For compatible time zones, check <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">this handy list</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> zoneinfo-style-world-list
      '<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"America/New_York"</span> <span style="color: #3e999f;">"CBUS"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"America/Los_Angeles"</span> <span style="color: #3e999f;">"San Fran"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Europe/London"</span> <span style="color: #3e999f;">"London"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Australia/Sydney"</span> <span style="color: #3e999f;">"Sydney"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Asia/Kolkata"</span> <span style="color: #3e999f;">"Bangalore"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2e6fbee" class="outline-4">
<h4 id="org2e6fbee"><span class="section-number-4">3.4.9.</span> Isearch</h4>
<div class="outline-text-4" id="text-3-4-9">
<p>
Folding quotes will allow isearch to find <i>similar</i> characters to
the ones being searched for.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">New in Emacs 29</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> isearch-fold-quotes-mode t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org502dcc8" class="outline-3">
<h3 id="org502dcc8"><span class="section-number-3">3.5.</span> Minibuffer</h3>
<div class="outline-text-3" id="text-3-5">
<p>
This section holds any <code>minibuffer</code> settings.
</p>
</div>

<div id="outline-container-orgd622298" class="outline-4">
<h4 id="orgd622298"><span class="section-number-4">3.5.1.</span> Minibuffer History</h4>
<div class="outline-text-4" id="text-3-5-1">
<p>
Let's get rid of duplicates in the minibuffer history.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> history-delete-duplicates t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
This saves the minibuffer histories to preserve across emacs
sessions.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> savehist-additional-variables '<span style="color: #eab700;">(</span>search-ring regexp-search-ring<span style="color: #eab700;">)</span>
        savehist-file <span style="color: #3e999f;">"~/.emacs.d/savehist"</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>savehist-mode t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org522a4f6" class="outline-3">
<h3 id="org522a4f6"><span class="section-number-3">3.6.</span> Movement</h3>
<div class="outline-text-3" id="text-3-6">
<p>
Getting around takes a little tweaking. This section holds the
details on how movement is defined for me.
</p>
</div>

<div id="outline-container-orgabac837" class="outline-4">
<h4 id="orgabac837"><span class="section-number-4">3.6.1.</span> Ace Utilities</h4>
<div class="outline-text-4" id="text-3-6-1">
<p>
The Ace (and subsequent Avy) packages aid in jumping the cursor to
the right place in the buffer.
</p>
</div>

<ol class="org-ol">
<li><a id="orgc633edc"></a>Ace Flyspell<br />
<div class="outline-text-5" id="text-3-6-1-1">
<p>
Turn on <a href="https://github.com/cute-jumper/ace-flyspell">ace-flyspell</a> when flyspell is enabled. This mode helps
jump between the errors (misspellings) discovered by flyspell.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-flyspell</span>
  <span style="color: #8959a8;">:after</span> hydra
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>ace-flyspell-setup<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-s"</span> . hydra-fly/body<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>flyspell-mode . ace-flyspell-setup<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defhydra</span> hydra-fly <span style="color: #eab700;">(</span><span style="color: #8959a8;">:color</span> pink<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"n"</span> flyspell-goto-next-error <span style="color: #3e999f;">"Next error"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"c"</span> ispell-word <span style="color: #3e999f;">"Correct word"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"j"</span> ace-flyspell-jump-word <span style="color: #3e999f;">"Jump word"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"."</span> ace-flyspell-dwim <span style="color: #3e999f;">"dwim"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"Quit"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>


<li><a id="orgdb98ec1"></a>Ace Isearch<br />
<div class="outline-text-5" id="text-3-6-1-2">
<p>
Supercharge <code>isearch</code> to vary its behavior depending on the
input. The <code>C-'</code> key let's me jump to the isearch match easily
with the <code>ace-jump</code> methods.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-isearch</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> isearch-mode-map
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-'"</span> . ace-isearch-jump-during-isearch<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:delight</span> ace-isearch-mode
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>global-ace-isearch-mode t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> ace-isearch-input-length 8<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org4c2aa00"></a>Ace Link<br />
<div class="outline-text-5" id="text-3-6-1-3">
<p>
In modes with links, use <code>o</code> to jump to links. Map <code>M-o</code> to do the
same in <a href="#orgf3faca8">Orgmode</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-link</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> org-mode-map <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-o"</span> . ace-link-org<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span> <span style="color: #3e999f;">(</span>ace-link-setup-default<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org1fc6861"></a>Ace Window<br />
<div class="outline-text-5" id="text-3-6-1-4">
<p>
Instead of <code>C-x o</code> traversal, <code>ace-window</code> provides numbers
for quick window access
</p>

<p>
Set the keys to something other than the default numbers. Note
that this also limits the number of windows that can be used, but
given my usage, I doubt it goes up to 'j' often.
</p>

<p>
Also, I modify the face attribute to make the window numbers large.
</p>

<p>
After reading <a href="https://github.com/abo-abo/ace-window/wiki">the wiki</a>, I supercharged the interface for <code>ace-window</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ace-window</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-SPC"</span>    . ace-window<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"&lt;f9&gt; a"</span> . ace-window<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>aw-keys '<span style="color: #eab700;">(</span>?j ?k ?l ?\; ?n ?m<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>aw-leading-char-style 'path<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>aw-dispatch-always t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>aw-dispatch-alist
   '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>?x aw-delete-window <span style="color: #3e999f;">"Ace - Delete Window"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>?c aw-swap-window   <span style="color: #3e999f;">"Ace - Swap window"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>?n aw-flip-window   <span style="color: #3e999f;">"Ace - Flip window"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>?v aw-split-window-vert <span style="color: #3e999f;">"Ace - Split Vert Window"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>?h aw-split-window-horz <span style="color: #3e999f;">"Ace - Split Horz Window"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>?m delete-other-windows <span style="color: #3e999f;">"Ace - Maximize Window"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>?b balance-windows<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">progn</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">defhydra</span> hydra-window-size <span style="color: #718c00;">(</span><span style="color: #8959a8;">:color</span> amaranth<span style="color: #718c00;">)</span>
      <span style="color: #8959a8;">"Window size"</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"h"</span> shrink-window-horizontally <span style="color: #3e999f;">"shrink horizontal"</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"j"</span> shrink-window <span style="color: #3e999f;">"shrink vertical"</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"k"</span> enlarge-window <span style="color: #3e999f;">"enlarge vertical"</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"l"</span> enlarge-window-horizontally <span style="color: #3e999f;">"enlarge horizontal"</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>

    <span style="color: #eab700;">(</span><span style="color: #718c00;">defhydra</span> hydra-window-frame <span style="color: #718c00;">(</span><span style="color: #8959a8;">:color</span> red<span style="color: #718c00;">)</span>
      <span style="color: #8959a8;">"Frame"</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"f"</span> make-frame <span style="color: #3e999f;">"new frame"</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"x"</span> delete-frame <span style="color: #3e999f;">"delete frame"</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>

    <span style="color: #eab700;">(</span><span style="color: #718c00;">defhydra</span> hydra-window-scroll <span style="color: #718c00;">(</span><span style="color: #8959a8;">:color</span> amaranth<span style="color: #718c00;">)</span>
      <span style="color: #8959a8;">"Scroll other window"</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"n"</span> scroll-other-window <span style="color: #3e999f;">"scroll"</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"p"</span> scroll-other-window-down <span style="color: #3e999f;">"scroll down"</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>

    <span style="color: #eab700;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'ace-window
      <span style="color: #718c00;">(</span><span style="color: #718c00;">progn</span>
        <span style="color: #4271ae;">(</span>add-to-list 'aw-dispatch-alist '<span style="color: #4d4d4c;">(</span>?w hydra-window-size/body<span style="color: #4d4d4c;">)</span> t<span style="color: #4271ae;">)</span>
        <span style="color: #4271ae;">(</span>add-to-list 'aw-dispatch-alist '<span style="color: #4d4d4c;">(</span>?\; hydra-window-frame/body<span style="color: #4d4d4c;">)</span> t<span style="color: #4271ae;">)</span>
        <span style="color: #4271ae;">(</span>add-to-list 'aw-dispatch-alist '<span style="color: #4d4d4c;">(</span>?o hydra-window-scroll/body<span style="color: #4d4d4c;">)</span> t<span style="color: #4271ae;">)</span>
        <span style="color: #4271ae;">(</span>set-face-attribute 'aw-leading-char-face nil <span style="color: #8959a8;">:height</span> 2.0<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgdaa2389"></a>Avy Goto<br />
<div class="outline-text-5" id="text-3-6-1-5">
<p>
Navigating to the right spot in a buffer can be done in an easy
fashion with <a href="https://github.com/abo-abo/avy">Avy</a>. The collection of <i>goto</i> functions yield a
variety of methods to select where to place the point.
</p>

<p>
In the set of mappings below, it's easy to see the <i>thing</i> you are
targeting (word, char, line), and how you are targeting it. The
how is the suffix.
</p>

<p>
A suffix of <code>1</code> means you will input one character to show the
candidates. A suffix of <code>0</code> will list all candidates without an
initial selection. A suffix of <code>2</code> means you'll input two
characters before showing candidates. Finally, a suffix of <code>timer</code>
will accept several characters and then show the candidates after
an elapsed timer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">avy</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-."</span> . avy-goto-char-timer<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-w"</span>   . avy-goto-word-1<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-/"</span>   . avy-goto-char-2<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-l"</span>   . avy-goto-line<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-d"</span>   . avy-goto-word-0<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"&lt;f9&gt; ."</span> . avy-goto-char-timer<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c g"</span> . avy-goto-word-1<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"M-g l"</span> . avy-goto-line<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"M-g ."</span> . avy-goto-char-2<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"M-g w"</span> . avy-goto-word-0<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The commands begin with the normal prefix of <code>M-g</code> for the goto
commands and use l,c and w for lines, characters and words
respectively.
</p>
</div>
</li>

<li><a id="org935f4d6"></a>Avy Zap<br />
<div class="outline-text-5" id="text-3-6-1-6">
<p>
Zap to char using avy. This is just what is sounds like. You kill
everything from point to the selected character.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">avy-zap</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"M-z"</span> . avy-zap-to-char-dwim<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"M-Z"</span> . avy-zap-up-to-char-dwim<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgf2dad87" class="outline-4">
<h4 id="orgf2dad87"><span class="section-number-4">3.6.2.</span> Errors</h4>
<div class="outline-text-4" id="text-3-6-2">
<p>
When navigating errors (output from <code>M-x compile</code> for example), this
highlights the visited error. Although named for errors, this
functionality is also used for <code>M-x occur</code> and <code>M-x rgrep</code> and others.
</p>

<p>
Within the buffer full of errors or matches, <code>M-g M-n/M-p</code> will
navigate up/down visiting the errors in a separate buffer and
highlighting the current error or match.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> next-error-message-highlight t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga610ec6" class="outline-4">
<h4 id="orga610ec6"><span class="section-number-4">3.6.3.</span> Read-only helpers</h4>
<div class="outline-text-4" id="text-3-6-3">
<p>
For read-only files, look at them in <code>view-mode</code> which will enable
vi-style navigation. In this mode, kill commands will save text,
but not remove it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">view</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#128065;"</span>
  <span style="color: #8959a8;">:init</span> <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> view-read-only t<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> view-mode-map
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"n"</span> . next-line    <span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"p"</span> . previous-line<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"j"</span> . next-line    <span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"k"</span> . previous-line<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"l"</span> . forward-char<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"h"</span> . bnb/view/h<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"q"</span> . bnb/view/q<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/view/h</span> <span style="color: #eab700;">()</span>
    <span style="color: #8959a8;">"Setup a function to go backwards a character"</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">interactive</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>forward-char -1<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/view/q</span> <span style="color: #eab700;">()</span>
    <span style="color: #8959a8;">"Setup a function to quit `view-mode`"</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">interactive</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>view-mode -1<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2c3d6e8" class="outline-4">
<h4 id="org2c3d6e8"><span class="section-number-4">3.6.4.</span> Scroll Screen Position</h4>
<div class="outline-text-4" id="text-3-6-4">
<p>
This is one of those cool finds for a problem I mostly knew that I
had. I often hit <code>C-v</code> by accident and lose my place. With the
following setting, <code>M-v</code> completely undoes the scroll leaving the
cursor back in the original position.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> scroll-preserve-screen-position 'always<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Thanks to <a href="http://irreal.org/blog/?p=3963">http://irreal.org/blog/?p=3963</a> for the tip.
</p>
</div>
</div>
</div>

<div id="outline-container-orge7fe4e1" class="outline-3">
<h3 id="orge7fe4e1"><span class="section-number-3">3.7.</span> Custom Helpers</h3>
<div class="outline-text-3" id="text-3-7">
<p>
This is a collection of code specific to how I use emacs. Some
are from different websites or other Emacs users.
</p>
</div>

<div id="outline-container-org9c2b51a" class="outline-4">
<h4 id="org9c2b51a"><span class="section-number-4">3.7.1.</span> Auto-display agenda</h4>
<div class="outline-text-4" id="text-3-7-1">
<p>
<a href="http://lists.gnu.org/archive/html/emacs-orgmode/2010-03/msg00367.html">John Weigley shows a way</a> to display the agenda after some period
of inactivity.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/jump-to-org-agenda</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Create and jump to the bnb org agenda."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>buf <span style="color: #4271ae;">(</span>get-buffer <span style="color: #3e999f;">"*Org Agenda*"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        wind<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">if</span> buf
        <span style="color: #718c00;">(</span><span style="color: #718c00;">if</span> <span style="color: #4271ae;">(</span><span style="color: #718c00;">setq</span> wind <span style="color: #4d4d4c;">(</span>get-buffer-window buf<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
            <span style="color: #4271ae;">(</span>select-window wind<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #718c00;">if</span> <span style="color: #4d4d4c;">(</span>called-interactively-p<span style="color: #4d4d4c;">)</span>
              <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">progn</span>
                <span style="color: #3e999f;">(</span>select-window <span style="color: #eab700;">(</span>display-buffer buf t t<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
                <span style="color: #3e999f;">(</span>org-fit-window-to-buffer<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-selected-window</span> <span style="color: #3e999f;">(</span>display-buffer buf<span style="color: #3e999f;">)</span>
              <span style="color: #3e999f;">(</span>org-fit-window-to-buffer<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>bnb/org-agenda-with-tip nil<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/idle-agenda</span> <span style="color: #3e999f;">(</span><span style="color: #4271ae;">&amp;optional</span> arg<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Set or cancel idle agenda timer based on [ARG]."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> bnb/iagenda
        <span style="color: #eab700;">(</span><span style="color: #718c00;">if</span> arg
            <span style="color: #718c00;">(</span>cancel-timer bnb/iagenda<span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>run-with-idle-timer 3600 t 'bnb/jump-to-org-agenda<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span>bnb/idle-agenda<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org10de967" class="outline-4">
<h4 id="org10de967"><span class="section-number-4">3.7.2.</span> Auto-indent when pasting</h4>
<div class="outline-text-4" id="text-3-7-2">
<p>
Automatically indent pasted blocks of text.
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">dolist</span> <span style="color: #3e999f;">(</span>command '<span style="color: #eab700;">(</span>yank yank-pop<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>eval `<span style="color: #eab700;">(</span><span style="color: #718c00;">defadvice</span> ,command <span style="color: #718c00;">(</span>after indent-region activate<span style="color: #718c00;">)</span>
           <span style="color: #718c00;">(</span><span style="color: #718c00;">and</span> <span style="color: #4271ae;">(</span>not current-prefix-arg<span style="color: #4271ae;">)</span>
                <span style="color: #4271ae;">(</span><span style="color: #718c00;">let</span> <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>mark-even-if-inactive transient-mark-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
                  <span style="color: #4d4d4c;">(</span>indent-region <span style="color: #3e999f;">(</span>region-beginning<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>region-end<span style="color: #3e999f;">)</span> nil<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb640ef" class="outline-4">
<h4 id="orgcb640ef"><span class="section-number-4">3.7.3.</span> Better window splitting functions</h4>
<div class="outline-text-4" id="text-3-7-3">
<p>
<a href="http://www.reddit.com/r/emacs/comments/25v0eo/you_emacs_tips_and_tricks/chldury">http://www.reddit.com/r/emacs/comments/25v0eo/you_emacs_tips_and_tricks/chldury</a>
</p>

<p>
These settings split the window and load a previous buffer (instead
of the same buffer in both).  This has a better chance of being
what I want when splitting strings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/vplit-last-buffer</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"When splitting the frame, load the last visited buffer."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>split-window-vertically<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>other-window 1 nil<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>switch-to-next-buffer<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/hsplit-last-buffer</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"When splitting the frame, load the last visited buffer."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>split-window-horizontally<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>other-window 1 nil<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>switch-to-next-buffer<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-keys</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x 2"</span> . bnb/vplit-last-buffer<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-x 3"</span> . bnb/hsplit-last-buffer<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org08d2ce2" class="outline-4">
<h4 id="org08d2ce2"><span class="section-number-4">3.7.4.</span> Hide mode line</h4>
<div class="outline-text-4" id="text-3-7-4">
<p>
This is a fun one I picked from a now defunct website. This block
of code hides the mode-line for the current buffer (window).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Setup buffer-local behavior</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar-local</span> <span style="color: #eab700;">bnb/hide-mode-line-mode</span> nil<span style="color: #4d4d4c;">)</span>
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Setup minor mode</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">define-minor-mode</span> <span style="color: #f5871f;">bnb/hide-mode-line-mode</span>
  <span style="color: #8959a8;">"Minor mode to hide mode-line in current buffer"</span>
  <span style="color: #8959a8;">:init-value</span> nil
  <span style="color: #8959a8;">:global</span> nil
  <span style="color: #8959a8;">:variable</span> bnb/hide-mode-line-mode
  <span style="color: #8959a8;">:group</span> 'editing-basics
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">if</span> bnb/hide-mode-line-mode
      <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> bnb/hide-mode-line-mode/saved-format mode-line-format
            mode-line-format nil<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> mode-line-format bnb/hide-mode-line-mode/saved-format
          bnb/hide-mode-line-mode/saved-format nil<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>force-mode-line-update<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>redraw-display<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">when</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">and</span> <span style="color: #718c00;">(</span>called-interactively-p 'interactive<span style="color: #718c00;">)</span>
             bnb/hide-mode-line-mode<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>run-with-idle-timer
     0 nil 'message
     <span style="color: #718c00;">(</span>concat <span style="color: #3e999f;">"Goodbye mode line!"</span>
             <span style="color: #3e999f;">"Use M-x bnb/hide-mode-line-mode to make the mode-line appear"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Bind global key</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"H-0"</span> 'bnb/hide-mode-line-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2ebe5d3" class="outline-4">
<h4 id="org2ebe5d3"><span class="section-number-4">3.7.5.</span> Open/Edit This file</h4>
<div class="outline-text-4" id="text-3-7-5">
<p>
When I hit <code>&lt;F5&gt;</code>, open this file for editing. That way, any
time I have something I need to remember for my emacs setting, it
is just a button-push away.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-key</span>
   <span style="color: #3e999f;">"&lt;f5&gt;"</span>
   <span style="color: #eab700;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #718c00;">()</span>
     <span style="color: #718c00;">(</span><span style="color: #718c00;">interactive</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>find-file <span style="color: #3e999f;">"~/.emacs.d/bnb-emacs/Readme.org"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7e7872b" class="outline-4">
<h4 id="org7e7872b"><span class="section-number-4">3.7.6.</span> Org-column resizing</h4>
<div class="outline-text-4" id="text-3-7-6">
<p>
In order to resize the face when `org-column` mode is on, some
advice is in order. The face used has a set <code>:height</code> that is not
overridden by custom face settings.
</p>

<p>
To have a custom height, this advice prepends the list with an
anonymous face with a height of 0.8. This setting happens first, so
it wins.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-overlay-font-override</span> <span style="color: #3e999f;">(</span>orig-fn beg end <span style="color: #4271ae;">&amp;optional</span> txt face<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>bnbface <span style="color: #4271ae;">(</span>cons '<span style="color: #4d4d4c;">(</span><span style="color: #8959a8;">:height</span> 0.8<span style="color: #4d4d4c;">)</span> face<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>funcall orig-fn beg end txt bnbface<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>advice-add 'org-columns--new-overlay <span style="color: #8959a8;">:around</span> #'bnb/org-overlay-font-override<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #8e908c; font-style: italic;">;</span><span style="color: #8e908c; font-style: italic;">(advice-remove 'org-columns--new-overlay #'bnb/org-overlay-font-override)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org4fc60a7" class="outline-4">
<h4 id="org4fc60a7"><span class="section-number-4">3.7.7.</span> Styled HTML Export</h4>
<div class="outline-text-4" id="text-3-7-7">
<p>
This is how I get the one-page html output for Github Pages. There
are two main parts to setting up and executing the export.
</p>

<p>
First, I use a <code>SETUPFILE</code> from
<a href="https://github.com/fniessen/org-html-themes">https://github.com/fniessen/org-html-themes</a>. Specifically, I use
the <i>readtheorg</i> style.
</p>

<p>
Second, I setup the emacs theme correctly for nice code
output. Syntax highlighting in the export will pull from the
current theme. I don't want this. Instead, I want to specify which
theme to use for <i>every</i> export.
</p>

<p>
The code below stores away the current list of enabled themes
before disabling them all. Then, it enables my preferred export
theme (<code>sanityinc-tomorrow-day</code>) before performing the
export. Finally, it disables the last theme and renables all of the
ones on the list.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">bnb/export-theme</span> '<span style="color: #3e999f;">(</span>sanityinc-tomorrow-day<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/export-readme</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Export the tangled org setting as html.</span>

<span style="color: #8959a8;">`bnb/export-theme` sets the theme for the code exports."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>themes custom-enabled-themes<span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span>file <span style="color: #3e999f;">"~/.emacs.d/bnb-emacs/Readme.org"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">with-temp-buffer</span>
     <span style="color: #718c00;">(</span>insert <span style="color: #3e999f;">"#+SETUPFILE: https://fniessen.github.io/org-html-themes/org/theme-readtheorg.setup\n"</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>insert <span style="color: #4271ae;">(</span>format <span style="color: #3e999f;">"#+include: %s\n"</span> <span style="color: #4d4d4c;">(</span>file-truename file<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>org-mode<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>elpaca-wait<span style="color: #718c00;">)</span> <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">ensure all modules are loaded</span>
     <span style="color: #718c00;">(</span>mapc 'disable-theme themes<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>mapc 'load-theme bnb/export-theme<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #718c00;">let</span> <span style="color: #4271ae;">(</span><span style="color: #4d4d4c;">(</span>exported <span style="color: #3e999f;">(</span>org-export-as 'html<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
           <span style="color: #4d4d4c;">(</span>save-silently-p t<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
       <span style="color: #4271ae;">(</span><span style="color: #718c00;">with-temp-file</span>
           <span style="color: #4d4d4c;">(</span>format <span style="color: #3e999f;">"%sindex.html"</span> <span style="color: #3e999f;">(</span>file-name-directory file<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
         <span style="color: #4d4d4c;">(</span>insert exported<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
       <span style="color: #4271ae;">(</span>mapc 'disable-theme bnb/export-theme<span style="color: #4271ae;">)</span>
       <span style="color: #4271ae;">(</span>mapcar 'load-theme <span style="color: #4d4d4c;">(</span>reverse themes<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The process is to create a temp buffer and insert the setupfile
and an include to this file. Some of the finer points are that I
ensure <code>org-mode</code> is on, themes are loaded/unloaded correctly and
the export goes to the right file.
</p>

<p>
Not all of the links I use in this file easily export. Some
require some tweaking to show up nicely on the web. This next
block sets up some handlers for the link types that need a little
extra care and attention.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/link-fallback-export</span> <span style="color: #3e999f;">(</span>link description format _<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Exporter for help: links"</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>desc <span style="color: #4271ae;">(</span><span style="color: #718c00;">or</span> description link<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">pcase</span> format
      <span style="color: #718c00;">(</span>'html <span style="color: #4271ae;">(</span>format <span style="color: #3e999f;">"&lt;code&gt;%s&lt;/code&gt;"</span> desc<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>t desc<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>org-link-set-parameters <span style="color: #3e999f;">"help"</span> <span style="color: #8959a8;">:export</span> #'bnb/link-fallback-export<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>org-link-set-parameters <span style="color: #3e999f;">"org-ql-search"</span> <span style="color: #8959a8;">:export</span> #'bnb/link-fallback-export<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga31a498" class="outline-4">
<h4 id="orga31a498"><span class="section-number-4">3.7.8.</span> Transparency</h4>
<div class="outline-text-4" id="text-3-7-8">
<p>
Using the <code>ring</code> package, these commands will cycles through
transparency settings.
</p>

<p>
The transparency ring variable holds cells that determing the
focused and unfocused opacity settings in terms of percentage.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ring</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>bnb/transparency-apply bnb/transparency-next bnb/transparency-previous
                                    bnb/transparency-cycle bnb/transparency-add<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> bnb/transparency-ring
        <span style="color: #eab700;">(</span>ring-convert-sequence-to-ring <span style="color: #718c00;">(</span>list '<span style="color: #4271ae;">(</span>100 100<span style="color: #4271ae;">)</span> '<span style="color: #4271ae;">(</span>100 50<span style="color: #4271ae;">)</span> '<span style="color: #4271ae;">(</span>100 10<span style="color: #4271ae;">)</span> '<span style="color: #4271ae;">(</span>95 50<span style="color: #4271ae;">)</span> '<span style="color: #4271ae;">(</span>90 50<span style="color: #4271ae;">)</span> '<span style="color: #4271ae;">(</span>85 50<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
        bnb/transparency
        <span style="color: #eab700;">(</span>ring-ref bnb/transparency-ring 0<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>

  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-apply</span> <span style="color: #eab700;">(</span>trans<span style="color: #eab700;">)</span>
    <span style="color: #8959a8;">"Apply the TRANS alpha value to the frame."</span>
    <span style="color: #eab700;">(</span>set-frame-parameter <span style="color: #718c00;">(</span>selected-frame<span style="color: #718c00;">)</span> 'alpha <span style="color: #718c00;">(</span><span style="color: #718c00;">setq</span> bnb/transparency trans<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>

  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-next</span> <span style="color: #eab700;">()</span>
    <span style="color: #8959a8;">"Apply the next transparency value in the ring `bnb/transparency-ring`."</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">interactive</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>bnb/transparency-apply <span style="color: #718c00;">(</span>ring-next bnb/transparency-ring bnb/transparency<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>

  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-previous</span> <span style="color: #eab700;">()</span>
    <span style="color: #8959a8;">"Apply the previous transparency value in the ring `bnb/transparency-ring`."</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">interactive</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>bnb/transparency-apply <span style="color: #718c00;">(</span>ring-previous bnb/transparency-ring bnb/transparency<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>

  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-cycle</span> <span style="color: #eab700;">()</span>
    <span style="color: #8959a8;">"Cycle to the next transparency setting."</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">interactive</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>bnb/transparency-next<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>

  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/transparency-add</span> <span style="color: #eab700;">(</span>active inactive<span style="color: #eab700;">)</span>
    <span style="color: #8959a8;">"Add ACTIVE and INACTIVE transparency values to the ring."</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"nActive Transparency:\nnInactive Transparency:"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>ring-insert+extend bnb/transparency-ring <span style="color: #718c00;">(</span>list active inactive<span style="color: #718c00;">)</span> t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>bnb/transparency-apply <span style="color: #718c00;">(</span>list active inactive<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgec9233b" class="outline-4">
<h4 id="orgec9233b"><span class="section-number-4">3.7.9.</span> Weekly Score Goal in Org-Agenda</h4>
<div class="outline-text-4" id="text-3-7-9">
<p>
I use a scoring system to keep track of my overall progress.  This
involves scoring my tasks and attributing my idea of impact of a
particular done item.
</p>

<p>
To use these numbers, I do a weekly review on Monday and compare
the numbers to past years/weeks/etc. To keep pushing forward, this
little bit of code will insert a running status at the top of my
agenda.
</p>

<p>
If I am on track for the given day (at or above the scaled goal),
all is green. Otherwise, I get a warning type formatting above 80%
and error type formatting under.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Define my goal to hit</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">bnb/weekly-score-goal</span> 42<span style="color: #4d4d4c;">)</span>

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Add up all the scores from DONE items in the agenda files</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/agenda-score-goal</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Add up scores from done items.</span>

<span style="color: #8959a8;">   In the agenda, this will show the number of done items and the</span>
<span style="color: #8959a8;">   target goal from `bnb/weekly-score-goal`."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let*</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>score <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Add up all scores from DONE items</span>
          <span style="color: #4271ae;">(</span>apply '+
                 <span style="color: #4d4d4c;">(</span>org-map-entries
                  <span style="color: #3e999f;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #eab700;">()</span> <span style="color: #eab700;">(</span>string-to-number <span style="color: #718c00;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>org-entry-get <span style="color: #3e999f;">(</span>point<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">"Score"</span><span style="color: #4d4d4c;">)</span> <span style="color: #3e999f;">"0"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">"/DONE"</span> 'agenda<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>scaled-goal <span style="color: #4271ae;">(</span>* bnb/weekly-score-goal
                         <span style="color: #4d4d4c;">(</span>/ <span style="color: #3e999f;">(</span>string-to-number <span style="color: #eab700;">(</span>format-time-string <span style="color: #3e999f;">"%w"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
                            5.0<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>face <span style="color: #4271ae;">(</span><span style="color: #718c00;">cond</span> <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>&gt;= score scaled-goal<span style="color: #3e999f;">)</span> 'success<span style="color: #4d4d4c;">)</span>
                     <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>&gt;= score <span style="color: #eab700;">(</span>* .8 scaled-goal<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span> 'warning<span style="color: #4d4d4c;">)</span>
                     <span style="color: #4d4d4c;">(</span>t 'error<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>goal-label <span style="color: #4271ae;">(</span>format <span style="color: #3e999f;">"&#10023; Score Goal (%d): "</span> scaled-goal<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>goal-metric <span style="color: #4271ae;">(</span>format <span style="color: #3e999f;">"%d/%d\n"</span> score bnb/weekly-score-goal<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>header-size <span style="color: #4271ae;">(</span>+ <span style="color: #4d4d4c;">(</span>string-width goal-label<span style="color: #4d4d4c;">)</span>
                         <span style="color: #4d4d4c;">(</span>string-width goal-metric<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>goal-separator <span style="color: #4271ae;">(</span>concat <span style="color: #4d4d4c;">(</span>make-string header-size ?&#9476;<span style="color: #4d4d4c;">)</span> <span style="color: #3e999f;">"\n"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>insert
     <span style="color: #718c00;">(</span>concat
      <span style="color: #4271ae;">(</span>propertize goal-label 'face 'org-agenda-structure<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>propertize goal-metric 'face face<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>propertize goal-separator 'face 'org-agenda-structure<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">This hook runs first in the agenda (and before it is set to read-only)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-hook 'org-agenda-mode-hook 'bnb/agenda-score-goal<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9abaee4" class="outline-4">
<h4 id="org9abaee4"><span class="section-number-4">3.7.10.</span> Weekly Time Reporting</h4>
<div class="outline-text-4" id="text-3-7-10">
<p>
This is a function to create an entry like a datetree, but using
years and workweeks instead.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/find-year-create</span> <span style="color: #3e999f;">(</span>year<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Find or create a [YEAR] in an Org journal."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>re <span style="color: #3e999f;">"^\\**[ \t]+</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">[12][0-9]\\{</span><span style="color: #eab700;">3\\</span><span style="color: #3e999f;">}</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span><span style="color: #718c00;">)</span>
        match<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>org-narrow-to-subtree<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>goto-char <span style="color: #718c00;">(</span>point-min<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">while</span> <span style="color: #718c00;">(</span><span style="color: #718c00;">and</span> <span style="color: #4271ae;">(</span><span style="color: #718c00;">setq</span> match <span style="color: #4d4d4c;">(</span>re-search-forward re nil t<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
                <span style="color: #4271ae;">(</span>goto-char <span style="color: #4d4d4c;">(</span>match-beginning 1<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
                <span style="color: #4271ae;">(</span>&lt; <span style="color: #4d4d4c;">(</span>string-to-number <span style="color: #3e999f;">(</span>match-string 1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span> year<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">cond</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>not match<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>goto-char <span style="color: #4d4d4c;">(</span>point-max<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>bolp<span style="color: #4d4d4c;">)</span> <span style="color: #4d4d4c;">(</span>newline<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>insert <span style="color: #4d4d4c;">(</span>format  <span style="color: #3e999f;">"** %s\n"</span> year<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>= <span style="color: #4d4d4c;">(</span>string-to-number <span style="color: #3e999f;">(</span>match-string 1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span> year<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>goto-char <span style="color: #4d4d4c;">(</span>point-at-bol<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>t
      <span style="color: #4271ae;">(</span>beginning-of-line 1<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>insert <span style="color: #4d4d4c;">(</span>format  <span style="color: #3e999f;">"** %s\n"</span> year<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/find-ww-create</span> <span style="color: #3e999f;">(</span>ww<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Find or create a [WW] (workweek) in an Org journal."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>re <span style="color: #3e999f;">"^\\**[ \t]+\\WW</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">[0-9]\\{</span><span style="color: #eab700;">2\\</span><span style="color: #3e999f;">}</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">"</span><span style="color: #718c00;">)</span>
        match<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>org-narrow-to-subtree<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>goto-char <span style="color: #718c00;">(</span>point-min<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">while</span> <span style="color: #718c00;">(</span><span style="color: #718c00;">and</span> <span style="color: #4271ae;">(</span><span style="color: #718c00;">setq</span> match <span style="color: #4d4d4c;">(</span>re-search-forward re nil t<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
                <span style="color: #4271ae;">(</span>goto-char <span style="color: #4d4d4c;">(</span>match-beginning 1<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
                <span style="color: #4271ae;">(</span>&lt; <span style="color: #4d4d4c;">(</span>string-to-number <span style="color: #3e999f;">(</span>match-string 1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span> ww<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">cond</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>not match<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>goto-char <span style="color: #4d4d4c;">(</span>point-max<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>bolp<span style="color: #4d4d4c;">)</span> <span style="color: #4d4d4c;">(</span>newline<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>insert <span style="color: #4d4d4c;">(</span>format <span style="color: #3e999f;">"*** WW%02d\n"</span> ww<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>= <span style="color: #4d4d4c;">(</span>string-to-number <span style="color: #3e999f;">(</span>match-string 1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span> ww<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>goto-char <span style="color: #4d4d4c;">(</span>point-at-bol<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>t
      <span style="color: #4271ae;">(</span>beginning-of-line 1<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>insert <span style="color: #4d4d4c;">(</span>format <span style="color: #3e999f;">"*** WW%02d\n"</span> ww<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/insert-weekly-time-sheet</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Generated and insert a weekly time sheet generated from the default Org Agenda."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">with-temp-buffer</span>
    <span style="color: #eab700;">(</span>insert
     <span style="color: #718c00;">(</span>concat  <span style="color: #3e999f;">"#+BEGIN: clocktable :maxlevel 3 :scope agenda-with-archives :block lastweek :fileskip0 t :properties (\"Score\") :indent nil \n"</span>
              <span style="color: #3e999f;">"#+TBLFM: $6='(org-clock-time% @2$4 $3..$5);%.1f::@2$2=vsum(@3$2..@&gt;$2)\n"</span>
              <span style="color: #3e999f;">"#+END:\n\n"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>goto-char <span style="color: #718c00;">(</span>point-min<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>org-update-dblock<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>buffer-substring <span style="color: #718c00;">(</span>point-min<span style="color: #718c00;">)</span> <span style="color: #718c00;">(</span>point-max<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/insert-weekly-clocking</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Insert the weekly clocking clocking data."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>year <span style="color: #4271ae;">(</span>number-to-string <span style="color: #4d4d4c;">(</span>nth 2 <span style="color: #3e999f;">(</span>calendar-gregorian-from-absolute <span style="color: #eab700;">(</span>org-today<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span>ww <span style="color: #4271ae;">(</span>bnb/workweek<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>goto-char <span style="color: #718c00;">(</span>point-min<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>goto-char <span style="color: #718c00;">(</span>cdr <span style="color: #4271ae;">(</span>org-id-find <span style="color: #3e999f;">"clocking"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>bnb/find-year-create <span style="color: #718c00;">(</span>string-to-number year<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>bnb/find-ww-create ww<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org021d4b4" class="outline-4">
<h4 id="org021d4b4"><span class="section-number-4">3.7.11.</span> Workweeks</h4>
<div class="outline-text-4" id="text-3-7-11">
<p>
This is vestigal content from my Intel days and this generates
their idea of a work week number.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">progn</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek</span> <span style="color: #718c00;">()</span>
      <span style="color: #8959a8;">"Return the current workweek number."</span>
      <span style="color: #718c00;">(</span><span style="color: #718c00;">interactive</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #718c00;">let*</span> <span style="color: #4271ae;">(</span><span style="color: #4d4d4c;">(</span>now <span style="color: #3e999f;">(</span>current-time<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
             <span style="color: #4d4d4c;">(</span>weeks <span style="color: #3e999f;">(</span>string-to-number
                     <span style="color: #eab700;">(</span>format-time-string <span style="color: #3e999f;">"%W"</span> now<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
             <span style="color: #4d4d4c;">(</span>days <span style="color: #3e999f;">(</span>time-to-day-in-year now<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
             <span style="color: #4d4d4c;">(</span>daynum <span style="color: #3e999f;">(</span>string-to-number
                      <span style="color: #eab700;">(</span>format-time-string <span style="color: #3e999f;">"%w"</span> now<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
             <span style="color: #4d4d4c;">(</span>left <span style="color: #3e999f;">(</span>% days 7<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
        <span style="color: #4271ae;">(</span><span style="color: #718c00;">if</span> <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">and</span> <span style="color: #3e999f;">(</span>= 0 daynum<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>= left 0<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
            weeks
          <span style="color: #4d4d4c;">(</span>+ 1 weeks<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>

    <span style="color: #eab700;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek-string</span> <span style="color: #718c00;">()</span>
      <span style="color: #8959a8;">"Convert the current workweek into a string.</span>

<span style="color: #8959a8;">    The string is of the format WW##."</span>
      <span style="color: #718c00;">(</span><span style="color: #718c00;">interactive</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>concat <span style="color: #3e999f;">"WW"</span>
              <span style="color: #4271ae;">(</span>number-to-string
               <span style="color: #4d4d4c;">(</span>bnb/workweek<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>

    <span style="color: #eab700;">(</span><span style="color: #718c00;">require</span> '<span style="color: #4271ae;">calendar</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/workweek-from-gregorian</span> <span style="color: #718c00;">(</span><span style="color: #4271ae;">&amp;optional</span> date<span style="color: #718c00;">)</span>
      <span style="color: #8959a8;">"Calculate the workweek from the Gregorian calendar."</span>
      <span style="color: #718c00;">(</span><span style="color: #718c00;">let*</span> <span style="color: #4271ae;">(</span><span style="color: #4d4d4c;">(</span>date <span style="color: #3e999f;">(</span><span style="color: #718c00;">or</span> date <span style="color: #eab700;">(</span>calendar-current-date<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
             <span style="color: #4d4d4c;">(</span>year <span style="color: #3e999f;">(</span>calendar-extract-year date<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
             <span style="color: #4d4d4c;">(</span>fst <span style="color: #3e999f;">(</span>calendar-day-of-week <span style="color: #eab700;">(</span>list 1 1 year<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
             <span style="color: #4d4d4c;">(</span>x   <span style="color: #3e999f;">(</span><span style="color: #718c00;">if</span> <span style="color: #eab700;">(</span>&gt;= fst 4<span style="color: #eab700;">)</span>1 0<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
        <span style="color: #4271ae;">(</span>+ x
           <span style="color: #4d4d4c;">(</span>car
            <span style="color: #3e999f;">(</span>calendar-iso-from-absolute
             <span style="color: #eab700;">(</span>calendar-absolute-from-gregorian date<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>

    <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> calendar-week-start-day 1
          calendar-intermonth-text
          '<span style="color: #718c00;">(</span>propertize
            <span style="color: #4271ae;">(</span>format <span style="color: #3e999f;">"%2d"</span>
                    <span style="color: #4d4d4c;">(</span>bnb/workweek-from-gregorian <span style="color: #3e999f;">(</span>list month day year<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
            'font-lock-face 'font-lock-function-name-face<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4b569fc" class="outline-3">
<h3 id="org4b569fc"><span class="section-number-3">3.8.</span> Editing</h3>
<div class="outline-text-3" id="text-3-8">
<p>
Similar to movement, editing happens <i>every day</i>, so I use a few
customizations to make it nice.
</p>
</div>

<div id="outline-container-org4309660" class="outline-4">
<h4 id="org4309660"><span class="section-number-4">3.8.1.</span> Ediff single frame</h4>
<div class="outline-text-4" id="text-3-8-1">
<p>
I really dislike the multi-frame mode of <code>ediff</code>.  It is confusing
to use and really messes up my <a href="http://dwm.suckless.org">dwm</a> usage. By explicitly setting
the following setting, it forces <code>ediff</code> to use only one
frame.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> ediff-window-setup-function 'ediff-setup-windows-plain<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Now the control window will be a small window instead of a
separate frame.
</p>
</div>
</div>


<div id="outline-container-orgb98de27" class="outline-4">
<h4 id="orgb98de27"><span class="section-number-4">3.8.2.</span> Multiple Cursors</h4>
<div class="outline-text-4" id="text-3-8-2">
<p>
This interface is a mix of an example on the <a href="https://github.com/abo-abo/hydra/wiki/multiple-cursors">hydra wiki</a> and my own
additions.
</p>

<p>
I think that the key thing is remembering to not have this affect
<b>all</b> cursors when prompted. Otherwise, it seems, the cursors are
duplicated in strange ways.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">multiple-cursors</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-m"</span>   . hydra-mc/body<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-x m"</span> . hydra-mc/body<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"s-&lt;mouse-1&gt;"</span> . mc/add-cursor-on-click<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-x M"</span> . compose-mail<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defhydra</span> hydra-mc <span style="color: #eab700;">(</span><span style="color: #8959a8;">:hint</span> nil<span style="color: #eab700;">)</span>
    <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">     ^Up^            ^Down^        ^Miscellaneous^</span>
<span style="color: #8959a8;">-----------------------------------------------------------</span>
<span style="color: #8959a8;">[_p_]   Next    [_n_]   Next    [_l_] Edit lines  [_x_] Arrows</span>
<span style="color: #8959a8;">[_P_]   Skip    [_N_]   Skip    [_a_] Mark all    [_g_] Regexp</span>
<span style="color: #8959a8;">[_M-p_] Unmark  [_M-n_] Unmark  [_q_] Quit"</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"l"</span>   mc/edit-lines <span style="color: #8959a8;">:exit</span> t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"a"</span>   mc/mark-all-like-this-dwim <span style="color: #8959a8;">:exit</span> t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"n"</span>   mc/mark-next-like-this<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"N"</span>   mc/skip-to-next-like-this<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-n"</span> mc/unmark-next-like-this<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"p"</span>   mc/mark-previous-like-this<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"P"</span>   mc/skip-to-previous-like-this<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-p"</span> mc/unmark-previous-like-this<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"g"</span>   mc/mark-all-in-region-regexp <span style="color: #8959a8;">:exit</span> t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"r"</span>   mc/mark-sgml-tag-pair <span style="color: #8959a8;">:exit</span> t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"x"</span>   mc/mark-more-like-this-extended<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"q"</span>   nil<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-hydra-mc-funcs<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">add-hydra-mc-funcs</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Add my hydra-mc funcs to the proper whitelist"</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let*</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>hydra-mc-funcs
          <span style="color: #4271ae;">(</span>cl-remove-if-not
           'functionp
           <span style="color: #4d4d4c;">(</span>apply #'append hydra-mc/heads<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>mc-funcs-to-ignore <span style="color: #4271ae;">(</span>cl-intersection
                              hydra-mc-funcs
                              mc--default-cmds-to-run-once<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>funcs-to-whitelist
          <span style="color: #4271ae;">(</span>cl-mapcar
           <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #3e999f;">(</span>x<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>intern <span style="color: #eab700;">(</span>concat <span style="color: #3e999f;">"hydra-mc/"</span> <span style="color: #718c00;">(</span>symbol-name x<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
           mc-funcs-to-ignore<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">let</span> <span style="color: #718c00;">(</span>value<span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #718c00;">dolist</span> <span style="color: #4271ae;">(</span>element funcs-to-whitelist nil<span style="color: #4271ae;">)</span>
        <span style="color: #4271ae;">(</span>add-to-list 'mc/cmds-to-run-once element<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb03267c" class="outline-4">
<h4 id="orgb03267c"><span class="section-number-4">3.8.3.</span> Regexp-Builder</h4>
<div class="outline-text-4" id="text-3-8-3">
<p>
Emacs regular expressions are not the easiest to use out of the
box. Emacs now has <code>regexp-builder</code> to assist you in building the
correct regexp as you type.
</p>

<p>
However, to complicate matters, there are five different <i>syntaxes</i>
of regular expression that the builder can use. The <code>string</code>
syntax is what I tend to use most in searching and replacing, so I
will make that my default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> reb-re-syntax 'string<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key Binding</th>
<th scope="col" class="org-left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-c TAB</code></td>
<td class="org-left">Switch syntax</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-e</code></td>
<td class="org-left">Sub-expression mode (show matching groups)</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-s/r</code></td>
<td class="org-left">Search forward/backward</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-w</code></td>
<td class="org-left">Copy regexp to kill ring</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-q</code></td>
<td class="org-left">Quit the builder</td>
</tr>
</tbody>
</table>

<p>
Be sure to consult the <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Regexps.html">syntax of regular expressions</a> to learn more
about the weird backslashing.
</p>
</div>
</div>

<div id="outline-container-org9aac43a" class="outline-4">
<h4 id="org9aac43a"><span class="section-number-4">3.8.4.</span> Executable Scripts on save</h4>
<div class="outline-text-4" id="text-3-8-4">
<p>
Taken from <a href="http://mbork.pl/2015-01-10_A_few_random_Emacs_tips">http://mbork.pl/2015-01-10_A_few_random_Emacs_tips</a>,
this setting makes a file executable if it's a script.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>add-hook 'after-save-hook
          'executable-make-buffer-file-executable-if-script-p<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c9e5e8" class="outline-4">
<h4 id="org3c9e5e8"><span class="section-number-4">3.8.5.</span> Auto Reverting</h4>
<div class="outline-text-4" id="text-3-8-5">
<p>
For view-only buffers rendering content, it is useful to have them
<code>auto-revert</code> in case of changes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>add-hook 'doc-view-mode-hook 'auto-revert-mode<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>add-hook 'image-mode 'auto-revert-mode<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org6a6ceb0" class="outline-3">
<h3 id="org6a6ceb0"><span class="section-number-3">3.9.</span> Images</h3>
<div class="outline-text-3" id="text-3-9">
<p>
Emacs does a good job with images, so any particular preferences
are handled in this section.
</p>
</div>

<div id="outline-container-orga0f4dba" class="outline-4">
<h4 id="orga0f4dba"><span class="section-number-4">3.9.1.</span> ImageMagick</h4>
<div class="outline-text-4" id="text-3-9-1">
<p>
Register image file types that can be handled by ImageMagick. Note
that Emacs needs to be compiled with ImageMagick support for this
to do anything.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">when</span> <span style="color: #eab700;">(</span>fboundp 'imagemagick-register-types<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>imagemagick-register-types<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd3d6d27" class="outline-2">
<h2 id="orgd3d6d27"><span class="section-number-2">4.</span> Minor Modes</h2>
<div class="outline-text-2" id="text-4">
<p>
The minor modes can be used in a variety of situations to enhance
the editing experience overall.
</p>
</div>

<div id="outline-container-org224cdfb" class="outline-3">
<h3 id="org224cdfb"><span class="section-number-3">4.1.</span> Reference</h3>
<div class="outline-text-3" id="text-4-1">
<p>
These modes help present reference material.
</p>
</div>

<div id="outline-container-org85dbd4a" class="outline-4">
<h4 id="org85dbd4a"><span class="section-number-4">4.1.1.</span> Helpful</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Using <a href="https://github.com/Wilfred/helpful">Helpful</a> enables a better help buffer by providing a more
organized screen with contextual information and linked
references.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">helpful</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-h K"</span> . helpful-key<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-h v"</span> . helpful-variable<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-h f"</span> . helpful-function<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-h x"</span> . helpful-command<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-h z"</span> . helpful-macro<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-h ."</span> . helpful-at-point<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge59c991" class="outline-4">
<h4 id="orge59c991"><span class="section-number-4">4.1.2.</span> Which Key</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
This <a href="https://github.com/justbur/emacs-which-key">helpful little package</a> makes it easy to remember emacs
prefixed commands.  Start typing a prefix such as <code>C-x</code> after a brief
delay, the options for any following commands are shown.
</p>

<p>
I am using a setup that tries the right side of emacs first, and
punts to a bottom window if there is not enough room.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">which-key</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> which-key-mode
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>which-key-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>which-key-setup-side-window-right-bottom<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>which-key-max-description-length 60<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org155aee4" class="outline-4">
<h4 id="org155aee4"><span class="section-number-4">4.1.3.</span> Dictionary</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
To use the online dictionary at <a href="https://dict.org">dict.org</a>, set <code>dictionary-server</code>
accordingly. Then swap around keybindinds such that this is an easy
deafult, but the OSX version isn't far away.
</p>

<p>
One of the cooler features of this mode is that the <a href="https://dict.org">dict.org</a> server
has <a href="https://www.websters1913.com/">Webster's 1913</a> dictionary.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dictionary</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> dictionary-server <span style="color: #3e999f;">"dict.org"</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c d"</span> . dictionary-search<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c D"</span> . osx-dictionary-search-word-at-point<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgecb22e6" class="outline-4">
<h4 id="orgecb22e6"><span class="section-number-4">4.1.4.</span> OSX Dictionary</h4>
<div class="outline-text-4" id="text-4-1-4">
<p>
Search <code>Dictionary.app</code> from the comfort of an Emacs buffer.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">osx-dictionary</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c d"</span> . osx-dictionary-search-word-at-point<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c i"</span> . osx-dictionary-search-input<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdbe9069" class="outline-3">
<h3 id="orgdbe9069"><span class="section-number-3">4.2.</span> Editing</h3>
<div class="outline-text-3" id="text-4-2">
<p>
This section covers minor modes that personalize and improve the
editing experience.
</p>
</div>

<div id="outline-container-org8d8936b" class="outline-4">
<h4 id="org8d8936b"><span class="section-number-4">4.2.1.</span> Adaptive Fill&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Update: Turning this off for now to see if I really use it for
just text modes.
</p>

<p>
Try to keep any prefixed elements of the first line for paragraph
filling.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">filladapt</span>
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#9638;"</span>
  <span style="color: #8959a8;">:disabled</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> filladapt-mode
  <span style="color: #8959a8;">:init</span> <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq-default</span> filladapt-mode t<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>text-mode . filladapt-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>org-mode . turn-off-filladapt-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>prog-mode . turn-off-filladapt-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org33f0108" class="outline-4">
<h4 id="org33f0108"><span class="section-number-4">4.2.2.</span> Focus Mode</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
Dim everything except for the thing-at-point. Improves focus when
reading code and text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">focus</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c f"</span> . focus-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c F"</span> . focus-read-only-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8fa52a0" class="outline-4">
<h4 id="org8fa52a0"><span class="section-number-4">4.2.3.</span> Common User Access mode</h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/CUA-Bindings.html">CUA</a> has a primary feature of enabling cut, copy, paste and undo
shortcuts compatible with most applications, but I leave that part
disabled and prefer the normal emacs bindings.
</p>

<p>
What I do enjoy about CUA are the rectangle restures and <b>that</b> is
why I enable it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">progn</span>
    <span style="color: #eab700;">(</span>cua-mode t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> cua-enable-cua-keys nil<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
There are two main binding types: <a href="#org3e51095">4.2.3.0.1</a> and <a href="#org2cd4d18">4.2.3.0.2</a>.
</p>
</div>

<ol class="org-ol">
<li><a id="org3e51095"></a>CUA Rectangles<br />
<div class="outline-text-6" id="text-4-2-3-0-1">
<p>
These take place with an active rectangle. To start/cancel a
rectangle use <code>C-RET</code>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keys</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>M-&lt;arrow&gt;</code></td>
<td class="org-left">Move rectangle overlay</td>
</tr>

<tr>
<td class="org-left"><code>C-&lt;SPACE&gt;</code></td>
<td class="org-left">Activate region bounded by rectangle</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>M-a</code></td>
<td class="org-left">Align all words at the left edge</td>
</tr>

<tr>
<td class="org-left"><code>M-b</code></td>
<td class="org-left">Fill rectangle with blanks (tabs and spaces)</td>
</tr>

<tr>
<td class="org-left"><code>M-c</code></td>
<td class="org-left">Closes the rectangle by removing left edge blanks</td>
</tr>

<tr>
<td class="org-left"><code>M-f</code></td>
<td class="org-left">Fills the rectangle with a single character (prompt)</td>
</tr>

<tr>
<td class="org-left"><code>M-i</code></td>
<td class="org-left">Increases number found on each line of rectangle</td>
</tr>

<tr>
<td class="org-left"><code>M-k</code></td>
<td class="org-left">Kills the rectangle as normal multi-line kill</td>
</tr>

<tr>
<td class="org-left"><code>M-l</code></td>
<td class="org-left">Downcases the rectangle</td>
</tr>

<tr>
<td class="org-left"><code>M-m</code></td>
<td class="org-left">Copies the rectangle for normal multi-line paste</td>
</tr>

<tr>
<td class="org-left"><code>M-n</code></td>
<td class="org-left">Fills each line with increasing numbers (prompt)</td>
</tr>

<tr>
<td class="org-left"><code>M-o</code></td>
<td class="org-left">Opens the rect by moving hilighted text right and filling with blanks</td>
</tr>

<tr>
<td class="org-left"><code>M-p</code></td>
<td class="org-left">Toggles virtual straight rectangle edges</td>
</tr>

<tr>
<td class="org-left"><code>M-P</code></td>
<td class="org-left">Inserts tabs and spaces to make real straight edges</td>
</tr>

<tr>
<td class="org-left"><code>M-q</code></td>
<td class="org-left">Performs text filling on the rectangle</td>
</tr>

<tr>
<td class="org-left"><code>M-q</code></td>
<td class="org-left">Performs text filling on the rectangle</td>
</tr>

<tr>
<td class="org-left"><code>M-r</code></td>
<td class="org-left">Replaces REGEXP (prompt) by STRING (prompt) in rectangle</td>
</tr>

<tr>
<td class="org-left"><code>M-R</code></td>
<td class="org-left">Reverse the lines in the rectangle</td>
</tr>

<tr>
<td class="org-left"><code>M-s</code></td>
<td class="org-left">Fills each line of the rectangle with the same STRING (prompt)</td>
</tr>

<tr>
<td class="org-left"><code>M-t</code></td>
<td class="org-left">Performs text fill of the rectangle with TEXT (prompt)</td>
</tr>

<tr>
<td class="org-left"><code>M-u</code></td>
<td class="org-left">Upcases the rectangle</td>
</tr>

<tr>
<td class="org-left"><code>M-&lt;VBar&gt;</code></td>
<td class="org-left">Runs shell command on rectangle</td>
</tr>

<tr>
<td class="org-left"><code>M-'</code></td>
<td class="org-left">Restricts rectangle to lines with CHAR (prompt) at left column</td>
</tr>

<tr>
<td class="org-left"><code>M-/</code></td>
<td class="org-left">Restricts rectangle to lines matching REGEXP (prompt)</td>
</tr>

<tr>
<td class="org-left"><code>C-?</code></td>
<td class="org-left">Shows a brief list of the above commands.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>M-C-&lt;UP/DOWN&gt;</code></td>
<td class="org-left">Scrolls the lines INSIDE the rectangle up/down</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org2cd4d18"></a>CUA Global Mark<br />
<div class="outline-text-6" id="text-4-2-3-0-2">
<p>
The global mark feature enables a target the receives any
typed/copied/killed text from any buffer (even the current
one).
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>&lt;ch&gt;</code></td>
<td class="org-left">All characters (including newlines) you type are inserted at the global mark!</td>
</tr>

<tr>
<td class="org-left"><code>C-x</code></td>
<td class="org-left">If you cut a region or rectangle, it is automatically inserted at the global mark, and the global mark is advanced.</td>
</tr>

<tr>
<td class="org-left"><code>C-c</code></td>
<td class="org-left">If you copy a region or rectangle, it is immediately inserted  at the global mark, and the global mark is advanced.</td>
</tr>

<tr>
<td class="org-left"><code>C-v</code></td>
<td class="org-left">Copies a single character to the global mark.</td>
</tr>

<tr>
<td class="org-left"><code>C-d</code></td>
<td class="org-left">Moves (i.e. deletes and inserts) a single character to the global mark.</td>
</tr>

<tr>
<td class="org-left"><code>&lt;BACKSPACE&gt;</code></td>
<td class="org-left">deletes the character before the global mark</td>
</tr>

<tr>
<td class="org-left"><code>&lt;DELETE&gt;</code></td>
<td class="org-left">deletes the character after the global mark.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>S-C-space</code></td>
<td class="org-left">Jumps to and cancels the global mark.</td>
</tr>

<tr>
<td class="org-left"><code>C-u S-C-space</code></td>
<td class="org-left">Cancels the global mark (stays in current buffer).</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>&lt;TAB&gt;</code></td>
<td class="org-left">Indents the current line or rectangle to the column of the global mark.</td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgf96ac0b" class="outline-4">
<h4 id="orgf96ac0b"><span class="section-number-4">4.2.4.</span> Easy Kill</h4>
<div class="outline-text-4" id="text-4-2-4">
<p>
While looking for a way to store the filename in the clipboard, I
ran across <a href="https://github.com/leoliu/easy-kill">easy-kill</a>. Not only will it grab the filename, but
provides ways to grab all sorts of fun things.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">easy-kill</span>
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"M-w"</span> . easy-kill<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The way the binding works is as a prefix key that also tries a
default "kill" and replaces <code>kill-ring-save</code>. The thing at point is
saved to the kill ring. The following table shows the details.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Saves at point</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>M-w w</code></td>
<td class="org-left">word</td>
</tr>

<tr>
<td class="org-left"><code>M-w s</code></td>
<td class="org-left">sexp</td>
</tr>

<tr>
<td class="org-left"><code>M-w l</code></td>
<td class="org-left">list</td>
</tr>

<tr>
<td class="org-left"><code>M-w d</code></td>
<td class="org-left">defun</td>
</tr>

<tr>
<td class="org-left"><code>M-w D</code></td>
<td class="org-left">defun name</td>
</tr>

<tr>
<td class="org-left"><code>M-w f</code></td>
<td class="org-left">filename</td>
</tr>

<tr>
<td class="org-left"><code>M-w b</code></td>
<td class="org-left">buffer file name or default directory</td>
</tr>
</tbody>
</table>

<p>
There are also modifiers to treat how the saved text is handled.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Modifier</th>
<th scope="col" class="org-left">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>@</code></td>
<td class="org-left">append to previous kill</td>
</tr>

<tr>
<td class="org-left"><code>C-w</code></td>
<td class="org-left">kill selection</td>
</tr>

<tr>
<td class="org-left"><code>+</code>, <code>-</code>, <code>1..9</code></td>
<td class="org-left">expand/shrink selection</td>
</tr>

<tr>
<td class="org-left"><code>0</code></td>
<td class="org-left">shrink selection to initial size</td>
</tr>

<tr>
<td class="org-left"><code>&lt;SPC&gt;</code></td>
<td class="org-left">cycle through <code>easy-kill-alist</code></td>
</tr>

<tr>
<td class="org-left"><code>C-&lt;SPC&gt;</code></td>
<td class="org-left">turn selection into active region</td>
</tr>

<tr>
<td class="org-left"><code>C-g</code></td>
<td class="org-left">abort</td>
</tr>

<tr>
<td class="org-left"><code>?</code></td>
<td class="org-left">help</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgff69a08" class="outline-4">
<h4 id="orgff69a08"><span class="section-number-4">4.2.5.</span> Vundo&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-4-2-5">
<p>
I like to have undo navigation. <a href="https://github.com/casouri/vundo">Vundo</a> gives a nice mini interface
(git-style) to move around undo history.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">vundo</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-x u"</span> . vundo<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>vundo-glyph-alist vundo-unicode-symbols<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
When in the undo mode, some keys help with navigation.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>f</code></td>
<td class="org-left">go forward</td>
</tr>

<tr>
<td class="org-left"><code>b</code></td>
<td class="org-left">go backward</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>n</code></td>
<td class="org-left">go to the node below at branch point</td>
</tr>

<tr>
<td class="org-left"><code>p</code></td>
<td class="org-left">go to the node above</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>a</code></td>
<td class="org-left">go back to last branch</td>
</tr>

<tr>
<td class="org-left"><code>e</code></td>
<td class="org-left">go to the end of the branch</td>
</tr>

<tr>
<td class="org-left"><code>l</code></td>
<td class="org-left">go to last saved node</td>
</tr>

<tr>
<td class="org-left"><code>r</code></td>
<td class="org-left">go to next saved node</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>m</code></td>
<td class="org-left">mark current node for diff</td>
</tr>

<tr>
<td class="org-left"><code>u</code></td>
<td class="org-left">unmark marked node</td>
</tr>

<tr>
<td class="org-left"><code>d</code></td>
<td class="org-left">show a diff</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>q</code></td>
<td class="org-left">quit (<code>C-g</code> also works)</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org1b22077" class="outline-4">
<h4 id="org1b22077"><span class="section-number-4">4.2.6.</span> Expand Region</h4>
<div class="outline-text-4" id="text-4-2-6">
<p>
Easily one of my favorite packages, this is a nice way to expand
selections to semantic regions. Read more on
<a href="https://github.com/magnars/expand-region.el">https://github.com/magnars/expand-region.el</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">expand-region</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-="</span> . er/expand-region<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6f0771f" class="outline-4">
<h4 id="org6f0771f"><span class="section-number-4">4.2.7.</span> Citar (Bibtex completions)</h4>
<div class="outline-text-4" id="text-4-2-7">
<p>
For getting completions from bibliographic data, <a href="https://github.com/emacs-citar/citar">Citar</a> links
things together.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">citar</span>
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>citar-capf-setup<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> org-mode-map <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c b"</span> . #'org-cite-insert<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>citar-bibliography bnb/biblio<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>org-cite-global-bibliography bnb/biblio<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>org-cite-insert-processor 'citar<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>org-cite-follow-processor 'citar<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>org-cite-activate-processor 'citar<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>LaTeX-mode . citar-capf-setup<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>org-mode . citar-capf-setup<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">citar-embark</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> <span style="color: #3e999f;">(</span>citar embark<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:no-require</span>
  <span style="color: #8959a8;">:config</span> <span style="color: #3e999f;">(</span>citar-embark-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>citar-at-point-function 'embark-act<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">citar-org-roam</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> <span style="color: #3e999f;">(</span>citar org-roam<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>add-to-list 'org-roam-capture-templates
               '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"n"</span> <span style="color: #3e999f;">"Literature note"</span> plain
                 <span style="color: #3e999f;">"%?"</span>
                 <span style="color: #8959a8;">:target</span>
                 <span style="color: #718c00;">(</span>file+head
                  <span style="color: #3e999f;">"%(expand-file-name (or citar-org-roam-subdir \"\") org-roam-directory)/${citar-citekey}.org"</span>
                  <span style="color: #3e999f;">"#+title: ${citar-citekey} (${citar-date}). ${note-title}.\n#+created: %U\n#+last_modified: %U\n\n"</span><span style="color: #718c00;">)</span>
                 <span style="color: #8959a8;">:unnarrowed</span> t<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>citar-org-roam-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0376c36" class="outline-4">
<h4 id="org0376c36"><span class="section-number-4">4.2.8.</span> Tree Sitter</h4>
<div class="outline-text-4" id="text-4-2-8">
<p>
Introduced in emacs 29, <a href="https://tree-sitter.github.io/tree-sitter/">tree sitter</a> transforms code into a
concrete syntax tree.  <a href="https://www.masteringemacs.org/article/how-to-get-started-tree-sitter">Read up on how to get started with
tree-sitter</a>
</p>
</div>

<ol class="org-ol">
<li><a id="org94ed6c9"></a>Treesit Auto<br />
<div class="outline-text-5" id="text-4-2-8-1">
<p>
Automatically install treesit grammars
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">treesit-auto</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>treesit-auto-install 'prompt<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>treesit-auto-add-to-auto-mode-alist 'all<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>global-treesit-auto-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>


<div id="outline-container-org07fd57b" class="outline-3">
<h3 id="org07fd57b"><span class="section-number-3">4.3.</span> Version Control</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Emacs is fantastic for interfacing with version control
systems. For git, it may have the best interface.
</p>
</div>

<div id="outline-container-orga9358f0" class="outline-4">
<h4 id="orga9358f0"><span class="section-number-4">4.3.1.</span> Magit</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
<a href="https://magit.vc/manual/magit.html">Magit</a> is a git interface for Emacs.
</p>

<p>
Here I set a global key for <code>magit-status</code>. Think 'G' looks like 6.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">magit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"&lt;f6&gt;"</span> . magit-status<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>magit-last-seen-setup-instructions <span style="color: #3e999f;">"1.4.0"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org79bf8c7"></a>Release 1.4.0<br />
<div class="outline-text-5" id="text-4-3-1-1">
<p>
This magit release warns about auto-revert of buffers.  This is
turned on by default and I will keep that setting.  To turn off
the magit warning, I set <code>magit-last-seen-setup-instructions</code> to
1.4.0 as shown above.
</p>
</div>
</li>

<li><a id="orgbc6d43b"></a>Forge<br />
<div class="outline-text-5" id="text-4-3-1-2">
<p>
Git is different than <a href="https://github.com">Github</a> and <a href="https://gitlab.com">Gitlab</a>. <a href="https://magit.vc/manual/forge/index.html#Top">Forge</a> provides the right
interface to work with both of these forges.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">forge</span>
  <span style="color: #8959a8;">:after</span> magit
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>forge-pull<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org20ccbc3" class="outline-4">
<h4 id="org20ccbc3"><span class="section-number-4">4.3.2.</span> Smerge</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
Somewhere along the line, <code>smerge</code> was added to native version
control support. To facilitate editing merge conflicts, this hydra
helps me do the work.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">smerge</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> smerge-mode-map <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c ^ h"</span> . hydra-smerge/body<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defhydra</span> hydra-smerge <span style="color: #eab700;">(</span><span style="color: #8959a8;">:color</span> amaranth<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"a"</span> smerge-keep-all <span style="color: #3e999f;">"Keep all"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"b"</span> smerge-keep-base <span style="color: #3e999f;">"Keep base"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"m"</span> smerge-keep-mine <span style="color: #3e999f;">"Keep mine"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"o"</span> smerge-keep-other <span style="color: #3e999f;">"Keep other"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"n"</span> smerge-next <span style="color: #3e999f;">"Next conflict"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"p"</span> smerge-previous <span style="color: #3e999f;">"Previous conflict"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"r"</span> smerge-resolve <span style="color: #3e999f;">"Keep mine"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"q"</span> nil <span style="color: #3e999f;">"quit"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc2f693c" class="outline-3">
<h3 id="orgc2f693c"><span class="section-number-3">4.4.</span> Checking</h3>
<div class="outline-text-3" id="text-4-4">
<p>
Authors can always use that little bit of extra help to ensure the
prose is right from the beginning.
</p>
</div>

<div id="outline-container-org5c1c326" class="outline-4">
<h4 id="org5c1c326"><span class="section-number-4">4.4.1.</span> Writegood Mode</h4>
<div class="outline-text-4" id="text-4-4-1">
<p>
To avoid weaslewords, passive voice, and accidental duplicates,
employ <a href="https://github.com/bnbeckwith/writegood-mode">Writegood</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">writegood-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c g"</span>     . writegood-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c C-g g"</span> . writegood-grade-level<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c C-g e"</span> . writegood-reading-ease<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4486ec1" class="outline-4">
<h4 id="org4486ec1"><span class="section-number-4">4.4.2.</span> Spell Checking</h4>
<div class="outline-text-4" id="text-4-4-2">
<p>
<a href="http://blog.binchen.org/posts/what-s-the-best-spell-check-set-up-in-emacs.html">This site</a> has an interesting suggestion on how to use <code>aspell</code> for
CamelCase spell checking.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">progn</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">cond</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>executable-find <span style="color: #3e999f;">"aspell"</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span><span style="color: #718c00;">setq</span> ispell-program-name <span style="color: #4d4d4c;">(</span>executable-find <span style="color: #3e999f;">"aspell"</span><span style="color: #4d4d4c;">)</span>
            ispell-extra-args '<span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">"--sug-mode=ultra"</span> <span style="color: #3e999f;">"--lang=en_US"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>t <span style="color: #4271ae;">(</span><span style="color: #718c00;">setq</span> ispell-program-name nil<span style="color: #4271ae;">)</span>
        <span style="color: #4271ae;">(</span>message <span style="color: #3e999f;">"No aspell found!"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">bind-key</span> <span style="color: #3e999f;">"H-$"</span> 'ispell-word<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org20690c8" class="outline-4">
<h4 id="org20690c8"><span class="section-number-4">4.4.3.</span> Proselint</h4>
<div class="outline-text-4" id="text-4-4-3">
<p>
To get a complete, robust analysis of writing, <a href="https://github.com/amperser/proselint">Proselint</a> can be
configured to work as a checker for flycheck.
</p>

<p>
Note that the executable needs to be installed on the system and
is not automatically provided.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> <span style="color: #3e999f;">"flycheck-mode"</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">flycheck-define-checker</span> proselint
    <span style="color: #8959a8;">"A linter for prose"</span>
    <span style="color: #8959a8;">:command</span> <span style="color: #eab700;">(</span><span style="color: #3e999f;">"proselint"</span> source-inplace<span style="color: #eab700;">)</span>
    <span style="color: #8959a8;">:error-patterns</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>warning line-start <span style="color: #4271ae;">(</span>file-name<span style="color: #4271ae;">)</span> <span style="color: #3e999f;">":"</span> line <span style="color: #3e999f;">":"</span> column <span style="color: #3e999f;">": "</span>
              <span style="color: #4271ae;">(</span>id <span style="color: #4d4d4c;">(</span>one-or-more <span style="color: #3e999f;">(</span>not <span style="color: #eab700;">(</span>any <span style="color: #3e999f;">" "</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
              <span style="color: #4271ae;">(</span>message <span style="color: #4d4d4c;">(</span>one-or-more not-newline<span style="color: #4d4d4c;">)</span>
                       <span style="color: #4d4d4c;">(</span>zero-or-more <span style="color: #3e999f;">"\n"</span> <span style="color: #3e999f;">(</span>any <span style="color: #3e999f;">" "</span><span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>one-or-more not-newline<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
              line-end<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #8959a8;">:modes</span> <span style="color: #eab700;">(</span>text-mode markdown-mode gfm-mode org-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'flycheck-checkers 'proselint<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org16ebbc9" class="outline-3">
<h3 id="org16ebbc9"><span class="section-number-3">4.5.</span> Buffers</h3>
<div class="outline-text-3" id="text-4-5">
<p>
Handling buffers is central to an effective Emacs experience. This
section adds in the tools to make management easy.
</p>
</div>

<div id="outline-container-org236ea7b" class="outline-4">
<h4 id="org236ea7b"><span class="section-number-4">4.5.1.</span> Midnight Mode</h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
This mode looks at midnight and kills any inactive buffers
(keeping things tidy). By default, <i>inactive</i> means is any buffer
untouched for three days.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">midnight</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:defer</span> 10<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8b896c7" class="outline-4">
<h4 id="org8b896c7"><span class="section-number-4">4.5.2.</span> IBuffer</h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
Use <code>ibuffer</code> instead of <code>list-buffers</code> for buffer management. The
most visible difference being the coloring that <code>ibuffer</code> uses.
</p>

<p>
I also squash any empty groups from being displayed and add hooks
to automatically set the filter groups and update contents.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ibuffer</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-x C-b"</span> . ibuffer<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>ibuffer-show-empty-filter-groups nil<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>ibuffer-mode . <span style="color: #eab700;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #718c00;">()</span>
                    <span style="color: #718c00;">(</span>ibuffer-auto-mode 1<span style="color: #718c00;">)</span>
                    <span style="color: #718c00;">(</span>ibuffer-switch-to-saved-filter-groups <span style="color: #3e999f;">"Standard"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org8d9a347"></a>Groups<br />
<div class="outline-text-5" id="text-4-5-2-1">
<p>
The buffer list splits into arbitrary groups for easier
management. Below I create an "Org" group for <code>org-mode</code> buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> ibuffer-saved-filter-groups
      '<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"Standard"</span>
         <span style="color: #718c00;">(</span><span style="color: #3e999f;">"Emacs"</span> <span style="color: #4271ae;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>filename . <span style="color: #3e999f;">".*bnb-emacs.*"</span><span style="color: #4d4d4c;">)</span>
                      <span style="color: #4d4d4c;">(</span>mode . emacs-lisp-mode<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span><span style="color: #3e999f;">"Org"</span> <span style="color: #4271ae;">(</span>mode . org-mode<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span><span style="color: #3e999f;">"Magit"</span> <span style="color: #4271ae;">(</span>name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*magit"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span><span style="color: #3e999f;">"Mail"</span> <span style="color: #4271ae;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>mode . message-mode<span style="color: #4d4d4c;">)</span>
                     <span style="color: #4d4d4c;">(</span>mode . mail-mode<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span><span style="color: #3e999f;">"HTML"</span> <span style="color: #4271ae;">(</span>mode . html-mode<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span><span style="color: #3e999f;">"Help"</span> <span style="color: #4271ae;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*Help</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span><span style="color: #4d4d4c;">)</span>
                     <span style="color: #4d4d4c;">(</span>name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*Apropos</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span><span style="color: #4d4d4c;">)</span>
                     <span style="color: #4d4d4c;">(</span>name . <span style="color: #3e999f;">"</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*info</span><span style="color: #c82829; font-weight: bold;">\</span><span style="color: #3e999f;">*"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orge66ccb8"></a>VC Grouping<br />
<div class="outline-text-6" id="text-4-5-2-1-1">
<p>
The <a href="https://github.com/purcell/ibuffer-vc">ibuffer-vc</a> Package provides groups according to version
control sets. Here I setup a small keybinding (<code>/ v</code>) to get to the
filtered vc groups.  The keys <code>/ R</code> will go back to the standard
view.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ibuffer-vc</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> ibuffer-mode-map
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"/ ;"</span> . ibuffer-vc-set-filter-groups-by-vc-root<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-org45d9da7" class="outline-4">
<h4 id="org45d9da7"><span class="section-number-4">4.5.3.</span> Unique Buffer Names</h4>
<div class="outline-text-4" id="text-4-5-3">
<p>
When editing files with the same name, but different location, a
unique identifier (based on path) is preferred over a number. The
format below shows the buffername as <code>&lt;filename&gt;:&lt;parent directory&gt;</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">uniquify</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> uniquify-buffer-name-style 'post-forward
        uniquify-separator <span style="color: #3e999f;">":"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge02b4d4" class="outline-4">
<h4 id="orge02b4d4"><span class="section-number-4">4.5.4.</span> OSX Reveal</h4>
<div class="outline-text-4" id="text-4-5-4">
<p>
For file-backed buffers, reveal the file in OSX finder with this
binding.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">reveal-in-osx-finder</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c z"</span> . reveal-in-osx-finder<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org2e3158f" class="outline-3">
<h3 id="org2e3158f"><span class="section-number-3">4.6.</span> Development</h3>
<div class="outline-text-3" id="text-4-6">
<p>
The minor modes for development deal mainly with parenthenses and
structured editing.
</p>
</div>

<div id="outline-container-org09be855" class="outline-4">
<h4 id="org09be855"><span class="section-number-4">4.6.1.</span> Check parens on save</h4>
<div class="outline-text-4" id="text-4-6-1">
<p>
This check has saved me from a broken configuration file many
times. I highly recommend.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>add-hook 'after-save-hook  'check-parens nil t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf3c1b6c" class="outline-4">
<h4 id="orgf3c1b6c"><span class="section-number-4">4.6.2.</span> Eldoc</h4>
<div class="outline-text-4" id="text-4-6-2">
<p>
While developing, documentation is nice to have handy and
automatic.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">eldoc</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>prog-mode . turn-on-eldoc-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>ielm-mode . turn-on-eldoc-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span> <span style="color: #3e999f;">(</span>eldoc-documentation-strategy 'eldoc-documentation-compose-eagerly<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>eldoc-add-command-completions <span style="color: #3e999f;">"paredit-"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfff06cd" class="outline-4">
<h4 id="orgfff06cd"><span class="section-number-4">4.6.3.</span> LSP</h4>
<div class="outline-text-4" id="text-4-6-3">
<p>
<a href="https://emacs-lsp.github.io/lsp-mode/">Language Server Protocol</a> support for Emacs lets us have a very
active and informed development process.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-M-i</td>
<td class="org-left">completion at point</td>
</tr>

<tr>
<td class="org-left">M-.</td>
<td class="org-left">Goto definition</td>
</tr>

<tr>
<td class="org-left">M-?</td>
<td class="org-left">Symbol references</td>
</tr>

<tr>
<td class="org-left">M-x</td>
<td class="org-left">Rename</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">lsp-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>lsp lsp-deferred<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>lsp-edoc-render-all t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>lsp-idle-delay 0.6<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>lsp-mode . lsp-enable-which-key-integration<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>lsp-mode . lsp-ui-mode<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>html-mode . lsp<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>json-mode . lsp<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>lisp-mode . lsp<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>python-mode . lsp<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>r-mode . lsp<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>racket-mode . lsp<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>rust-mode . lsp<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>sh-mode . lsp<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>yaml-mode . lsp<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">lsp-ui</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> lsp-ui-mode
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>lsp-ui-peek-always-show t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>lsp-ui-sideline-show-hover t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>lsp-ui-doc-enable nil<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org256376e" class="outline-4">
<h4 id="org256376e"><span class="section-number-4">4.6.4.</span> Paredit</h4>
<div class="outline-text-4" id="text-4-6-4">
<p>
I added <code>paredit-mode</code> to several of the lisp modes that follow.
</p>

<p>
<a href="http://www.emacswiki.org/emacs/PareditCheatsheet">Paredit Cheatsheet</a>
</p>

<p>
<a href="http://danmidwood.com/content/2014/11/21/animated-paredit.html">Animated Paredit</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">paredit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#127824;"</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>emacs-lisp-mode . paxedit-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>clojure-mode . paxedit-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>paredit-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org292a4d6" class="outline-4">
<h4 id="org292a4d6"><span class="section-number-4">4.6.5.</span> Paxedit</h4>
<div class="outline-text-4" id="text-4-6-5">
<p>
Maybe even <i>more</i> power for lisp coding?
<a href="https://github.com/promethial/paxedit">Paxedit repo</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">paxedit</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#41024;"</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>emacs-lisp-mode . paxedit-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>clojure-mode . paxedit-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> paxedit-mode-map
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-&lt;right&gt;"</span> . paxedit-transpose-forward<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-&lt;left&gt;"</span>  . paxedit-transpose-backward<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-&lt;up&gt;"</span>    . paxedit-backward-up<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-&lt;down&gt;"</span>  . paxedit-backward-end<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-b"</span>       . paxedit-previous-symbol<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-f"</span>       . paxedit-next-symbol<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-%"</span>       . paxedit-copy<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-&amp;"</span>       . paxedit-kill<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-*"</span>       . paxedit-delete<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-^"</span>       . paxedit-sexp-raise<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-u"</span>       . paxedit-symbol-change-case<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-@"</span>       . paxedit-symbol-copy<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-#"</span>       . paxedit-symbol-kill<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7f82a9f" class="outline-4">
<h4 id="org7f82a9f"><span class="section-number-4">4.6.6.</span> Rainbow Delimiters</h4>
<div class="outline-text-4" id="text-4-6-6">
<p>
In deeply nested structures (I'm looking at you lisp),
automatically coloring the matching delimiter can speed up
understanding and refactoring.
</p>

<p>
For a lighter-weight alternative, check out <code>show-paren-mode</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rainbow-delimiters</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span>prog-mode . rainbow-delimiters-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6174e59" class="outline-3">
<h3 id="org6174e59"><span class="section-number-3">4.7.</span> Organization</h3>
<div class="outline-text-3" id="text-4-7">
<p>
There are a couple of built-in features that help with
organization. (Outside of org-mode, that is)
</p>
</div>

<div id="outline-container-orgec8ce42" class="outline-4">
<h4 id="orgec8ce42"><span class="section-number-4">4.7.1.</span> Bookmarks</h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
<a href="http://emacswiki.org/emacs/BookMarks">http://emacswiki.org/emacs/BookMarks</a>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keystroke</th>
<th scope="col" class="org-left">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-x r m</code></td>
<td class="org-left">Set a bookmark</td>
</tr>

<tr>
<td class="org-left"><code>C-x r b</code></td>
<td class="org-left">Jump to a bookmark</td>
</tr>

<tr>
<td class="org-left"><code>C-x r l</code></td>
<td class="org-left">List your bookmarks</td>
</tr>

<tr>
<td class="org-left"><code>M-x bookmark-delete</code></td>
<td class="org-left">Delete bookmark by name</td>
</tr>
</tbody>
</table>

<p>
The settings below auto-save bookmarks, adds a fringe marker on the
current line when setting/jumping, and confirms bookmark deletion.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> bookmark-save-flag t
      bookmark-set-fringe-mark t
      bookmark-menu-confirm-deletion t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org48bf6ff" class="outline-4">
<h4 id="org48bf6ff"><span class="section-number-4">4.7.2.</span> Project</h4>
<div class="outline-text-4" id="text-4-7-2">
<p>
The built-in emacs package <code>project</code> replaces the projectile
functionality. Use <code>C-x p p</code> to navigate to a project and get started.
</p>

<p>
Useful key mappings
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Binding</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-x p p</code></td>
<td class="org-left">Find project</td>
</tr>

<tr>
<td class="org-left"><code>C-x p f</code></td>
<td class="org-left">Find file in project</td>
</tr>

<tr>
<td class="org-left"><code>C-x p b</code></td>
<td class="org-left">Find buffer in project</td>
</tr>

<tr>
<td class="org-left"><code>C-x p e</code></td>
<td class="org-left">Eshell in project</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div id="outline-container-org029f98d" class="outline-2">
<h2 id="org029f98d"><span class="section-number-2">5.</span> Major Modes</h2>
<div class="outline-text-2" id="text-5">
<p>
This section holds the details for major modes. These are interfaces
in their own right. 
</p>
</div>

<div id="outline-container-orgca01fe3" class="outline-3">
<h3 id="orgca01fe3"><span class="section-number-3">5.1.</span> File Management</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Finding files in the minibuffer is easy with the completion
frameworks above, but Emacs also functions very well as a fully
fledged file manager.
</p>
</div>

<div id="outline-container-org85b8584" class="outline-4">
<h4 id="org85b8584"><span class="section-number-4">5.1.1.</span> Dired</h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
The built-in directory editor, <code>dired</code>, can be customized to a great
degree. The following sections walk us through my particular
preferences.
</p>
</div>

<ol class="org-ol">
<li><a id="org924a3dd"></a>Basic Settings<br />
<div class="outline-text-5" id="text-5-1-1-1">
<p>
First, add the basic dired settings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> dired-kill-when-opening-new-dired-buffer t
      dired-do-revert-buffer t
      dired-mark-region t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The first setting, <code>dired-kill-when-opening-new-dired-buffer</code> keeps
<code>dired</code> from littering little visited folder buffers along the way.
</p>

<p>
To automatically revert buffers upon detected changes,
<code>dired-do-revert-buffer</code> is set to <code>t</code>.
</p>

<p>
Marking commands can now act on regions with <code>dired-mark-region</code>
set to <code>t</code>. 
</p>
</div>
</li>

<li><a id="org7d42a2c"></a>Hacks<br />
<div class="outline-text-5" id="text-5-1-1-2">
<p>
These are part of the <a href="https://github.com/Fuco1/dired-hacks">dired-hacks repository</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-hacks-utils</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org3d28eee"></a>Filter mode<br />
<div class="outline-text-6" id="text-5-1-1-2-1">
<p>
This first package provides <code>dired-filter-mode</code> giving some very
handy ways to filter the view. Enable it with <code>C-c C-d f</code> and then
get to the commands with <code>C-c C-f</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-filter</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span>dired-mode . dired-filter-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c C-d f"</span> . dired-filter-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind-keymap</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c C-f"</span> . dired-filter-map<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org95da16e"></a>Colorized Files<br />
<div class="outline-text-6" id="text-5-1-1-2-2">
<p>
This next addition colorizes files in dired accorting to type or
the <code>chmod</code> bits.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-rainbow</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">progn</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> html        <span style="color: #3e999f;">"#eb5286"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"css"</span> <span style="color: #3e999f;">"less"</span> <span style="color: #3e999f;">"sass"</span> <span style="color: #3e999f;">"scss"</span> <span style="color: #3e999f;">"htm"</span> <span style="color: #3e999f;">"html"</span> <span style="color: #3e999f;">"jhtm"</span> <span style="color: #3e999f;">"mht"</span> <span style="color: #3e999f;">"eml"</span> <span style="color: #3e999f;">"mustache"</span> <span style="color: #3e999f;">"xhtml"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> xml         <span style="color: #3e999f;">"#f2d024"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"xml"</span> <span style="color: #3e999f;">"xsd"</span> <span style="color: #3e999f;">"xsl"</span> <span style="color: #3e999f;">"xslt"</span> <span style="color: #3e999f;">"wsdl"</span> <span style="color: #3e999f;">"bib"</span> <span style="color: #3e999f;">"json"</span> <span style="color: #3e999f;">"msg"</span> <span style="color: #3e999f;">"pgn"</span> <span style="color: #3e999f;">"rss"</span> <span style="color: #3e999f;">"yaml"</span> <span style="color: #3e999f;">"yml"</span> <span style="color: #3e999f;">"rdata"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> document    <span style="color: #3e999f;">"#9561e2"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"docm"</span> <span style="color: #3e999f;">"doc"</span> <span style="color: #3e999f;">"docx"</span> <span style="color: #3e999f;">"odb"</span> <span style="color: #3e999f;">"odt"</span> <span style="color: #3e999f;">"pdb"</span> <span style="color: #3e999f;">"pdf"</span> <span style="color: #3e999f;">"ps"</span> <span style="color: #3e999f;">"rtf"</span> <span style="color: #3e999f;">"djvu"</span> <span style="color: #3e999f;">"epub"</span> <span style="color: #3e999f;">"odp"</span> <span style="color: #3e999f;">"ppt"</span> <span style="color: #3e999f;">"pptx"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> markdown    <span style="color: #3e999f;">"#ffed4a"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"org"</span> <span style="color: #3e999f;">"etx"</span> <span style="color: #3e999f;">"info"</span> <span style="color: #3e999f;">"markdown"</span> <span style="color: #3e999f;">"md"</span> <span style="color: #3e999f;">"mkd"</span> <span style="color: #3e999f;">"nfo"</span> <span style="color: #3e999f;">"pod"</span> <span style="color: #3e999f;">"rst"</span> <span style="color: #3e999f;">"tex"</span> <span style="color: #3e999f;">"textfile"</span> <span style="color: #3e999f;">"txt"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> database    <span style="color: #3e999f;">"#6574cd"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"xlsx"</span> <span style="color: #3e999f;">"xls"</span> <span style="color: #3e999f;">"csv"</span> <span style="color: #3e999f;">"accdb"</span> <span style="color: #3e999f;">"db"</span> <span style="color: #3e999f;">"mdb"</span> <span style="color: #3e999f;">"sqlite"</span> <span style="color: #3e999f;">"nc"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> media       <span style="color: #3e999f;">"#de751f"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"mp3"</span> <span style="color: #3e999f;">"mp4"</span> <span style="color: #3e999f;">"MP3"</span> <span style="color: #3e999f;">"MP4"</span> <span style="color: #3e999f;">"avi"</span> <span style="color: #3e999f;">"mpeg"</span> <span style="color: #3e999f;">"mpg"</span> <span style="color: #3e999f;">"flv"</span> <span style="color: #3e999f;">"ogg"</span> <span style="color: #3e999f;">"mov"</span> <span style="color: #3e999f;">"mid"</span> <span style="color: #3e999f;">"midi"</span> <span style="color: #3e999f;">"wav"</span> <span style="color: #3e999f;">"aiff"</span> <span style="color: #3e999f;">"flac"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> image       <span style="color: #3e999f;">"#f66d9b"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"tiff"</span> <span style="color: #3e999f;">"tif"</span> <span style="color: #3e999f;">"cdr"</span> <span style="color: #3e999f;">"gif"</span> <span style="color: #3e999f;">"ico"</span> <span style="color: #3e999f;">"jpeg"</span> <span style="color: #3e999f;">"jpg"</span> <span style="color: #3e999f;">"png"</span> <span style="color: #3e999f;">"psd"</span> <span style="color: #3e999f;">"eps"</span> <span style="color: #3e999f;">"svg"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> log         <span style="color: #3e999f;">"#c17d11"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"log"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> shell       <span style="color: #3e999f;">"#f6993f"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"awk"</span> <span style="color: #3e999f;">"bash"</span> <span style="color: #3e999f;">"bat"</span> <span style="color: #3e999f;">"sed"</span> <span style="color: #3e999f;">"sh"</span> <span style="color: #3e999f;">"zsh"</span> <span style="color: #3e999f;">"vim"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> interpreted <span style="color: #3e999f;">"#38c172"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"py"</span> <span style="color: #3e999f;">"ipynb"</span> <span style="color: #3e999f;">"rb"</span> <span style="color: #3e999f;">"pl"</span> <span style="color: #3e999f;">"t"</span> <span style="color: #3e999f;">"msql"</span> <span style="color: #3e999f;">"mysql"</span> <span style="color: #3e999f;">"pgsql"</span> <span style="color: #3e999f;">"sql"</span> <span style="color: #3e999f;">"r"</span> <span style="color: #3e999f;">"clj"</span> <span style="color: #3e999f;">"cljs"</span> <span style="color: #3e999f;">"scala"</span> <span style="color: #3e999f;">"js"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> compiled    <span style="color: #3e999f;">"#4dc0b5"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"asm"</span> <span style="color: #3e999f;">"cl"</span> <span style="color: #3e999f;">"lisp"</span> <span style="color: #3e999f;">"el"</span> <span style="color: #3e999f;">"c"</span> <span style="color: #3e999f;">"h"</span> <span style="color: #3e999f;">"c++"</span> <span style="color: #3e999f;">"h++"</span> <span style="color: #3e999f;">"hpp"</span> <span style="color: #3e999f;">"hxx"</span> <span style="color: #3e999f;">"m"</span> <span style="color: #3e999f;">"cc"</span> <span style="color: #3e999f;">"cs"</span> <span style="color: #3e999f;">"cp"</span> <span style="color: #3e999f;">"cpp"</span> <span style="color: #3e999f;">"go"</span> <span style="color: #3e999f;">"f"</span> <span style="color: #3e999f;">"for"</span> <span style="color: #3e999f;">"ftn"</span> <span style="color: #3e999f;">"f90"</span> <span style="color: #3e999f;">"f95"</span> <span style="color: #3e999f;">"f03"</span> <span style="color: #3e999f;">"f08"</span> <span style="color: #3e999f;">"s"</span> <span style="color: #3e999f;">"rs"</span> <span style="color: #3e999f;">"hi"</span> <span style="color: #3e999f;">"hs"</span> <span style="color: #3e999f;">"pyc"</span> <span style="color: #3e999f;">".java"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> executable  <span style="color: #3e999f;">"#8cc4ff"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"exe"</span> <span style="color: #3e999f;">"msi"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> compressed  <span style="color: #3e999f;">"#51d88a"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"7z"</span> <span style="color: #3e999f;">"zip"</span> <span style="color: #3e999f;">"bz2"</span> <span style="color: #3e999f;">"tgz"</span> <span style="color: #3e999f;">"txz"</span> <span style="color: #3e999f;">"gz"</span> <span style="color: #3e999f;">"xz"</span> <span style="color: #3e999f;">"z"</span> <span style="color: #3e999f;">"Z"</span> <span style="color: #3e999f;">"jar"</span> <span style="color: #3e999f;">"war"</span> <span style="color: #3e999f;">"ear"</span> <span style="color: #3e999f;">"rar"</span> <span style="color: #3e999f;">"sar"</span> <span style="color: #3e999f;">"xpi"</span> <span style="color: #3e999f;">"apk"</span> <span style="color: #3e999f;">"xz"</span> <span style="color: #3e999f;">"tar"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> packaged    <span style="color: #3e999f;">"#faad63"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"deb"</span> <span style="color: #3e999f;">"rpm"</span> <span style="color: #3e999f;">"apk"</span> <span style="color: #3e999f;">"jad"</span> <span style="color: #3e999f;">"jar"</span> <span style="color: #3e999f;">"cab"</span> <span style="color: #3e999f;">"pak"</span> <span style="color: #3e999f;">"pk3"</span> <span style="color: #3e999f;">"vdf"</span> <span style="color: #3e999f;">"vpk"</span> <span style="color: #3e999f;">"bsp"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> encrypted   <span style="color: #3e999f;">"#ffed4a"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"gpg"</span> <span style="color: #3e999f;">"pgp"</span> <span style="color: #3e999f;">"asc"</span> <span style="color: #3e999f;">"bfe"</span> <span style="color: #3e999f;">"enc"</span> <span style="color: #3e999f;">"signature"</span> <span style="color: #3e999f;">"sig"</span> <span style="color: #3e999f;">"p12"</span> <span style="color: #3e999f;">"pem"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> fonts       <span style="color: #3e999f;">"#6cb2eb"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"afm"</span> <span style="color: #3e999f;">"fon"</span> <span style="color: #3e999f;">"fnt"</span> <span style="color: #3e999f;">"pfb"</span> <span style="color: #3e999f;">"pfm"</span> <span style="color: #3e999f;">"ttf"</span> <span style="color: #3e999f;">"otf"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> partition   <span style="color: #3e999f;">"#e3342f"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"dmg"</span> <span style="color: #3e999f;">"iso"</span> <span style="color: #3e999f;">"bin"</span> <span style="color: #3e999f;">"nrg"</span> <span style="color: #3e999f;">"qcow"</span> <span style="color: #3e999f;">"toast"</span> <span style="color: #3e999f;">"vcd"</span> <span style="color: #3e999f;">"vmdk"</span> <span style="color: #3e999f;">"bak"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define</span> vc          <span style="color: #3e999f;">"#0074d9"</span> <span style="color: #718c00;">(</span><span style="color: #3e999f;">"git"</span> <span style="color: #3e999f;">"gitignore"</span> <span style="color: #3e999f;">"gitattributes"</span> <span style="color: #3e999f;">"gitmodules"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define-chmod</span> executable-unix <span style="color: #3e999f;">"#38c172"</span> <span style="color: #3e999f;">"-.*x.*"</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">dired-rainbow-define-chmod</span> directory       <span style="color: #3e999f;">"#6cb2eb"</span> <span style="color: #3e999f;">"d.*"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org7fcd80d"></a>Narrowing<br />
<div class="outline-text-6" id="text-5-1-1-2-3">
<p>
Instead of <a href="#org3d28eee">filter mode</a>, we can use two functions to narrow the
<code>dired</code> buffer to only the matches. The flavors of filterring are
<i>fuzzy</i> or <i>regexp</i>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-narrow</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> dired-mode-map
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-d n"</span> . dired-narrow-fuzzy<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-d r"</span> . dired-narrow-regexp<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgb375dec"></a>Collapsing directories<br />
<div class="outline-text-6" id="text-5-1-1-2-4">
<p>
In the case of deep folder structures without any intermediate
files (files only in the leaves), this mode helps collapse the
view to be easier to navigate.
</p>

<p>
Per the documentation, this will be especially useful in
directories such as <code>~/.config/foo/config</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dired-collapse</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c C-d c"</span> . dired-collapse-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgf61e19d"></a>External Commands<br />
<div class="outline-text-6" id="text-5-1-1-2-5">
<p>
Also, there is a nice faculty to run an external command on a given
file with <code>=!=</code>.
</p>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-org91bc8d8" class="outline-4">
<h4 id="org91bc8d8"><span class="section-number-4">5.1.2.</span> Neotree</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
Neotree is a file sidebar for navigation.  Dired has a superior
interface for interacting with files, but <code>Neotree</code> offers the tree
stucture view for the times you need to see the whole folder tree.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">neotree</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>neotree<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-t"</span> . neotree-toggle<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> neo-theme <span style="color: #eab700;">(</span><span style="color: #718c00;">if</span> <span style="color: #718c00;">(</span>display-graphic-p<span style="color: #718c00;">)</span> 'icons 'arrow<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9772500" class="outline-3">
<h3 id="org9772500"><span class="section-number-3">5.2.</span> Documents</h3>
<div class="outline-text-3" id="text-5-2">
<p>
These days, one of my favorite uses of the one true editor is to
author prose and scientific writing. These major modes provide the
tools to make this easy and fun.
</p>
</div>

<div id="outline-container-org0add342" class="outline-4">
<h4 id="org0add342"><span class="section-number-4">5.2.1.</span> AucTeX</h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
Using TeX systems is easy with AUCTeX. To learn everything, read
the <a href="https://www.gnu.org/software/auctex/manual/auctex/index.html">AUCTeX Manual</a>.
</p>

<p>
The following block ensures that AUCTeX builds and loads
correctly. The main settings deal with setting up <code>PDF</code> output and
the <code>xetex</code> engine.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">auctex</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:after</span> org
  <span style="color: #8959a8;">:ensure</span> <span style="color: #3e999f;">(</span>auctex <span style="color: #8959a8;">:pre-build</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span><span style="color: #3e999f;">"./autogen.sh"</span><span style="color: #718c00;">)</span>
                              <span style="color: #718c00;">(</span><span style="color: #3e999f;">"./configure"</span> <span style="color: #3e999f;">"--without-texmf-dir"</span> <span style="color: #3e999f;">"--with-lispdir=."</span><span style="color: #718c00;">)</span>
                              <span style="color: #718c00;">(</span><span style="color: #3e999f;">"make"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.tex\\'"</span> . LaTeX-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.tex\\.erb\\'"</span> . LaTeX-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.etx\\'"</span> . LaTeX-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>LaTeX-mode . flyspell-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>LaTeX-mode . LaTeX-math-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>LaTeX-mode . auto-fill-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>LaTeX-mode . orgtbl-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>doc-view-mode . auto-revert-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> TeX-auto-untabify t
        TeX-auto-save t
        TeX-save-query nil
        TeX-parse-self t
        TeX-output-view-style
        <span style="color: #eab700;">(</span><span style="color: #718c00;">if</span> <span style="color: #718c00;">(</span>eq system-type 'windows-nt<span style="color: #718c00;">)</span>
            <span style="color: #718c00;">(</span><span style="color: #718c00;">quote</span>
             <span style="color: #4271ae;">(</span><span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">"^pdf$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"SumatraPDF.exe -reuse-instance %o"</span><span style="color: #4d4d4c;">)</span>
              <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">"^html?$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"start %o"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #718c00;">quote</span>
           <span style="color: #4271ae;">(</span><span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">"^pdf$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"evince -f %o"</span><span style="color: #4d4d4c;">)</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">"^html?$"</span> <span style="color: #3e999f;">"."</span> <span style="color: #3e999f;">"start %o"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
        TeX-command-extra-options <span style="color: #3e999f;">"-shell-escape"</span>
        TeX-PDF-mode 1
        TeX-engine 'xetex<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq-default</span> TeX-master nil<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq-default</span> TeX-global-PDF-mode 1<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'org-latex-packages-alist
               '<span style="color: #eab700;">(</span><span style="color: #3e999f;">""</span> <span style="color: #3e999f;">"tikz"</span> t<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'org-latex-packages-alist
               '<span style="color: #eab700;">(</span><span style="color: #3e999f;">""</span> <span style="color: #3e999f;">"minted"</span> t<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-latex-create-formula-image-program 'imagemagick<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>eval-after-load <span style="color: #3e999f;">"preview"</span>
    '<span style="color: #eab700;">(</span>add-to-list 'preview-default-preamble <span style="color: #3e999f;">"\\PreviewEnvironment{tikzpicture}"</span> t<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Let me walk through some of the settings.
</p>

<p>
Parse-self and auto-save will parse the file on load and save
respectively. Untabify will remove tabs (real ones) before saving.
</p>

<p>
I also have a default of <code>TeX-master</code> set to <code>nil</code>. I used to have it
set to "master" as recommended in the documentation, but I had bad
results for LaTeX files generated on the fly.
</p>

<p>
For viewing the output, I can specify the command to use on the
files generated in the process. However, the programs differ on
GNU/Linux and Windows, so I have per-platform settings.
</p>

<p>
There are two settings that add the <code>tikz</code> and <code>minted</code> packages to
<code>org-mode</code> exports.
</p>
</div>

<ol class="org-ol">
<li><a id="orgf2ee47e"></a>RefTeX<br />
<div class="outline-text-5" id="text-5-2-1-1">
<p>
RefTeX provides navigation, easy references, easy citations and
integrates well into AUCTeX. Find all of the details in the
<a href="https://www.gnu.org/software/auctex/manual/reftex/index.html">RefTeX Manual</a>.
</p>

<p>
Automatically turn it on in LaTeX modes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>add-hook 'LaTeX-mode-hook 'turn-on-reftex<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Keystroke</th>
<th scope="col" class="org-left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c =</td>
<td class="org-left">Show TOC and jump to sections</td>
</tr>

<tr>
<td class="org-left">C-c (</td>
<td class="org-left">Insert a label</td>
</tr>

<tr>
<td class="org-left">C-c )</td>
<td class="org-left">Reference a label</td>
</tr>

<tr>
<td class="org-left">C-c [</td>
<td class="org-left">Insert a citation (from BibTex db)</td>
</tr>

<tr>
<td class="org-left">C-c &lt;</td>
<td class="org-left">Index entry</td>
</tr>

<tr>
<td class="org-left">C-c &gt;</td>
<td class="org-left">View index</td>
</tr>

<tr>
<td class="org-left">C-c &amp;</td>
<td class="org-left">View crossref</td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</div>

<div id="outline-container-org8bc35e3" class="outline-4">
<h4 id="org8bc35e3"><span class="section-number-4">5.2.2.</span> HTML</h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
The document standard that is ubiquitous, but typically authored
through some processing tool. This section helps wtih the real
hands-on editing of HTML (and other similarily structued)
documents.
</p>
</div>

<ol class="org-ol">
<li><a id="org52b99a1"></a>Impatient mode<br />
<div class="outline-text-5" id="text-5-2-2-1">
<p>
In order to play nicely with HTML+, it needs to be added to the
filters of impatient mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">impatient-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.html\\'"</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-x C-h s"</span> . httpd-start<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-x C-h x"</span> . httpd-stop<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-x C-h d"</span> . httpd-serve-directory<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>add-to-list 'imp-default-user-filters '<span style="color: #eab700;">(</span>mhtml-mode . nil<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
To use impatient mode, you'll first want to call <code>httpd-start</code> and
then navigate to <a href="http://localhost:8080/imp">http://localhost:8080/imp</a> to see the rendered
buffers.
</p>
</div>
</li>

<li><a id="org71bc905"></a>Emmet<br />
<div class="outline-text-5" id="text-5-2-2-2">
<p>
<a href="https://github.com/smihica/emmet-mode">Emmet mode</a> allows for terse description of nested elements. There
is great documentation on the approach at <a href="http://emmet.io">emmet.io</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">emmet-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>emmet-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>web-mode  . emmet-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>sgml-mode . emmet-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>css-mode  . emmet-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgb984cc0" class="outline-4">
<h4 id="orgb984cc0"><span class="section-number-4">5.2.3.</span> Markdown</h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
Everything can't be as nice as <a href="#orgf3faca8">org-mode</a>. Oh well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">markdown-mode</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>markdown-mode gfm-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"README\\.md\\'"</span> . gfm-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.md\\'"</span> . markdown-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.markdown\\'"</span> . markdown-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span> <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> markdown-command <span style="color: #3e999f;">"multimarkdown"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf3faca8" class="outline-4">
<h4 id="orgf3faca8"><span class="section-number-4">5.2.4.</span> Orgmode</h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
The one feature I cannot do without. Let's set up some basics.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org</span>
  <span style="color: #8959a8;">:ensure</span> <span style="color: #3e999f;">(</span>org <span style="color: #8959a8;">:type</span> git <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"https://git.savannah.gnu.org/git/emacs/org-mode.git"</span> <span style="color: #8959a8;">:tag</span> <span style="color: #3e999f;">"release_9.6.19"</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">(</span>org-mode <span style="color: #3e999f;">"&#129412;"</span> <span style="color: #8959a8;">:major</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"\\.org</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">_archive</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">?\\'"</span> . org-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c t"</span>  . orgtbl-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c l"</span>  . org-store-link<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c r"</span>  . org-capture<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c a"</span>  . org-agenda<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"&lt;f12&gt;"</span>  . org-agenda<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-z"</span>    . org-agenda<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"&lt;apps&gt;"</span> . org-agenda<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"&lt;f9&gt; g"</span> . org-clock-goto<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"&lt;f9&gt; i"</span> . org-clock-in<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"&lt;f9&gt; o"</span> . org-clock-out<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> org-mode-map
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-i"</span>   . org-toggle-inline-images<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c ,"</span> . org-insert-structure-template<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c ,"</span> . org-insert-structure-template<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"M-o"</span>   . ace-link-org<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>org-babel-after-execute . <span style="color: #eab700;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #718c00;">()</span> <span style="color: #718c00;">(</span>org-display-inline-images t t<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
This block installs <a href="https://orgmode.org/">org-mode</a> along with some bindings.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Binding</th>
<th scope="col" class="org-left">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-c t</code></td>
<td class="org-left">Edit tables in any mode</td>
</tr>

<tr>
<td class="org-left"><code>C-c l</code></td>
<td class="org-left">Store a link to thing at point</td>
</tr>

<tr>
<td class="org-left"><code>C-c r</code></td>
<td class="org-left">Dispatch org capture</td>
</tr>

<tr>
<td class="org-left"><code>&lt;f12&gt;</code></td>
<td class="org-left">Open org agenda</td>
</tr>

<tr>
<td class="org-left"><code>H-z</code></td>
<td class="org-left">Open org agenda</td>
</tr>

<tr>
<td class="org-left"><code>&lt;apps&gt;</code></td>
<td class="org-left">Open org agenda</td>
</tr>

<tr>
<td class="org-left"><code>&lt;f9&gt; g</code></td>
<td class="org-left">Goto open org clock</td>
</tr>

<tr>
<td class="org-left"><code>&lt;f9&gt; i</code></td>
<td class="org-left">Org clock in</td>
</tr>

<tr>
<td class="org-left"><code>&lt;f9&gt; o</code></td>
<td class="org-left">Org clock out</td>
</tr>
</tbody>
</table>
</div>

<ol class="org-ol">
<li><a id="orgc7680bf"></a>Contrib<br />
<div class="outline-text-5" id="text-5-2-4-1">
<p>
There are a set of contributed packages that install nicely
together. This code block ensures that the libraries are
available.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-contrib</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org58f9ce6"></a>Auto mode<br />
<div class="outline-text-5" id="text-5-2-4-2">
<p>
I add <code>_archive</code> to the list of known org files. This alternative
extensions correctly identifies org archives (<code>.org_archive</code>).
</p>

<p>
This mode is set above with <code>use-package</code>.
</p>
</div>
</li>

<li><a id="org35fdd93"></a>Hooks<br />
<div class="outline-text-5" id="text-5-2-4-3">
<p>
There are two hooks to consider. Theone initialized in <a href="#orgf3faca8">5.2.4</a>
toggles on the inline images.
</p>

<p>
The next hook just saves the org files opened before exiting
emacs &#x2013; just in case.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-hook 'bnb/kill-emacs-hooks 'org-save-all-org-buffers 'append<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgbf840bc"></a>Speed Keys<br />
<div class="outline-text-5" id="text-5-2-4-4">
<p>
Using org-mode efficiently for task management is best done with
speed keys. This are in effect when the cursor is on the first <code>*</code>
of a headline. And they come with an easy cheat-sheet by typing
<code>?</code>. I enable this feature and add some of my own commands.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-use-speed-commands t
        org-speed-commands
        <span style="color: #eab700;">(</span>append org-speed-commands
                '<span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span><span style="color: #3e999f;">"BNB Additions"</span><span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"0"</span> . delete-window<span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"1"</span> . delete-other-windows<span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"2"</span> . split-window-vertically<span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"3"</span> . split-window-horizontally<span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"z"</span> . org-add-note<span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"h"</span> . hide-other<span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"."</span> . org-save-all-org-buffers<span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"/"</span> . org-global-cycle<span style="color: #4271ae;">)</span>
                  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"k"</span> . #'<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #3e999f;">()</span>
                              <span style="color: #3e999f;">(</span>org-mark-subtree<span style="color: #3e999f;">)</span>
                              <span style="color: #3e999f;">(</span>kill-region
                               <span style="color: #eab700;">(</span>region-beginning<span style="color: #eab700;">)</span>
                               <span style="color: #eab700;">(</span>region-end<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgeec0e76"></a>Org Configuration<br />
<div class="outline-text-5" id="text-5-2-4-5">
<p>
This is the meat of what Org can do. Keeping track of todo items
with due dates, tags, etc. is really powerful. And I get to
customize it to suit my needs and my workflow.
</p>
</div>

<ol class="org-ol">
<li><a id="org1b9daf9"></a>Keywords<br />
<div class="outline-text-6" id="text-5-2-4-5-1">
<p>
The keywords that org uses in the headlines exist as sequences
describing the state changes. <a href="https://orgmode.org/manual/Workflow-states.html">The sequences</a> describe how you can
cycle through the different states. However, I don't cycle
through states and just select them. I find that is better for
the large list of possibilities here.
</p>

<p>
The characters in <code>()</code> also allow fast access to these states
described <a href="https://orgmode.org/manual/Fast-access-to-TODO-states.html">here</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-todo-keywords
        '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>sequence <span style="color: #3e999f;">"TODO(t)"</span> <span style="color: #3e999f;">"NEXT(n)"</span> <span style="color: #3e999f;">"|"</span> <span style="color: #3e999f;">"DONE(d!/!)"</span><span style="color: #718c00;">)</span>
                <span style="color: #718c00;">(</span>sequence <span style="color: #3e999f;">"WAITING(w@/!)"</span> <span style="color: #3e999f;">"SOMEDAY(s!)"</span> <span style="color: #3e999f;">"|"</span> <span style="color: #3e999f;">"CANCELED(c@/!)"</span><span style="color: #718c00;">)</span>
                <span style="color: #718c00;">(</span>sequence <span style="color: #3e999f;">"CANCELED(c@/!)"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org533f194"></a>Tags<br />
<div class="outline-text-6" id="text-5-2-4-5-2">
<p>
Org uses tags on headlines for organization. I don't currently
use them much. I organize mainly by file with a file tag
specified via <a href="https://orgmode.org/manual/In_002dbuffer-Settings.html">in-buffer settings</a> (<code>#+FILETAGS</code>).
</p>

<p>
However, a global tag list provides a selection list for the
tagging interface. I use 'project' as my tag to easily
differentiate simple tasks from more complex ones.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-tag-alist '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span><span style="color: #3e999f;">"PROJECT"</span> . ?p<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org20554c9"></a>Mechanics<br />
<div class="outline-text-6" id="text-5-2-4-5-3">
<p>
The todo interface allows easy selection of states and triggers
on certain states to store notes.
</p>

<p>
Instead of cycling through states (and possibly triggering log
entries), I prefer fast entry to jump right to the correct
state. I also turn off the S-cursor transitions as state changes
to avoid the logging prompts.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-use-fast-todo-selection t
        org-treat-S-cursor-todo-selection-as-state-change nil<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Upon changing the state of todo items, I can automatically
add/remove tags with the following list. It's a bit lispy, but
describes what happens upon entry in the specified state. The
state named as a string has tuples of tags and flags. 't'
indicates to set the flag, empty means to remove it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-todo-state-tags-triggers
        '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span><span style="color: #3e999f;">"CANCELED"</span> <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"CANCELED"</span> . t<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"WAITING"</span>  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"WAITING"</span> . t<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"SOMEDAY"</span>  <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"SOMEDAY"</span> . t<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>done       <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"WAITING"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"TODO"</span>     <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"WAITING"</span><span style="color: #4271ae;">)</span> <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"CANCELED"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"NEXT"</span>     <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"WAITING"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"DONE"</span>     <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"WAITING"</span><span style="color: #4271ae;">)</span> <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"CANCELED"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Along with tags and states are priorities. I do not use task
priorities myself so I turn them off.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-enable-priority-commands nil<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org6aacb52"></a>Logging<br />
<div class="outline-text-7" id="text-5-2-4-5-3-1">
<p>
Org allows logging of states. I turn this on to prompt myself
for reasons behind specific state changes. There is also a
setting to set a different drawer for clocking and logs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-log-done       'note
        org-log-redeadline 'time
        org-log-reschedule 'time
        org-log-into-drawer t
        org-drawers '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"PROPERTIES"</span> <span style="color: #3e999f;">"LOGBOOK"</span> <span style="color: #3e999f;">"CLOCK"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org053dfd4"></a>Sub-tasks<br />
<div class="outline-text-7" id="text-5-2-4-5-3-2">
<p>
Naturally, some tasks are projects composed of smaller
sub-tasks. Org handles this easily. I like to enforce the
dependencies of regular todo items and plain checkbox lists. In
this way, the overall item cannot change to done without the
completion of the sub-tasks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-enforce-todo-checkbox-dependencies t
        org-enforce-todo-dependencies t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Because of the previous enforcement of state, I can also
automatically infer when a parent state is complete. The
following code marks the parent complete once the sub-tasks
are all done.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">org-summary-todo</span> <span style="color: #eab700;">(</span>n-done n-not-done<span style="color: #eab700;">)</span>
    <span style="color: #8959a8;">"Switch entry to DONE when all sub-entries are done, to TODO otherwise."</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">let</span> <span style="color: #718c00;">(</span>org-log-done org-log-states<span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>org-todo <span style="color: #4271ae;">(</span><span style="color: #718c00;">if</span> <span style="color: #4d4d4c;">(</span>= n-not-done 0<span style="color: #4d4d4c;">)</span> <span style="color: #3e999f;">"DONE"</span> <span style="color: #3e999f;">"TODO"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-hook 'org-after-todo-statistics-hook 'org-summary-todo<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</li>

<li><a id="org9870660"></a>Capture<br />
<div class="outline-text-5" id="text-5-2-4-6">
<p>
<a href="https://orgmode.org/manual/Capture.html">Capturing</a> is crucial to a task system and in this vein, org is no
slouch. The capture templates define what get captured, where it
goes, and what the user needs to type.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Files</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-default-notes-file <span style="color: #3e999f;">"~/Documents/Org/Inbox.org"</span>
      bnb/weekly-reports-file <span style="color: #3e999f;">"~/Documents/Org/WeeklyReports.org"</span><span style="color: #4d4d4c;">)</span>

<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Default templates</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-capture-templates
      `<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"t"</span> <span style="color: #3e999f;">"Todo"</span> entry
         <span style="color: #718c00;">(</span>file ,org-default-notes-file<span style="color: #718c00;">)</span>
         <span style="color: #3e999f;">"* TODO %?\n  %U\n%^{Score}p"</span> <span style="color: #8959a8;">:clock-in</span> t <span style="color: #8959a8;">:clock-resume</span> t<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"r"</span> <span style="color: #3e999f;">"todo (Remember location)"</span> entry
         <span style="color: #718c00;">(</span>file org-default-notes-file<span style="color: #718c00;">)</span>
         <span style="color: #3e999f;">"* TODO %?\n  %U\n  %a"</span> <span style="color: #8959a8;">:clock-in</span> t <span style="color: #8959a8;">:clock-resume</span> t<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"n"</span> <span style="color: #3e999f;">"Note"</span> entry
         <span style="color: #718c00;">(</span>file org-default-notes-file<span style="color: #718c00;">)</span>
         <span style="color: #3e999f;">"* %?                                                                            :NOTE:\n  %U\n  %a\n  :CLOCK:\n  :END:"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"c"</span> <span style="color: #3e999f;">"Capture current TODO mix in table"</span> table-line <span style="color: #718c00;">(</span>file+headline ,bnb/weekly-reports-file <span style="color: #3e999f;">"Burndown"</span><span style="color: #718c00;">)</span>
         <span style="color: #3e999f;">"%(bnb/org-count-tasks-by-status)"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s"</span> <span style="color: #3e999f;">"Capture Weekly Score in table"</span> table-line <span style="color: #718c00;">(</span>file+headline ,bnb/weekly-reports-file <span style="color: #3e999f;">"Scores"</span><span style="color: #718c00;">)</span>
         <span style="color: #3e999f;">"%(bnb/add-weekly-score-table-entry)"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"e"</span> <span style="color: #3e999f;">"Capture Weekly time in table"</span> table-line <span style="color: #718c00;">(</span>file+headline ,bnb/weekly-reports-file <span style="color: #3e999f;">"Minutes"</span><span style="color: #718c00;">)</span>
         <span style="color: #3e999f;">"%(bnb/org-time-logged-table-entry)"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"u"</span> <span style="color: #3e999f;">"Url"</span> entry <span style="color: #718c00;">(</span>file ,org-default-notes-file<span style="color: #718c00;">)</span>
         <span style="color: #3e999f;">"* TODO %?\n  %U\n\n  %(org-mac-chrome-get-frontmost-url)"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"m"</span> <span style="color: #3e999f;">"Mail"</span> entry <span style="color: #718c00;">(</span>file ,org-default-notes-file<span style="color: #718c00;">)</span>
         <span style="color: #3e999f;">"* TODO %?\n  %U\n\n  %(org-mac-message-get-links \"s\")"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
There are five main capture templates here. The first two store a
todo item in my Refile.org file. The only difference is automatic
(contextual) link storage in the second case.
</p>

<p>
The next item simply stores a note. The next for "Weekly Report"
is a work in progress. I think that I'll have to either settle
for a proper datetree or write a custom function.
</p>

<p>
The final item is not for direct use, but through the
<code>org-protocol</code> interface and <code>org-outlook</code> usage. This lets me add a
link to an Outlook message on windows. I can then get an email at
work, mark it to store in emacs and quickly get back to the
message later.
</p>
</div>

<ol class="org-ol">
<li><a id="orgeb57025"></a>Capture-template helpers for data tables<br />
<div class="outline-text-6" id="text-5-2-4-6-1">
<p>
These helpers provide functionality used in the capture templates
above.
</p>

<p>
Modified from <a href="http://sachachua.com/blog/2014/05/getting-r-ggplot2-work-emacs-org-mode-babel-blocks-also-tracking-number-todos/">Sacha Chua</a>, this code get the current mix of tasks
in the agenda files. I use this as part of my weekly review for
task amount and mix at a glance.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-count-tasks-by-status</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Create a table entry for the tracking of task mix."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>counts <span style="color: #4271ae;">(</span>make-hash-table <span style="color: #8959a8;">:test</span> 'equal<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span>today <span style="color: #4271ae;">(</span>format-time-string <span style="color: #3e999f;">"%Y-%m-%d"</span> <span style="color: #4d4d4c;">(</span>current-time<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        values output<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>org-map-entries
     <span style="color: #718c00;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #4271ae;">()</span>
       <span style="color: #4271ae;">(</span><span style="color: #718c00;">let</span> <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>status <span style="color: #eab700;">(</span>elt <span style="color: #718c00;">(</span>org-heading-components<span style="color: #718c00;">)</span> 2<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
         <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">when</span> status
           <span style="color: #3e999f;">(</span>puthash status <span style="color: #eab700;">(</span>1+ <span style="color: #718c00;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>gethash status counts<span style="color: #4d4d4c;">)</span> 0<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> counts<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #3e999f;">"-HOME"</span>
     'agenda<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> values <span style="color: #718c00;">(</span>mapcar <span style="color: #4271ae;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #4d4d4c;">(</span>x<span style="color: #4d4d4c;">)</span>
                           <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">or</span> <span style="color: #3e999f;">(</span>gethash x counts<span style="color: #3e999f;">)</span> 0<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
                         '<span style="color: #4271ae;">(</span><span style="color: #3e999f;">"DONE"</span> <span style="color: #3e999f;">"TODO"</span> <span style="color: #3e999f;">"WAITING"</span> <span style="color: #3e999f;">"CANCELLED"</span> <span style="color: #3e999f;">"SOMEDAY"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> output
          <span style="color: #718c00;">(</span>concat <span style="color: #3e999f;">"| "</span> today <span style="color: #3e999f;">" | "</span>
                  <span style="color: #4271ae;">(</span>mapconcat 'number-to-string values <span style="color: #3e999f;">" | "</span><span style="color: #4271ae;">)</span>
                  <span style="color: #3e999f;">" | "</span>
                  <span style="color: #4271ae;">(</span>number-to-string <span style="color: #4d4d4c;">(</span>apply '+ values<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
                  <span style="color: #3e999f;">" | "</span>
                  <span style="color: #4271ae;">(</span>number-to-string
                   <span style="color: #4d4d4c;">(</span>round <span style="color: #3e999f;">(</span>/ <span style="color: #eab700;">(</span>* 100.0 <span style="color: #718c00;">(</span>car values<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #eab700;">(</span>apply '+ values<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
                  <span style="color: #3e999f;">"% |"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">if</span> <span style="color: #718c00;">(</span>called-interactively-p 'any<span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span>insert output<span style="color: #718c00;">)</span>
      output<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
I also have a helper function to get the score of done tasks
closed within the last week.  I store this in a table line with
year and workweek number.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/add-weekly-score-table-entry</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Track my weekly scores in a table."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>score <span style="color: #4271ae;">(</span>apply
                '+
                <span style="color: #4d4d4c;">(</span>org-map-entries
                 <span style="color: #3e999f;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #eab700;">()</span>
                   <span style="color: #eab700;">(</span>string-to-number <span style="color: #718c00;">(</span><span style="color: #718c00;">or</span> <span style="color: #4d4d4c;">(</span>org-entry-get <span style="color: #3e999f;">(</span>point<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">"Score"</span><span style="color: #4d4d4c;">)</span> <span style="color: #3e999f;">"0"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
                 <span style="color: #3e999f;">"/DONE"</span>
                 'agenda<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span>year <span style="color: #4271ae;">(</span>format-time-string <span style="color: #3e999f;">"%Y"</span> <span style="color: #4d4d4c;">(</span>current-time<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span>ww <span style="color: #4271ae;">(</span>number-to-string <span style="color: #4d4d4c;">(</span>bnb/workweek<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>format <span style="color: #3e999f;">"| %s | %s | %s |"</span> year ww score<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
How about the hours logged last week? Let's give that a go. Note
that if there are no clocked hours for a week, this comes up
empty.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/org-time-logged-table-entry</span> <span style="color: #3e999f;">(</span><span style="color: #4271ae;">&amp;optional</span> additional-weeks include-zeros<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Insert table of minutes per category.</span>
<span style="color: #8959a8;">  Optionally provide ADDITIONAL-WEEKS to get more history"</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span> <span style="color: #3e999f;">"P"</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">unless</span> additional-weeks <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> additional-weeks 0<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let*</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>minh <span style="color: #4271ae;">(</span>make-hash-table <span style="color: #8959a8;">:test</span> 'equal<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>now <span style="color: #4271ae;">(</span>decode-time<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>start <span style="color: #4271ae;">(</span>encode-time 0 0 0 <span style="color: #4d4d4c;">(</span>- <span style="color: #3e999f;">(</span>nth 3 now<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>nth 6 now<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>* 7 <span style="color: #eab700;">(</span><span style="color: #718c00;">or</span> additional-weeks 1<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span> <span style="color: #4d4d4c;">(</span>nth 4 now<span style="color: #4d4d4c;">)</span> <span style="color: #4d4d4c;">(</span>nth 5 now<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>today <span style="color: #4271ae;">(</span>format-time-string <span style="color: #3e999f;">"%Y-%m-%d"</span> <span style="color: #4d4d4c;">(</span>current-time<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Collect minutes clocked per category</span>
    <span style="color: #eab700;">(</span>org-map-entries
     <span style="color: #718c00;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #4271ae;">()</span>
       <span style="color: #4271ae;">(</span><span style="color: #718c00;">let</span> <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>category <span style="color: #eab700;">(</span>org-entry-get-with-inheritance <span style="color: #3e999f;">"CATEGORY"</span> t<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>minutes <span style="color: #eab700;">(</span>org-clock-sum-current-item start<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
         <span style="color: #4d4d4c;">(</span>puthash category <span style="color: #3e999f;">(</span>+ minutes
                              <span style="color: #eab700;">(</span><span style="color: #718c00;">or</span> <span style="color: #718c00;">(</span>gethash category minh<span style="color: #718c00;">)</span> 0<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span> <span style="color: #c82829; font-weight: bold;">minh</span><span style="color: #4d4d4c; font-weight: bold;">)</span><span style="color: #4271ae; font-weight: bold;">)</span><span style="color: #718c00; font-weight: bold;">)</span>
     t
     'agenda<span style="color: #eab700;">)</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Print out table lines</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">let</span> <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>rows nil<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>maphash
       <span style="color: #4271ae;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #4d4d4c;">(</span>k v<span style="color: #4d4d4c;">)</span>
         <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">when</span> <span style="color: #3e999f;">(</span><span style="color: #718c00;">or</span> <span style="color: #eab700;">(</span>&gt; v 0<span style="color: #eab700;">)</span> include-zeros<span style="color: #3e999f;">)</span> 
           <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> rows
                 <span style="color: #eab700;">(</span>cons <span style="color: #718c00;">(</span>format <span style="color: #3e999f;">"| %s | %s | %d |"</span> today k v<span style="color: #718c00;">)</span> rows<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
       minh<span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span><span style="color: #718c00;">if</span> <span style="color: #4271ae;">(</span>called-interactively-p 'any<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span>insert <span style="color: #4d4d4c;">(</span>mapconcat 'identity rows <span style="color: #3e999f;">"\n"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
        <span style="color: #4271ae;">(</span>mapconcat 'identity rows <span style="color: #3e999f;">"\n"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">(bnb/org-time-logged-table-entry nil t)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orge03a131"></a>Refile<br />
<div class="outline-text-5" id="text-5-2-4-7">
<p>
<a href="https://orgmode.org/manual/Refiling-and-Archiving.html">Refiling notes</a> is also spectacular with Org. That is what makes
it possible for me to simply put every captured item into
Refile.org and worry about organization later.
</p>

<p>
For my setup, I use separate files that hold a singular Tasks
headline. Because of that, I turn on caching first.
</p>

<p>
For the refile targets, I will allow up to 2 levels of search for
filing in any of the agenda files. For refiling within the
current file, I set the max to five levels. Anything deeper than
six levels will exhaust the depth of my thought.
</p>

<p>
The refiling system is set to <code>confirm</code> creation of parent
nodes. This allows me to not only refile, but create along the
way for faster organization.
</p>

<p>
Finally, I set the filenames to be first for refiling.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-refile-use-cache t
      org-refile-targets '<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>org-agenda-files <span style="color: #8959a8;">:maxlevel</span> . 2<span style="color: #eab700;">)</span>
                           <span style="color: #eab700;">(</span>nil <span style="color: #8959a8;">:maxlevel</span> . 5<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
      org-refile-allow-creating-parent-nodes 'confirm
      org-refile-use-outline-path 'file<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org7a19293"></a>Agenda<br />
<div class="outline-text-5" id="text-5-2-4-8">
<p>
Once I have captured and refiled my tasks, I need to remember to
do them and see what is on the agenda. The ways to view the tasks
at hand are nicely programmable.
</p>

<p>
Some basic settings control small tidbits in the agenda. I turn
on tags in the agenda line, show the logged items for the day,
and only show a time grid if a scheduled tasks exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-agenda-show-inherited-tags t
      org-agenda-log-mode-items '<span style="color: #3e999f;">(</span>clock<span style="color: #3e999f;">)</span>
      org-agenda-clockreport-parameter-plist '<span style="color: #3e999f;">(</span><span style="color: #8959a8;">:link</span> nil <span style="color: #8959a8;">:maxlevel</span> 2 <span style="color: #8959a8;">:fileskip0</span> t<span style="color: #3e999f;">)</span>
      org-agenda-block-separator nil
      org-agenda-dim-blocked-tasks nil
      org-agenda-inhibit-startup t
      org-agenda-breadcrumbs-separator <span style="color: #3e999f;">" &#10097; "</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgbf1fa18"></a>Category Icons<br />
<div class="outline-text-6" id="text-5-2-4-8-1">
<p>
Org-mode can show category icons in some agenda views. The
underlying setting is just an <code>alist</code> of categories and the icons
to use.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;;;;;;;;;;;;;</span>
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Org agenda category icons</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'nerd-icons
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-agenda-category-icon-alist 
        `<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span><span style="color: #3e999f;">"[iI]nbox"</span>     <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62605;</span>
           ,<span style="color: #4271ae;">(</span>list <span style="color: #4d4d4c;">(</span>nerd-icons-octicon <span style="color: #3e999f;">"nf-oct-inbox"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span> nil nil <span style="color: #8959a8;">:ascent</span> center<span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"[Ww]ork"</span>      <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62507;</span>
           ,<span style="color: #4271ae;">(</span>list <span style="color: #4d4d4c;">(</span>nerd-icons-octicon <span style="color: #3e999f;">"nf-oct-organization"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span> nil nil <span style="color: #8959a8;">:ascent</span> center<span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"[Pp]ersonal"</span>  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62573;</span>
           ,<span style="color: #4271ae;">(</span>list <span style="color: #4d4d4c;">(</span>nerd-icons-octicon <span style="color: #3e999f;">"nf-oct-home"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span> nil nil <span style="color: #8959a8;">:ascent</span> center<span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"[Ii][Cc]"</span>     <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62485;</span>
           ,<span style="color: #4271ae;">(</span>list <span style="color: #4d4d4c;">(</span>nerd-icons-octicon <span style="color: #3e999f;">"nf-oct-person"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span> nil nil <span style="color: #8959a8;">:ascent</span> center<span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span><span style="color: #3e999f;">"[Mm]anager"</span>   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62523;</span>
           ,<span style="color: #4271ae;">(</span>list <span style="color: #4d4d4c;">(</span>nerd-icons-octicon <span style="color: #3e999f;">"nf-oct-ruby"</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span> nil nil <span style="color: #8959a8;">:ascent</span> center<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgdc35bed"></a>Views<br />
<div class="outline-text-6" id="text-5-2-4-8-2">
<p>
The key to exploring open work are the agenda views. These
provide a landscape to list, filter or manipulate
tasks. <code>org-agenda-custom-commands</code> defines which views are
available by default.
</p>

<p>
Adapted from <a href="https://github.com/fniessen/emacs-leuven/blob/master/lisp/org-leuven-agenda-views.txt">org-leuven-agenda-views.txt</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Reset everything to nil</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-agenda-custom-commands nil<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"o"</span> <span style="color: #3e999f;">"My Agenda"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>todo <span style="color: #3e999f;">"TODO"</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"\n&#9889; Do Today\n&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;"</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-remove-tags t<span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-prefix-format <span style="color: #3e999f;">" %-2i %-15b"</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-todo-keyword-format <span style="color: #3e999f;">""</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>agenda <span style="color: #3e999f;">""</span>
              <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-start-day <span style="color: #3e999f;">"+0d"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-span 5<span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"&#9889; Schedule\n&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;&#9476;"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-repeating-timestamp-show-all nil<span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-remove-tags t<span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-prefix-format   <span style="color: #3e999f;">"  %-3i  %-15b %t%s"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-todo-keyword-format <span style="color: #3e999f;">" &#9744; "</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-current-time-string <span style="color: #3e999f;">"&#11164;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480; now"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-scheduled-leaders '<span style="color: #eab700;">(</span><span style="color: #3e999f;">""</span> <span style="color: #3e999f;">""</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-time-grid <span style="color: #eab700;">(</span><span style="color: #718c00;">quote</span> <span style="color: #718c00;">(</span><span style="color: #4d4d4c;">(</span>daily today remove-match<span style="color: #4d4d4c;">)</span>
                                             <span style="color: #4d4d4c;">(</span>0900 1200 1500 1800 2100<span style="color: #4d4d4c;">)</span>
                                             <span style="color: #3e999f;">"      "</span> <span style="color: #3e999f;">"&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgde91b1e"></a>Process<br />
<div class="outline-text-7" id="text-5-2-4-8-2-1">
<p>
In the <i>process</i> section, the goal is to take the incoming items
and process them.  There is a menu key, <code>p</code>, that will open up
the different views.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"p"</span> . <span style="color: #3e999f;">"PROCESS..."</span><span style="color: #eab700;">)</span> t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The first view (<code>pp</code>) shows the contents of the inbox file (set
via <code>org-default-notes-file</code>).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   `<span style="color: #eab700;">(</span><span style="color: #3e999f;">"pp"</span> <span style="color: #3e999f;">"Inbox"</span> alltodo <span style="color: #3e999f;">""</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-files <span style="color: #4d4d4c;">(</span>list ,org-default-notes-file<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>

<p>
The next view is very similar to the first, but grabs anything
tagged <code>inbox</code>. In my setup, my default notes file does have a
filetag of <code>inbox</code>, so all of those will also show up in this view.
</p>

<p>
The nice part is that I can have other agenda files with
inboxes that need addressed This helps them stay in the
forefront of processing.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"pi"</span> <span style="color: #3e999f;">"All TODOs in Inboxen"</span> tags-todo <span style="color: #3e999f;">"inbox"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"List of all TODO tasks in Inbox"</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-sorting-strategy '<span style="color: #4d4d4c;">(</span>priority-down<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>

<p>
I try to put effort estimates on all of my tasks. As part of
processing, the <code>pe</code> view lists tasks without effort. Typically I
then edit with <code>org-columns</code> (<code>C-c C-x C-c</code>).
</p>

<p>
In the column view, navigating to the effort column and hitting
the right number will set the effort to one of the predefined
settings (found in <code>org-global-properties</code>).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"pe"</span> <span style="color: #3e999f;">"No Estimates"</span> tags-todo <span style="color: #3e999f;">"EFFORT&lt;&gt;{.}"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"Lacking ESTIMATES"</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-sorting-strategy '<span style="color: #4d4d4c;">(</span>priority-down<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>

<p>
This view (reachable via <code>ps</code>) is similar to the previous one,
only it finds tasks without scores. This helps me process them
in the same way &#x2013; ensure everthing that <i>can</i> have a score,
does.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"ps"</span> <span style="color: #3e999f;">"No Score"</span> tags-todo <span style="color: #3e999f;">"SCORE&lt;&gt;{.}"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"Lacking SCORE"</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-sorting-strategy '<span style="color: #4d4d4c;">(</span>priority-down<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>

<p>
Finally, this view shows the items tagged <code>someday</code>. As process
goes, this could be part of review, but I like it better as a
processing step.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"pd"</span> <span style="color: #3e999f;">"Somday items"</span> tags-todo <span style="color: #3e999f;">"SOMEDAY"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"SOMEDAY tasks"</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-sorting-strategy '<span style="color: #4d4d4c;">(</span>priority-down<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orged52216"></a>Focus<br />
<div class="outline-text-7" id="text-5-2-4-8-2-2">
<p>
The <i>focus</i> section builds up views to help focus on tasks. The
dispatcher starts with an <code>f</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"f"</span> . <span style="color: #3e999f;">"FOCUS..."</span><span style="color: #eab700;">)</span> t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The <i>today</i> focus view unfolds like a compass guiding through the
day's tasks, presenting a constellation of sections aimed at
pinpointing the most crucial endeavors to tackle next.
</p>

<p>
In the calendar section, a mosaic of diary entries and
timestamps for today awaits exploration, offering a glimpse
into the rhythm of the day.
</p>

<p>
The inbox section beckons with its array of unscheduled
top-level items, each a potential gem awaiting processing. Here
lie tasks in need of scheduling, refining, or simply bringing
to completion.
</p>

<p>
For those with deadlines looming, the due today and overdue
sections serve as a stark reminder, listing tasks teetering on
the edge of time. They demand attention, beckoning to be
brought to fruition.
</p>

<p>
Meanwhile, the scheduled section offers a glimpse into the near
future, showcasing the tasks slated for today, like eager
performers awaiting their cue.
</p>

<p>
Lastly, the completed section stands as a testament to
progress, a growing archive of triumphs marked by tasks
conquered. As the week unfolds, this section burgeons,
reflecting the journey traversed and milestones achieved.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   `<span style="color: #eab700;">(</span><span style="color: #3e999f;">"f."</span> <span style="color: #3e999f;">"Today"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>agenda <span style="color: #3e999f;">""</span>
              <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-entry-types '<span style="color: #eab700;">(</span><span style="color: #8959a8;">:timestamp</span> <span style="color: #8959a8;">:sexp</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-overriding-header
                <span style="color: #eab700;">(</span>concat <span style="color: #3e999f;">"CALENDAR Today "</span>
                        <span style="color: #718c00;">(</span>format-time-string <span style="color: #3e999f;">"%a %d"</span> <span style="color: #4d4d4c;">(</span>current-time<span style="color: #4d4d4c;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-span 'day<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"LEVEL=1+inbox"</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"INBOX (Unscheduled)"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+1d&gt;\"+DEADLINE&gt;\"&lt;-1d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"DUE TODAY"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-sorting-strategy '<span style="color: #eab700;">(</span>priority-down<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;today&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-sorting-strategy '<span style="color: #eab700;">(</span>priority-down<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>agenda <span style="color: #3e999f;">""</span>
              <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-entry-types '<span style="color: #eab700;">(</span><span style="color: #8959a8;">:scheduled</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"SCHEDULED"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-skip-function
                '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'todo 'done<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-sorting-strategy
                '<span style="color: #eab700;">(</span>priority-down time-down<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-span 'day<span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-start-on-weekday nil<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>todo <span style="color: #3e999f;">"DONE"</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"COMPLETED"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-format-date <span style="color: #3e999f;">""</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-start-with-clockreport-mode nil<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>

<p>
The hotlist keeps a focus on tasks that may be heating up. This
has three sections: overdue tasks, ones due within a week, and
anything marked FLAGGED.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"fh"</span> <span style="color: #3e999f;">"Hotlist"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&gt;=\"&lt;+0d&gt;\"+DEADLINE&lt;=\"&lt;+1w&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"DUE IN NEXT 7 DAYS"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE=\"\"+FLAGGED|DEADLINE&gt;\"&lt;+1w&gt;\"+FLAGGED"</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"FLAGGED"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-todo-ignore-scheduled 'future<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-sorting-strategy '<span style="color: #4d4d4c;">(</span>deadline-up<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>

<p>
Finally the <i>Hot &amp; Fast</i> view assembles tasks into three
sections: overdue, take less then 1 hour, or a score of 1.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"ff"</span> <span style="color: #3e999f;">"Hot &amp; Fast"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"Effort={.}+Effort&lt;\"1:00\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"QUICK"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"SCORE=1"</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"EASY"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org3860f7d"></a>Review<br />
<div class="outline-text-7" id="text-5-2-4-8-2-3">
<p>
After processing incoming items and focusing on some work,
there is the step of reviewing to ensure that progress is being
made in the right spots.
</p>

<p>
The set of views start on the <code>r</code> key.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"r"</span> . <span style="color: #3e999f;">"REVIEW..."</span><span style="color: #eab700;">)</span> t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
On a weekly basis, the view (<code>rw</code>) prvides a look back and look
forward for all tasks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"rw"</span> <span style="color: #3e999f;">"Weekly review"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>tags <span style="color: #3e999f;">"{INBOX}&amp;LEVEL&lt;=2"</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"NEW TASKS"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>agenda <span style="color: #3e999f;">""</span>
              <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-clockreport-mode t<span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-format-date
                <span style="color: #eab700;">(</span>concat <span style="color: #3e999f;">"\n"</span>
                        <span style="color: #3e999f;">"%Y-%m-%d"</span> <span style="color: #3e999f;">" %a "</span>
                        <span style="color: #718c00;">(</span>make-string <span style="color: #4d4d4c;">(</span>window-width<span style="color: #4d4d4c;">)</span> ?_<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"PAST WEEK"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-prefix-format <span style="color: #3e999f;">" %?-11t %i %-12:c% s"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-show-log 'clockcheck<span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-span 7<span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-start-day <span style="color: #3e999f;">"-1w"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-deadline-warning-days 0<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>agenda <span style="color: #3e999f;">""</span>
              <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"NEXT MONTH"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-span 'month<span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-agenda-start-day <span style="color: #3e999f;">"+0d"</span><span style="color: #3e999f;">)</span>
               <span style="color: #3e999f;">(</span>org-deadline-warning-days 0<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>todo <span style="color: #3e999f;">"PROJECT"</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"PROJECT LIST"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>todo <span style="color: #3e999f;">"DONE|PROJECTDONE"</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header
              <span style="color: #3e999f;">"Candidates to be archived"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org5872e64"></a>All Tasks<br />
<div class="outline-text-8" id="text-5-2-4-8-2-3-1">
<p>
The first review section is for all tasks and launchable via
<code>ra</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"ra"</span> . <span style="color: #3e999f;">"All Tasks..."</span><span style="color: #eab700;">)</span> t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The first view lists tasks grouped by due dates.  The sections
of this view list tasks that are overdue, due today, due
tomorrow, due within a week, due within a month, due later,
waiting for, and tasks without a due date.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"rad"</span> <span style="color: #3e999f;">"All Tasks (grouped by Due Date)"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&lt;\"&lt;+0d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"OVERDUE"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE=\"&lt;+0d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"DUE TODAY"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE=\"&lt;+1d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"DUE TOMORROW"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+1d&gt;\"+DEADLINE&lt;=\"&lt;+7d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"DUE WITHIN A WEEK"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+7d&gt;\"+DEADLINE&lt;=\"&lt;+28d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"DUE WITHIN A MONTH"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"DEADLINE&gt;\"&lt;+28d&gt;\""</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"DUE LATER"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>tags-todo <span style="color: #3e999f;">"TODO={WAIT}"</span>
                 <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"WAITING FOR"</span><span style="color: #3e999f;">)</span>
                  <span style="color: #3e999f;">(</span>org-agenda-skip-function
                   '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'deadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>todo <span style="color: #3e999f;">""</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"NO DUE DATE"</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-skip-function
              '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if 'deadline<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-sorting-strategy '<span style="color: #4d4d4c;">(</span>priority-down<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-write-buffer-name <span style="color: #3e999f;">"All Tasks (grouped by Due Date)"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #3e999f;">"~/Documents/Org/all-tasks-by-due-date.pdf"</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>

<p>
Hitting <code>ra1</code> lists all tasks (with a due date) by due date.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"ra1"</span> <span style="color: #3e999f;">"All Tasks with a due date"</span> alltodo <span style="color: #3e999f;">""</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"All Tasks (sorted by Due Date)"</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-skip-function
       '<span style="color: #4d4d4c;">(</span>org-agenda-skip-entry-if 'notdeadline<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-sorting-strategy '<span style="color: #4d4d4c;">(</span>deadline-up<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>



<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defconst</span> <span style="color: #eab700;">bnb/org-completed-date-regexp</span>
  <span style="color: #3e999f;">(</span>concat <span style="color: #3e999f;">" </span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">"</span>
          <span style="color: #3e999f;">"CLOSED: \\[%Y-%m-%d"</span>
          <span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">"</span>
          <span style="color: #3e999f;">"- State \"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">DONE</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">\" * from .* \\[%Y-%m-%d"</span>
          <span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">|</span><span style="color: #3e999f;">"</span>
          <span style="color: #3e999f;">"- State .* -&gt;  *\"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">(</span><span style="color: #3e999f;">DONE</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;">\" * \\[%Y-%m-%d"</span>
          <span style="color: #3e999f;">"</span><span style="color: #eab700;">\\</span><span style="color: #8959a8;">)</span><span style="color: #3e999f;"> "</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Matches any completion time stamp."</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">current-time-ndays-ago</span> <span style="color: #3e999f;">(</span>n<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Return the current time minus N days."</span>
  <span style="color: #3e999f;">(</span>time-subtract <span style="color: #eab700;">(</span>current-time<span style="color: #eab700;">)</span> <span style="color: #eab700;">(</span>days-to-time n<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   `<span style="color: #eab700;">(</span><span style="color: #3e999f;">"rac"</span> <span style="color: #3e999f;">"Completed view"</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>todo <span style="color: #3e999f;">"TODO|DONE"</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header
              <span style="color: #eab700;">(</span>format <span style="color: #3e999f;">"YESTERDAY [%s]"</span> <span style="color: #718c00;">(</span>format-time-string <span style="color: #3e999f;">"%a %d"</span> <span style="color: #4d4d4c;">(</span>current-time-ndays-ago 1<span style="color: #4d4d4c;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-skip-function
              '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if
                'notregexp
                <span style="color: #718c00;">(</span>format-time-string bnb/org-completed-date-regexp <span style="color: #4d4d4c;">(</span>current-time-ndays-ago 1<span style="color: #4d4d4c;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-sorting-strategy '<span style="color: #eab700;">(</span>priority-down<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>todo <span style="color: #3e999f;">"TODO|DONE"</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header
              <span style="color: #eab700;">(</span>format <span style="color: #3e999f;">"2 DAYS AGO [%s]"</span> <span style="color: #718c00;">(</span>format-time-string <span style="color: #3e999f;">"%a %d"</span> <span style="color: #4d4d4c;">(</span>current-time-ndays-ago 2<span style="color: #4d4d4c;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-skip-function
              '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if
                'notregexp
                <span style="color: #718c00;">(</span>format-time-string bnb/org-completed-date-regexp <span style="color: #4d4d4c;">(</span>current-time-ndays-ago 2<span style="color: #4d4d4c;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-sorting-strategy '<span style="color: #eab700;">(</span>priority-down<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>todo <span style="color: #3e999f;">"TODO|DONE"</span>
            <span style="color: #4d4d4c;">(</span><span style="color: #3e999f;">(</span>org-agenda-overriding-header
              <span style="color: #eab700;">(</span>format <span style="color: #3e999f;">"3 DAYS AGO [%s]"</span> <span style="color: #718c00;">(</span>format-time-string <span style="color: #3e999f;">"%a %d"</span> <span style="color: #4d4d4c;">(</span>current-time-ndays-ago 3<span style="color: #4d4d4c;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-skip-function
              '<span style="color: #eab700;">(</span>org-agenda-skip-entry-if
                'notregexp
                <span style="color: #718c00;">(</span>format-time-string bnb/org-completed-date-regexp <span style="color: #4d4d4c;">(</span>current-time-ndays-ago 3<span style="color: #4d4d4c;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
             <span style="color: #3e999f;">(</span>org-agenda-sorting-strategy '<span style="color: #eab700;">(</span>priority-down<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-format-date <span style="color: #3e999f;">""</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-start-with-clockreport-mode nil<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>


<li><a id="orgf92e01d"></a>Timesheets<br />
<div class="outline-text-8" id="text-5-2-4-8-2-3-2">
<p>
As part of a review, timesheets (reachable at <code>rt</code>) illustrate
where the time went.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"rt"</span> . <span style="color: #3e999f;">"Timesheet..."</span><span style="color: #eab700;">)</span> t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The first timesheet is a daily one that includes the logged
tasks and a clockreport.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Show what happened today.</span>
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"rtd"</span> <span style="color: #3e999f;">"Daily Timesheet"</span> agenda <span style="color: #3e999f;">""</span>
     <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>org-agenda-log-mode-items '<span style="color: #4d4d4c;">(</span>clock closed<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"DAY TIMESHEET"</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-show-log '<span style="color: #4d4d4c;">(</span>clock closed clockcheck<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-span 'day<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-start-with-clockreport-mode t<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-start-with-log-mode t<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-time-grid nil<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>

<p>
Naturally, the level up from a daily timesheet is a weekly
timesheet (reachable via <code>rtw</code>).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Show what happened this week.</span>
  <span style="color: #3e999f;">(</span>add-to-list
   'org-agenda-custom-commands
   '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"rtw"</span> <span style="color: #3e999f;">"Weekly Timesheet"</span> agenda <span style="color: #3e999f;">""</span>
     <span style="color: #718c00;">(</span>
      <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">(org-agenda-format-date "")</span>
      <span style="color: #4271ae;">(</span>org-agenda-overriding-header <span style="color: #3e999f;">"WEEKLY TIMESHEET"</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-skip-function '<span style="color: #4d4d4c;">(</span>org-agenda-skip-entry-if 'timestamp<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-span 'week<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-log-mode-items '<span style="color: #4d4d4c;">(</span>closed clock<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-show-log '<span style="color: #4d4d4c;">(</span>closed clock<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-start-on-weekday 1<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-start-with-clockreport-mode t<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-start-with-log-mode t<span style="color: #4271ae;">)</span>
      <span style="color: #4271ae;">(</span>org-agenda-time-grid '<span style="color: #4d4d4c;">(</span>weekly<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span> <span style="color: #c82829; font-weight: bold;">t</span><span style="color: #3e999f; font-weight: bold;">)</span><span style="color: #4d4d4c; font-weight: bold;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>

<li><a id="org5110414"></a>Export<br />
<div class="outline-text-5" id="text-5-2-4-9">
<p>
THe following sections configue global export settings that make
sense for HTML and \LaTeX.
</p>
</div>

<ol class="org-ol">
<li><a id="org4e31bac"></a>HTML<br />
<div class="outline-text-6" id="text-5-2-4-9-1">
<p>
For HTML, I just want to inline the links to images.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-export-html-inline-images t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
I suppress the postamble with <code>org-export-html-postamble</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-html-postamble nil<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
I'll use the <i>fancy</i> HTML5 export by default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-html-doctype <span style="color: #3e999f;">"html5"</span>
      org-html-html5-fancy t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Striped tables are nice in email, but this is terribly difficult
due to cruddy CSS support. Luckily, <code>org-html-table-row-tags</code>
saves the day and assigns the right classes to the table rows
with a little bit of help. This makes styling correct in
CSS-reduced instances.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-html-table-row-tags
      <span style="color: #3e999f;">(</span>cons '<span style="color: #eab700;">(</span>cond <span style="color: #718c00;">(</span>top-row-p <span style="color: #3e999f;">"&lt;tr class=\"tr-top\"&gt;"</span><span style="color: #718c00;">)</span>
                   <span style="color: #718c00;">(</span>bottom-row-p <span style="color: #3e999f;">"&lt;tr class=\"tr-bottom\"&gt;"</span><span style="color: #718c00;">)</span>
                   <span style="color: #718c00;">(</span>t <span style="color: #4271ae;">(</span><span style="color: #718c00;">if</span> <span style="color: #4d4d4c;">(</span>= <span style="color: #3e999f;">(</span>mod row-number 2<span style="color: #3e999f;">)</span> 1<span style="color: #4d4d4c;">)</span>
                          <span style="color: #3e999f;">"&lt;tr class=\"tr-odd\"&gt;"</span>
                        <span style="color: #3e999f;">"&lt;tr class=\"tr-even\"&gt;"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
            <span style="color: #3e999f;">"&lt;/tr&gt;"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org3f57971"></a>LaTeX<br />
<div class="outline-text-6" id="text-5-2-4-9-2">
<p>
For \LaTeX, I want to convert fragments to images, and use
<a href="https://ctan.org/pkg/minted?lang=en">minted</a> for any source blocks. I also want to have <a href="https://en.wikipedia.org/wiki/XeTeX">XeTeX</a> as the
backend.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-export-latex-listings 'minted
      org-export-latex-custom-lang-environments
      '<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>emacs-lisp <span style="color: #3e999f;">"common-lispcode"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
      org-export-latex-minted-options '<span style="color: #3e999f;">()</span>
      org-highlight-latex-and-related '<span style="color: #3e999f;">(</span>latex script entities<span style="color: #3e999f;">)</span>
      org-latex-to-pdf-process
      '<span style="color: #3e999f;">(</span><span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
        <span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span>
        <span style="color: #3e999f;">"xelatex -shell-escape -interaction nonstopmode -output-directory %o %f"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orge942bad"></a>Tufte<br />
<div class="outline-text-6" id="text-5-2-4-9-3">
<p>
Other contributed org-mode exporters require activiation to show
up in the export menus. This exporter stylizes <code>html</code> in a
beautiful way.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-tufte</span>
  <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org4a8809a"></a>Github Flavored Markdown<br />
<div class="outline-text-6" id="text-5-2-4-9-4">
<p>
Useful on its own, but required for the <a href="#org98bbea6">Slack</a> exporter, the <a href="https://github.com/larstvei/ox-gfm">GFM</a>
exporter transforms the current orgmode buffer into markdown
(yuck).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-gfm</span>
  <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org98bbea6"></a>Slack<br />
<div class="outline-text-6" id="text-5-2-4-9-5">
<p>
<a href="https://github.com/titaniumbones/ox-slack">This exporter</a> is not added to the export dispatcher, but
provides functions to copy the text into the clipboard or open a
buffer with the markdown.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ox-slack</span>
  <span style="color: #8959a8;">:after</span> <span style="color: #3e999f;">(</span>ox-gfm org-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> org-mode-map
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c e c"</span> . org-slack-export-to-clipboard-as-slack<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c e b"</span> . org-slack-export-as-slack<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org27b5579"></a>Clocking<br />
<div class="outline-text-5" id="text-5-2-4-10">
<p>
I have found clocking to be useful in understanding where my time
goes. And Org makes this easy, fast, and painless to do.
</p>

<p>
The clock has some general settings around persistence (resuming
clocks), history length and resuming a task after clocking in
twice (interrupted task).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span>org-clock-persistence-insinuate<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-clock-history-length 28
        org-clock-in-resume t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Behavior of the clock can change to accommodate other needs. I
like having clocks log into a specific drawer. Also, it is nice
to remove zero-time clocks and clock out automatically when an
item completes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-clock-into-drawer <span style="color: #3e999f;">"CLOCK"</span>
      org-clock-out-remove-zero-time-clocks t
      org-clock-out-when-done t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Two settings help resolve most clock issues that I have
seen. Persisting the clock across sessions helps prevent loss of
time by accident. Auto-resolution of open clocks help prompt how
to handle the situation where a dangling clock exists.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-clock-persist 'history
      org-clock-auto-clock-resolution 'when-no-clock-is-running<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Two final settings regarding clocking configure how I change and
view the clocks. I want any clock reports to include the
currently clocked task as well. And for clock editing, I change
to 15 minute increments.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-clock-report-include-clocking-task t
      org-time-stamp-rounding-minutes '<span style="color: #3e999f;">(</span>1 15<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd056ea1"></a>Modules<br />
<div class="outline-text-5" id="text-5-2-4-11">
<p>
Org-modules allow for specific functionality within
org-mode. These modules (plugins) activate by adding them to the
list of <code>org-modules</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>mapc <span style="color: #eab700;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #718c00;">(</span>x<span style="color: #718c00;">)</span> <span style="color: #718c00;">(</span>add-to-list 'org-modules x t<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
        '<span style="color: #eab700;">(</span>org-id
          org-habit
          org-plot
          org-protocol
          ol-bookmark<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org196be69"></a>Global Ids<br />
<div class="outline-text-6" id="text-5-2-4-11-1">
<p>
By enabling the <code>org-id</code> module, <code>org</code> will use globally unique
identifiers for entries.
</p>
</div>
</li>

<li><a id="org7dee837"></a>Habit<br />
<div class="outline-text-6" id="text-5-2-4-11-2">
<p>
Some tasks repeat, but you still want to log when you have done
it. I use this to help me always do my weekly or yearly
reviews. By including it in <code>org-modules</code>, habits get activated.
</p>

<p>
My one setting blow sets a width for the graph in Agenda View.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-habit-graph-column 50<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
To view habits in the agenda (not just on today), try <code>C-u K</code>.
</p>

<p>
To ensure that a task is treated as a <i>habit</i>, the <code>STYLE</code> property
will have to be set to <code>habit</code>.  <a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#Tracking-your-habits">Read more in the manual</a>.
</p>
</div>
</li>

<li><a id="org6d783ec"></a>Org protocol<br />
<div class="outline-text-6" id="text-5-2-4-11-3">
<p>
External applications can have actions in <code>org-mode</code> through the
use of protocols. A popular usage is accepting bookmarks from
browsers. <a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#Protocols">Read more about it in the manual</a>.
</p>
</div>
</li>

<li><a id="org596a344"></a>Bookmarks<br />
<div class="outline-text-6" id="text-5-2-4-11-4">
<p>
The org linking system is powerful in the way it can connect to
many part of Emacs. This module enables links to any stored
bookmark.
</p>
</div>
</li>
</ol>
</li>

<li><a id="orge34f2e9"></a>Babel<br />
<div class="outline-text-5" id="text-5-2-4-12">
<p>
Babel is some serious magic for Org files. It enables tangled
code blocks (this file), notebook-style interactive documents,
delarative diagrams, and nicely-formatted examples.
</p>

<p>
Each code block can have a different language and be edited
remotely in a properly mode'd buffer.
</p>

<p>
This is the list of languages I like to have enabled for use.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span>org-babel-do-load-languages
   'org-babel-load-languages
   '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>calc       . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>C          . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>ditaa      . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>dot        . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>emacs-lisp . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>gnuplot    . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>latex      . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>maxima     . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>perl       . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>plantuml   . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>python     . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>ruby       . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>shell      . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>sqlite     . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>sql        . t<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span>R          . t<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org713c489"></a>Extra Babel Packages<br />
<div class="outline-text-6" id="text-5-2-4-12-1">
<p>
These two packages assist with making HTTP requets. They can act
like an alternative to Postman.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ob-http</span> <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ob-restclient</span>
  <span style="color: #8959a8;">:after</span> org-mode
  <span style="color: #8959a8;">:ensure</span> <span style="color: #3e999f;">(</span>ob-restclient <span style="color: #8959a8;">:host</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"alf/ob-restclient.el"</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>org-babel-do-load-languages
   'org-babel-load-languages
   <span style="color: #eab700;">(</span>append org-babel-load-languages '<span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>restclient . t<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgf27911f"></a>Customization<br />
<div class="outline-text-6" id="text-5-2-4-12-2">
<p>
Python needs to find the right executable, so I hard code what babel
should use for a command.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-babel-python-command <span style="color: #3e999f;">"python3"</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org38ae6d1"></a>Miscellaneous Settings<br />
<div class="outline-text-5" id="text-5-2-4-13">
<p>
This section holds important small preferences for Org.
</p>
</div>

<ol class="org-ol">
<li><a id="org087de9c"></a>Auto-revert mode<br />
<div class="outline-text-6" id="text-5-2-4-13-1">
<p>
If the org files are under DVCS like git, then the edits may
happen while open in emacs.
</p>

<p>
This is a global setting, but most useful for the org files that
exists elsewhere.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">autorevert</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:diminish</span> <span style="color: #3e999f;">" "</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>global-auto-revert-mode t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd493050"></a>Automatically save org files<br />
<div class="outline-text-6" id="text-5-2-4-13-2">
<p>
I like to save early and often. In earlier versions of orgmode, I
sometimes had the capture buffer/timer crash on me. So, now I
save at the top of every hour to be sure.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'org
  <span style="color: #3e999f;">(</span>run-at-time <span style="color: #3e999f;">"00:59"</span> 3600 'org-save-all-org-buffers<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org7e6136d"></a>Columns<br />
<div class="outline-text-6" id="text-5-2-4-13-3">
<p>
The default columns are as follows. In English, it shows the
item (or task), the score, the effort estimate, and the current
clock sum (time already spent).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span>
 org-columns-default-format
 <span style="color: #3e999f;">"%80ITEM(Task) %5Score{+} %10Effort(Effort){:} %10CLOCKSUM"</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org9c8c3b7"></a>Display settings<br />
<div class="outline-text-6" id="text-5-2-4-13-4">
<p>
There are a collection of settings that define how the
headlines, subtrees, and notes render.
</p>

<p>
For the headline stars, there are two settings of note. I am
explicit that I do <b>not</b> want only odd levels. I also like to hide
the leading stars.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-odd-levels-only nil
      org-hide-leading-stars nil<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Cycling the headline states can produce different views of the
files. I like this to be as compact as possible, so I try to
squash the lines between the collapsed trees. There is also a
flag to open a file collapsed. This I like too &#x2013; I get a
compact view of the file and can jump to a relevant section with
<code>C-c C-j</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-cycle-separator-lines 0
      org-startup-folded 'content<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
When using SRC-blocks, org can provide highlighting native to
the SRC type. Note that this may slow down some files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-src-fontify-natively t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org7410493"></a>File Applications<br />
<div class="outline-text-6" id="text-5-2-4-13-5">
<p>
This list lets org know how to handle the links of given file
types. Most things open inside <code>emacs</code>, but the others set to
default rely on the OS to supply a program.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-file-apps
      '<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>auto-mode . emacs<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.x?html?\\'"</span> . default<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.pdf\\'"</span>     . default<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.mm\\'"</span>      . default<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org1dbfeb6"></a>Goto Interface<br />
<div class="outline-text-6" id="text-5-2-4-13-6">
<p>
By using <code>C-c C-j</code>, you can jump easily around a large orgfile
such as this one. Naturally, the interface you use to do so is
customizable.
</p>

<p>
I explicitly set it to the default because I sometimes go back
and forth with the default and <code>outline-path-completion</code> setting.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-goto-interface 'outline-path<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org882c7ad"></a>IDO Integration<br />
<div class="outline-text-6" id="text-5-2-4-13-7">
<p>
IDO integrates well into orgmode. Anytime completion is
necessary, I like to use the IDO mechanics.
</p>

<p>
The <code>outline-path-completion</code> may conflict with IDO, so then it is
best to have it not use IDO in this case.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-completion-use-ido t
      org-outline-path-complete-in-steps nil<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgfff1fbf"></a>Insertion<br />
<div class="outline-text-6" id="text-5-2-4-13-8">
<p>
I define when org should leave a blank line before an
item. In my case it is headings and plain list items.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-blank-before-new-entry
      '<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>heading<span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span>plain-list-item<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Also, when inserting a new heading, do so after the current
subtree.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-insert-heading-respect-content t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Set the indentation to the outline node level.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-adapt-indentation t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org6f7add0"></a>Plantuml<br />
<div class="outline-text-6" id="text-5-2-4-13-9">
<p>
Setup the path for orgmode to find the jar needed.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-plantuml-jar-path <span style="color: #3e999f;">"/usr/local/Cellar/plantuml/1.2017.18/libexec/plantuml.jar"</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org6ecaf65"></a>Properties<br />
<div class="outline-text-6" id="text-5-2-4-13-10">
<p>
Here I add my global properties. The appendix <code>_ALL</code> indicates to
the system that these are the values avaialble for completion
for each of these properties.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-global-properties
      '<span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"STYLE_ALL"</span>  . <span style="color: #3e999f;">"habit"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Effort_ALL"</span> . <span style="color: #3e999f;">"0:10 0:30 1:00 2:00 3:00 4:00"</span><span style="color: #eab700;">)</span>
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Score_ALL"</span>  . <span style="color: #3e999f;">"1 2 3 5 8"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org3a8e894"></a>Special Control Keys<br />
<div class="outline-text-6" id="text-5-2-4-13-11">
<p>
Org has a different idea of some of the default emacs commands
to make it easier to work with the structures involved.
</p>

<p>
For <code>C-a</code> or <code>C-e</code> within a headline, it will only try to navigate
the headline text the first time. Additional keypresses will
move to the true beginning/ending of lines.
</p>

<p>
<code>C-k</code> also can behave specially in headlines depending on its
location. When point is at the beginning, it will kill the
headline and the folded subtree below. In the middle of a
headline, it kills the headline text up to the tags. After the
headline text, it kills the tags.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-special-ctrl-a/e t
      org-special-ctrl-k t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org5490aa3"></a>Pretty Org-mode<br />
<div class="outline-text-5" id="text-5-2-4-14">
<p>
This collection of settings enhances the visual appeal when
working in org-mode.
</p>

<p>
First, some initial built-in settings to make.This block styles
the headlines to hide the stars, and fontify them. The next
setting hides emphasis markers on words. And finally, entities
are drawn with UTF-8 characters.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> org-hide-leading-stars t
      org-fontify-done-headline t
      org-hide-emphasis-markers t
      org-pretty-entities t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
Using <a href="#org650eab9">Prettify</a>, I add these symbols to make the structure of
org-mode files cleaner to read. In the list, the strings on the
left are replaced by the elements on the right. Moving a cursor
over the symbols will show them in their original form.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>add-hook
 'org-mode-hook
 <span style="color: #3e999f;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #eab700;">()</span>
   <span style="color: #eab700;">(</span>mapc <span style="color: #718c00;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #4271ae;">(</span>pair<span style="color: #4271ae;">)</span> <span style="color: #4271ae;">(</span><span style="color: #718c00;">push</span> pair prettify-symbols-alist<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         '<span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span><span style="color: #3e999f;">"#+BEGIN_SRC"</span> . <span style="color: #3e999f;">"&#8968;"</span><span style="color: #4271ae;">)</span>
           <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"#+END_SRC"</span> . <span style="color: #3e999f;">"&#8970;"</span><span style="color: #4271ae;">)</span>
           <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"#+begin_src"</span> . <span style="color: #3e999f;">"&#8968;"</span><span style="color: #4271ae;">)</span>
           <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"#+end_src"</span> . <span style="color: #3e999f;">"&#8970;"</span><span style="color: #4271ae;">)</span>
           <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"&gt;="</span> . <span style="color: #3e999f;">"&#8805;"</span><span style="color: #4271ae;">)</span>
           <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"=&gt;"</span> . <span style="color: #3e999f;">"&#8680;"</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org64c38eb"></a>Org Bullets<br />
<div class="outline-text-6" id="text-5-2-4-14-1">
<p>
Bullet shapes do a better job conveying depth then just
position/depth of stars. This snippet loads the package and sets
the list of bullets to use.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-bullets</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>org-bullets-bullet-list '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"&#9673;"</span> <span style="color: #3e999f;">"&#9674;"</span> <span style="color: #3e999f;">"&#9675;"</span> <span style="color: #3e999f;">"&#10731;"</span> <span style="color: #3e999f;">"&#10040;"</span> <span style="color: #3e999f;">"&#11048;"</span> <span style="color: #3e999f;">"&#11039;"</span> <span style="color: #3e999f;">"&#11047;"</span> <span style="color: #3e999f;">"&#11042;"</span> <span style="color: #3e999f;">"&#11051;"</span> <span style="color: #3e999f;">"&#8977;"</span> <span style="color: #3e999f;">"&#11050;"</span> <span style="color: #3e999f;">"&#9649;"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>org-ellipsis <span style="color: #3e999f;">"&#751;"</span><span style="color: #3e999f;">)</span> <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Options: &#751;&#8642;&#8623;&#10549;&#129083;&#129175;</span>
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span>org-mode . org-bullets-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgee3b79a"></a>Org-AI<br />
<div class="outline-text-5" id="text-5-2-4-15">
<p>
As much as I find this to be ridiculous, interacting with AI via
Emacs is likely the one true way. <a href="https://github.com/rksm/org-ai">Org-ai</a> provides a natrual
interface for real humans.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-ai</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>org-ai-mode
             org-ai-global-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>org-ai-global-mode<span style="color: #3e999f;">)</span> <span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">installs global keybindings on C-c M-a</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>org-ai-default-chat-model <span style="color: #3e999f;">"gpt-3.5-turbo"</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>org-ai-install-yasnippets<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
This adds the ability to have <code>#+begin/end_ai</code> blocks to have a
"conversation" with ChatGPT or DALL‚ãÖE. Be sure to set
<code>org-ai-openai-api-token</code> to your API token before using.
</p>
</div>
</li>

<li><a id="org08e4ba4"></a>Org Repo Todo&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span><br />
<div class="outline-text-5" id="text-5-2-4-16">
<p>
Make it easy to setup a <code>TODO.org</code> from within a repo. I use this
to capture thoughts while coding.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-repo-todo</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-;"</span> . ort/capture-todo<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-'"</span> . ort/capture-checkitem<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-`"</span> . ort/goto-todos<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd2f5d63"></a>Org Ref<br />
<div class="outline-text-5" id="text-5-2-4-17">
<p>
Setups the Org-style interface with Biblio.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-ref</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-ref-notes-directory <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/"</span>
        org-ref-bibliography-notes <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/index.org"</span>
        org-ref-default-bibliography '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/index.bib"</span><span style="color: #eab700;">)</span>
        org-ref-pdf-directory <span style="color: #3e999f;">"~/Documents/Personal/Org/Biblio/lib"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org4dbd0e4"></a>Org Noter<br />
<div class="outline-text-5" id="text-5-2-4-18">
<p>
<a href="https://github.com/weirdNox/org-noter">Taking notes in a PDF</a> is a useful trick. <code>org-noter</code> lets me do
just that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-noter</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-n"</span> . org-noter<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org8cbce5c"></a>Org Roam<br />
<div class="outline-text-5" id="text-5-2-4-19">
<p>
The best of all worlds? Org-mode and a Zettelkasten system? Yes,
<a href="https://www.orgroam.com/">Org-roam</a> sets up a knowledge capture and organization system
built on the principles of <a href="https://en.wikipedia.org/wiki/Zettelkasten">Zettelkasten</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-roam</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> org
  <span style="color: #8959a8;">:delight</span> <span style="color: #3e999f;">"&#8201;&#120171;"</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>after-init . org-roam-setup<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> org-roam-v2-ack t<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>org-roam-directory <span style="color: #eab700;">(</span>file-truename <span style="color: #3e999f;">"~/Documents/Org/zettel/"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c n f"</span> . org-roam-node-find<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c n r"</span> . org-roam-node-random<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c n g"</span> . org-roam-graph<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c n c"</span> . org-roam-capture<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c n j"</span> . org-roam-dailies-capture-today<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #8959a8;">:map</span> org-mode-map
         <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n l"</span> . org-roam-buffer-toggle<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n a"</span> . org-roam-alias-add<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n i"</span> . org-roam-node-insert<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n I"</span> . org-roam-insert-immediate<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #8959a8;">:map</span> org-roam-mode-map
         <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n l"</span> . org-roam<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n t"</span> . org-roam-dailies-find-today<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n w"</span> . org-roam-dailies-find-tomorrow<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n d"</span> . org-roam-date<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n f"</span> . org-roam-find-file<span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span><span style="color: #3e999f;">"C-c n g"</span> . org-roam-show-graph<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgc77c1d9"></a>Org QL&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span><br />
<div class="outline-text-5" id="text-5-2-4-20">
<p>
The Org Query Language helps walk through a builder interface to
find, filter, and sort org entries.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">org-ql</span>
  <span style="color: #8959a8;">:after</span> org
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>org-ql-search org-ql-view-sidebar<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c q s"</span> . org-ql-search<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c q b"</span> . org-ql-view-sidebar<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c q v"</span> . org-ql-view<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c q t"</span> . org-ql-sparse-tree<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"C-c q r"</span> . org-ql-view-recent-items<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> org-mode-map
        <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c q f"</span> . org-ql-find<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:demand</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
This package is built on a library of searching functions, so it
also has some neat tricks like easily specifying agenda views and
building code blocks.
</p>

<p>
For example, to get a link to a dynamic list of pending items (in
this file), click on this: <code>tags:PENDING</code>.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org95290c3" class="outline-4">
<h4 id="org95290c3"><span class="section-number-4">5.2.5.</span> PDF Tools</h4>
<div class="outline-text-4" id="text-5-2-5">
<p>
This replaces the built-in DocView for PDF files. Find out the
details <a href="https://pdftools.wiki/">on the wiki</a>.
</p>

<p>
The part that I like over DocView is the ability to add
annotations. They all live on <code>C-c C-a</code>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-c C-a D</code></td>
<td class="org-left">delete annotation</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-a a</code></td>
<td class="org-left">attachment dired</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-a h</code></td>
<td class="org-left">add highlight</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-a l</code></td>
<td class="org-left">list annotations</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-a m</code></td>
<td class="org-left">add markup</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-a o</code></td>
<td class="org-left">add strikeout annotation</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-a s</code></td>
<td class="org-left">add squiggly annotation</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-a t</code></td>
<td class="org-left">add text annotation</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-a u</code></td>
<td class="org-left">add underline annotation</td>
</tr>
</tbody>
</table>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defcustom</span> <span style="color: #eab700;">bnb/homebrew-prefix</span> <span style="color: #3e999f;">""</span>
  <span style="color: #8959a8;">"Prefix to use for an alternative path to homebrew items"</span>
  <span style="color: #8959a8;">:type</span> 'string
  <span style="color: #8959a8;">:group</span> 'bnb<span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span>setenv <span style="color: #3e999f;">"PKG_CONFIG_PATH"</span>
        <span style="color: #3e999f;">(</span><span style="color: #718c00;">let</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>hbp bnb/homebrew-prefix<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
          <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> pdf-info-epdfinfo-program <span style="color: #718c00;">(</span>concat hbp <span style="color: #3e999f;">"/usr/local/bin/epdfinfo"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
          <span style="color: #eab700;">(</span>mapconcat
           'identity
           <span style="color: #718c00;">(</span>list <span style="color: #4271ae;">(</span>concat hbp <span style="color: #3e999f;">"/usr/local/Cellar/libffi/3.2.1/lib/pkgconfig"</span><span style="color: #4271ae;">)</span>
                 <span style="color: #4271ae;">(</span>concat hbp <span style="color: #3e999f;">"/usr/local/Cellar/zlib/1.2.8/lib/pkgconfig"</span><span style="color: #4271ae;">)</span>
                 <span style="color: #4271ae;">(</span>concat hbp <span style="color: #3e999f;">"/usr/local/lib/pkgconfig"</span><span style="color: #4271ae;">)</span>
                 <span style="color: #3e999f;">"/opt/X11/lib/pkgconfig"</span><span style="color: #718c00;">)</span>
           <span style="color: #3e999f;">":"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">pdf-tools</span>
  <span style="color: #8959a8;">:defer</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>custom-set-variables '<span style="color: #eab700;">(</span>pdf-tools-handle-upgrades nil<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq-default</span> pdf-view-display-size 'fit-page<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>pdf-loader-install<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8bde3a4" class="outline-3">
<h3 id="org8bde3a4"><span class="section-number-3">5.3.</span> Miscellaneous</h3>
<div class="outline-text-3" id="text-5-3">
<p>
This sections holds configuration details for some of the
uncategorized major modes.
</p>
</div>

<div id="outline-container-org2ba3bac" class="outline-4">
<h4 id="org2ba3bac"><span class="section-number-4">5.3.1.</span> Calc</h4>
<div class="outline-text-4" id="text-5-3-1">
<p>
Working in computer land, I add these additional units to <code>calc</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">calc</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>calc<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> math-additional-units
        '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>GiB <span style="color: #3e999f;">"1024 * MiB"</span> <span style="color: #3e999f;">"Giga Byte"</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>MiB <span style="color: #3e999f;">"1024 * KiB"</span> <span style="color: #3e999f;">"Mega Byte"</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>KiB <span style="color: #3e999f;">"1024 * B"</span>   <span style="color: #3e999f;">"Kilo Byte"</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>B   nil          <span style="color: #3e999f;">"Byte"</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>Gib <span style="color: #3e999f;">"1024 * Mib"</span> <span style="color: #3e999f;">"Giga bit"</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>Mib <span style="color: #3e999f;">"1024 * Kib"</span> <span style="color: #3e999f;">"Mega bit"</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>Kib <span style="color: #3e999f;">"1024 * b"</span>   <span style="color: #3e999f;">"Kilo bit"</span><span style="color: #718c00;">)</span>
          <span style="color: #718c00;">(</span>b   nil          <span style="color: #3e999f;">"bit"</span><span style="color: #718c00;">)</span>
          <span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge2a001a" class="outline-4">
<h4 id="orge2a001a"><span class="section-number-4">5.3.2.</span> Dashboard</h4>
<div class="outline-text-4" id="text-5-3-2">
<p>
Instead of the normal "splash" screen, show a <a href="https://github.com/emacs-dashboard/emacs-dashboard">dashboard</a> instead.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">dashboard</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>elpaca-after-init . #'dashboard-insert-startupify-lists<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>elpaca-after-init . #'dashboard-initialize<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>dashboard-set-file-icons t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>dashboard-icon-type 'nerd-icons<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>dashboard-set-heading-icons t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>dashboard-projects-backend 'project-el<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>dashboard-items '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>recents . 5<span style="color: #718c00;">)</span>
                     <span style="color: #718c00;">(</span>agenda . 10<span style="color: #718c00;">)</span>
                     <span style="color: #718c00;">(</span>projects . 5<span style="color: #718c00;">)</span>
                     <span style="color: #718c00;">(</span>bookmarks . 10<span style="color: #718c00;">)</span>
                     <span style="color: #718c00;">(</span>registers . 10<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>dashboard-modify-heading-icons
   '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>recents   . <span style="color: #3e999f;">"nf-oct-pin"</span><span style="color: #718c00;">)</span>      <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62517;</span>
     <span style="color: #718c00;">(</span>agenda    . <span style="color: #3e999f;">"nf-oct-goal"</span><span style="color: #718c00;">)</span>     <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62686;</span>
     <span style="color: #718c00;">(</span>projects  . <span style="color: #3e999f;">"nf-oct-project"</span><span style="color: #718c00;">)</span>  <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62722;</span>
     <span style="color: #718c00;">(</span>bookmarks . <span style="color: #3e999f;">"nf-oct-bookmark"</span><span style="color: #718c00;">)</span> <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62561;</span>
     <span style="color: #718c00;">(</span>registers . <span style="color: #3e999f;">"nf-oct-rows"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>   <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&#62731;</span>
  <span style="color: #3e999f;">(</span>dashboard-setup-startup-hook<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org999e73c" class="outline-4">
<h4 id="org999e73c"><span class="section-number-4">5.3.3.</span> Hyperbole&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-5-3-3">
<p>
<a href="https://www.gnu.org/software/hyperbole/">GNU Hyperbole</a> enriches buffers with links like hypertext.  Try <code>C-h
    h</code> for the binding.  And <code>M-RET</code> for links (explicit and implicit).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">hyperbole</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span> <span style="color: #3e999f;">(</span>hyperbole-mode 1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org349bb7b" class="outline-3">
<h3 id="org349bb7b"><span class="section-number-3">5.4.</span> Programming Languages</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Hardly needing an introduction, this section holds the modes and
settings related to authoring in, and connecting to my favorite
(and necessary) programming languages and interpreters.
</p>
</div>

<div id="outline-container-org6d3eeed" class="outline-4">
<h4 id="org6d3eeed"><span class="section-number-4">5.4.1.</span> C++</h4>
<div class="outline-text-4" id="text-5-4-1">
<p>
I don't need much extra for C++ support, but the following snippet
makes compilation nicer.
</p>
</div>

<ol class="org-ol">
<li><a id="org7f07574"></a>Compilation Buffers<br />
<div class="outline-text-5" id="text-5-4-1-1">
<p>
I forget where I snarfed this from, but it does a great job
fixing the ANSI escape sequences in compilation buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ansi-color</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>compliation-filter . colorize-compilation-buffer<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">colorize-compilation-buffer</span> <span style="color: #eab700;">()</span>
    <span style="color: #eab700;">(</span>toggle-read-only<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>ansi-color-apply-on-region compilation-filter-start <span style="color: #718c00;">(</span>point<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>toggle-read-only<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org4e069ee" class="outline-4">
<h4 id="org4e069ee"><span class="section-number-4">5.4.2.</span> Elisp</h4>
<div class="outline-text-4" id="text-5-4-2">
<p>
When modified <code>emacs-lisp</code>, it is most helpful to use <a href="#org256376e">paredit</a>,
<a href="#org292a4d6">paxedit</a>, and <a href="#orgf3c1b6c">eldoc</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">elisp-mode</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>emacs-lisp-mode . paredit-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>emacs-lisp-mode . paxedit-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>emacs-lisp-mode . turn-on-eldoc-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org43acd8c" class="outline-4">
<h4 id="org43acd8c"><span class="section-number-4">5.4.3.</span> Javascript</h4>
<div class="outline-text-4" id="text-5-4-3">
<p>
For javascript, the only global setting is to shorten the
indentation level to 2.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> js-indent-level 2<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0116569" class="outline-4">
<h4 id="org0116569"><span class="section-number-4">5.4.4.</span> Plantuml</h4>
<div class="outline-text-4" id="text-5-4-4">
<p>
Not a <i>programming language</i>, but certainly a language. I typically
use this in Org document blocks to generate diagrams. The
<a href="https://plantuml.com/guide">reference guide</a> is available online.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">plantuml-mode</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b4ed7e" class="outline-4">
<h4 id="org7b4ed7e"><span class="section-number-4">5.4.5.</span> Rust</h4>
<div class="outline-text-4" id="text-5-4-5">
<p>
<a href="https://github.com/brotzeit/rustic">Rustic</a> builds on rust-mode and adds <a href="https://github.com/emacs-lsp/lsp-mode">lsp</a> support. This section does
the setup.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rustic</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #8959a8;">:map</span> rustic-mode-map
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c j"</span> . lsp-ui-imenu<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c f"</span> . lst-find-references<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c l"</span> . flycheck-list-errors<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c a"</span> . lsp-execute-code-action<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c n"</span> . lsp-rename<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c q"</span> . lsp-workspace-restart<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c Q"</span> . lsp-workspace-shutdown<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c s"</span> . lsp-rust-analyzer-status<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c e"</span> . lsp-rust-analyzer-expand-macro<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c d"</span> . dap-hydra<span style="color: #eab700;">)</span>
              <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-c C-c h"</span> . lsp-ui-doc-glance<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>lsp-inlay-hint-enable t<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>rustic-indent-offset 2<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>rustic-analyzer-command '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"rustup"</span> <span style="color: #3e999f;">"run"</span> <span style="color: #3e999f;">"stable"</span> <span style="color: #3e999f;">"rust-analyzer"</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span>rustic-mode . flycheck-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>rustic-mode . lsp-inlay-hints-mode<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span>rustic-mode . electric-pair-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">toml-mode</span>
  <span style="color: #8959a8;">:ensure</span> <span style="color: #3e999f;">(</span>toml-mode <span style="color: #8959a8;">:host</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"dryman/toml-mode.el"</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.toml\\'"</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>


<p>
I also snuck in <a href="https://toml.io/en/">TOML</a> support for the Cargo.toml files.
</p>
</div>
</div>

<div id="outline-container-org885d8ec" class="outline-4">
<h4 id="org885d8ec"><span class="section-number-4">5.4.6.</span> Emacs Speaks Statistics (ESS)</h4>
<div class="outline-text-4" id="text-5-4-6">
<p>
For my data crunching tasks, I use R and <a href="https://ess.r-project.org/">ESS</a> (emacs speaks
statistics) provides an interface (repl) for developing analysis
and charts.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">ess</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>R<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>ess-default-style 'Rstudio-<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span> <span style="color: #3e999f;">(</span><span style="color: #718c00;">require</span> '<span style="color: #4271ae;">ess-site</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge984e5b" class="outline-4">
<h4 id="orge984e5b"><span class="section-number-4">5.4.7.</span> Utilities</h4>
<div class="outline-text-4" id="text-5-4-7">
<p>
These utilities make the programming experience easier across many
languages.
</p>
</div>

<ol class="org-ol">
<li><a id="org8082b9c"></a>Flycheck<br />
<div class="outline-text-5" id="text-5-4-7-1">
<p>
Similar to spellchecking, <a href="https://www.flycheck.org/en/latest/">Flycheck</a> performs on-the-fly syntax
checking. I don't have it globally on, but easily available
through <code>H-!</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">flycheck</span>
  <span style="color: #8959a8;">:ensure</span> t
                                        <span style="color: #8e908c; font-style: italic;">;</span><span style="color: #8e908c; font-style: italic;">:init (global-flycheck-mode)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defhydra</span> hydra-flycheck <span style="color: #eab700;">(</span><span style="color: #8959a8;">:color</span> amaranth<span style="color: #eab700;">)</span>
    <span style="color: #8959a8;">"</span>
<span style="color: #8959a8;">  _c_ Check buffer      _x_ Explain error</span>
<span style="color: #8959a8;">  _n_ Next error        _h_ Show error</span>
<span style="color: #8959a8;">  _p_ Previous error    _g_ Toggle global flycheck</span>
<span style="color: #8959a8;">  _l_ Show all errors   _s_ Select syntax checker</span>
<span style="color: #8959a8;">  _C_ Clear errors      _?_ Describe syntax checker</span>
<span style="color: #8959a8;">  "</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"c"</span> flycheck-buffer<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"n"</span> flycheck-next-error<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"p"</span> flycheck-previous-error<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"g"</span> global-flycheck-mode<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"l"</span> flycheck-list-errors<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C"</span> flycheck-clear-errors<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"x"</span> flycheck-explain-error-at-point<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"h"</span> flycheck-display-error-at-point<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s"</span> flycheck-select-checker<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"?"</span> flycheck-describe-checker<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"q"</span> nil<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-!"</span> . hydra-flycheck/body<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org0cf27f9"></a>Prog fill<br />
<div class="outline-text-5" id="text-5-4-7-2">
<p>
To go from wide lines to vertical, <a href="https://github.com/ahungry/prog-fill">prog-fill</a> comes into the
rescue.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">prog-fill</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>prog-fill<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>prog-mode . <span style="color: #eab700;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #718c00;">()</span> <span style="color: #718c00;">(</span>local-set-key <span style="color: #4271ae;">(</span>kbd <span style="color: #3e999f;">"M-q"</span><span style="color: #4271ae;">)</span> #'prog-fill<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:bind</span>
  <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-q"</span> . prog-fill<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>prog-fill-floating-close-paren-p nil<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>prog-fill-break-method-immediate-p t<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org6f92556"></a>Smart Tabs<br />
<div class="outline-text-5" id="text-5-4-7-3">
<p>
<a href="http://www.emacswiki.org/emacs-en/SmartTabs">SmartTabs</a> try to do the right thing regarding tabs/spaces in
indentation/alignment. It installs through the package interface. Look for
<code>smart-tabs-mode</code>.
</p>

<p>
By default, I'm enabling it in all modes that I can.
</p>

<p>
Since we are dealing with tabs here, I also take the time to set
the default width to 4. Because of the way this mode works, any
change in the default width will result in code that still aligns.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">smart-tabs-mode</span>
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq-default</span> indent-tabs-mode nil<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>smart-tabs-insinuate 'c 'cperl 'c++<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org7949dbc"></a>Notes<br />
<div class="outline-text-6" id="text-5-4-7-3-1">
<p>
To re-tab the whole file, use <code>C-x h C-M-\</code>.
</p>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-orga1dcbd6" class="outline-4">
<h4 id="orga1dcbd6"><span class="section-number-4">5.4.8.</span> Web Mode</h4>
<div class="outline-text-4" id="text-5-4-8">
<p>
For all of the webish-stuff, this mode works well. Let's enable it
on the right things.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">web-mode</span>
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:mode</span> <span style="color: #3e999f;">"\\.html\\'"</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #3e999f;">"H-b"</span> . browse-url-of-file<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>web-mode-markup-indent-offset 2<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>web-mode-css-indent-offset 2<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>web-mode-code-indent-offset 2<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>web-mode-engines-alist '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span><span style="color: #3e999f;">"handlebars"</span> . <span style="color: #3e999f;">"\\.hbs\\'"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>add-to-list 'auto-mode-alist '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.[agj]sp\\'"</span>  . web-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'auto-mode-alist '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.erb\\'"</span>      . web-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'auto-mode-alist '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.hbs\\'"</span>      . web-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'auto-mode-alist '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.mustache\\'"</span> . web-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'auto-mode-alist '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.djhtml\\'"</span>   . web-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>add-to-list 'auto-mode-alist '<span style="color: #eab700;">(</span><span style="color: #3e999f;">"\\.svelte\\'"</span>   . web-mode<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgf6a7c9a" class="outline-3">
<h3 id="orgf6a7c9a"><span class="section-number-3">5.5.</span> Shells</h3>
<div class="outline-text-3" id="text-5-5">
<p>
There are two useful shells in emacs: <code>eshell</code> and <code>ansi-term</code>.
</p>
</div>

<div id="outline-container-org5afe55e" class="outline-4">
<h4 id="org5afe55e"><span class="section-number-4">5.5.1.</span> Ansi Term</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
These settings close <code>ansi-term</code> when I exit the shell. They also
default to just launching <code>zsh</code> instead of asking me
(preferred). Then it closes by setting up a hook to ensure some
nice functionality in the terminal mode window.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/term-mode-hook</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Setup `term-mode`."</span>
  <span style="color: #3e999f;">(</span>goto-address-mode<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq-local</span> term-buffer-maximum-size 10000<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">term</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span>term-mode . bnb/term-mode-hook<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defalias</span> '<span style="color: #f5871f;">zsh</span> 'ansi-term<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>ansi-term-color-vector  <span style="color: #eab700;">[</span>term term-color-black term-color-red term-color-green term-color-yellow term-color-blue term-color-magenta term-color-cyan term-color-white<span style="color: #eab700;">]</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>ansi-color-faces-vector <span style="color: #eab700;">[</span>default bold shadow italic underline bold bold-italic bold<span style="color: #eab700;">]</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>


<p>
My hook above makes it easy to click on links in any output and
protects the buffer from runaway printing.
</p>
</div>
</div>

<div id="outline-container-orgddf86ed" class="outline-4">
<h4 id="orgddf86ed"><span class="section-number-4">5.5.2.</span> Eshell</h4>
<div class="outline-text-4" id="text-5-5-2">
<p>
Built-in Eshell can provide a shell that works the same on windows
or GNU/Linux. One of the really cool features is that you can
define commands to use (like aliases) within the shell and have
them directly integrate with emacs.
</p>
</div>

<ol class="org-ol">
<li><a id="orgee9814d"></a>Eshell Settings<br />
<div class="outline-text-5" id="text-5-5-2-1">
<p>
Turn off any <code>$PAGER</code> settings inherited in the
environment. Because this is running in Emacs, there is no need
for a pager.
</p>

<p>
Then provide a helper functionm to turn off <code>company-mode</code> and add
some convient aliases.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>setenv <span style="color: #3e999f;">"PAGER"</span> <span style="color: #3e999f;">"cat"</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/setup-eshell</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Setup functions to run in the eshell hook"</span>
  <span style="color: #3e999f;">(</span>company-mode -1<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>eshell/alias <span style="color: #3e999f;">"em"</span> <span style="color: #3e999f;">"emacs"</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>eshell/alias <span style="color: #3e999f;">"ll"</span> <span style="color: #3e999f;">"ls -Aloh"</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">pcase</span> system-type
    <span style="color: #eab700;">(</span>'darwin <span style="color: #718c00;">(</span>eshell/alias <span style="color: #3e999f;">"llc"</span> <span style="color: #3e999f;">"*ls -AlohG"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>-       <span style="color: #718c00;">(</span>eshell/alias <span style="color: #3e999f;">"llc"</span> <span style="color: #3e999f;">"*ls -AlohG --color=always"</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">eshell</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:commands</span> eshell
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span>eshell-mode . bnb/setup-eshell<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org8753785"></a>Eshell Commands<br />
<div class="outline-text-5" id="text-5-5-2-2">
<p>
Like many shells, <code>eshell</code> allows for the definition of custom
commands.  The following settings add extra functionality for
command-line use.
</p>

<p>
Fast fingers are used to typing <code>emacs</code> at a prompt to open a file.
This gives the same behavior in <code>eshell</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/emacs</span> <span style="color: #3e999f;">(</span><span style="color: #4271ae;">&amp;rest</span> args<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Open a file in emacs the natural way"</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">if</span> <span style="color: #eab700;">(</span>null args<span style="color: #eab700;">)</span>
      <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">If emacs is called by itself, then just go to emacs directly</span>
      <span style="color: #eab700;">(</span>bury-buffer<span style="color: #eab700;">)</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">If opening multiple files with a directory name, e.g.</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">&gt; emacs bar/bar.txt foo.txt</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">then the names must be expanded to complete file paths.</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Otherwise, find-file will look in the current directory which</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">would fail for '</span><span style="color: #4271ae; font-style: italic;">foo.txt</span><span style="color: #8e908c; font-style: italic;">' in the example above.</span>
    <span style="color: #eab700;">(</span>mapc #'find-file <span style="color: #718c00;">(</span>mapcar #'expand-file-name <span style="color: #4271ae;">(</span>eshell-flatten-list <span style="color: #4d4d4c;">(</span>reverse args<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
One can also keep the shell active and open files in the other
window. (Mnemonic here is emacs other window)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/emo</span> <span style="color: #3e999f;">(</span><span style="color: #4271ae;">&amp;rest</span> args<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>mapc
   <span style="color: #eab700;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #718c00;">(</span>f<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #718c00;">save-selected-window</span>
       <span style="color: #4271ae;">(</span>find-file-other-window f<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span>mapcar #'expand-file-name <span style="color: #718c00;">(</span>eshell-flatten-list <span style="color: #4271ae;">(</span>reverse args<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
On a windows box, setup grep to be a cygwin version.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">when</span> <span style="color: #3e999f;">(</span>eq system-type 'windows-nt<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">with-eval-after-load</span> <span style="color: #3e999f;">"eshell"</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/grep</span> <span style="color: #718c00;">(</span><span style="color: #4271ae;">&amp;rest</span> args<span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>eshell-grep <span style="color: #3e999f;">"c:/cygwin/bin/grep.exe"</span> args t<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
For Magit, there are some niceties to add.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gst</span> <span style="color: #3e999f;">(</span><span style="color: #4271ae;">&amp;rest</span> args<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>magit-status-setup-buffer <span style="color: #eab700;">(</span><span style="color: #718c00;">pop</span> args<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>eshell/echo<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gd</span> <span style="color: #3e999f;">(</span><span style="color: #4271ae;">&amp;rest</span> args<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>magit-diff-unstaged<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>eshell/echo<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">eshell/gds</span> <span style="color: #3e999f;">(</span><span style="color: #4271ae;">&amp;rest</span> args<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>magit-diff-staged<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>eshell/echo<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org6da4551"></a>Plan 9 Smart Shells<br />
<div class="outline-text-5" id="text-5-5-2-3">
<p>
See <a href="http://www.masteringemacs.org/article/complete-guide-mastering-eshell">the complete guide to mastering Eshell</a> for more on this.
Basically, the cursor stays on the command for editing if
necessary.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">with-eval-after-load</span> 'eshell
    <span style="color: #eab700;">(</span><span style="color: #718c00;">require</span> '<span style="color: #4271ae;">eshell</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">require</span> '<span style="color: #4271ae;">em-smart</span><span style="color: #eab700;">)</span>

    <span style="color: #eab700;">(</span><span style="color: #718c00;">setq</span> eshell-where-to-jump 'begin
          eshell-review-quick-commands nil
          eshell-smart-space-goes-to-end t<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>add-hook  'eshell-mode-hook 'eshell-smart-initialize<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>


<div id="outline-container-org67733df" class="outline-3">
<h3 id="org67733df"><span class="section-number-3">5.6.</span> Visual</h3>
<div class="outline-text-3" id="text-5-6">
<p>
This section contains settings and packages relevant to visual
elements. The theming of emacs is in <a href="#orgb8e281c">the style section</a>.
</p>
</div>

<div id="outline-container-org7bd6e42" class="outline-4">
<h4 id="org7bd6e42"><span class="section-number-4">5.6.1.</span> Nerd Icons</h4>
<div class="outline-text-4" id="text-5-6-1">
<p>
The set of <a href="https://github.com/rainstormstudio/nerd-icons.el">nerd icons</a> depends on an installed compatible font, but
there are <a href="https://www.nerdfonts.com/font-downloads">many alternatives</a>. Because it is font-based, this will
work graphically and in the terminal.
</p>

<p>
Be sure to run <a href="(nerd-icons-install-fonts)">nerd-icons-install-fonts</a> for this to work well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">nerd-icons</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orge560824"></a>Icons in Corfu<br />
<div class="outline-text-5" id="text-5-6-1-1">
<p>
<a href="https://github.com/LuigiPiucco/nerd-icons-corfu?tab=readme-ov-file">This package</a> adds icons to th <a href="#orga0077e9">Corfu</a> completion list.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">nerd-icons-corfu</span>
  <span style="color: #8959a8;">:after</span> corfu
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>add-to-list 'corfu-margin-formatters #'nerd-icons-corfu-formatter<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org9b29dbd"></a>Icons in dired<br />
<div class="outline-text-5" id="text-5-6-1-2">
<p>
Setup <a href="#org85b8584">dired</a> to <a href="https://github.com/rainstormstudio/nerd-icons-dired">use icons</a> next to the file names.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">nerd-icons-dired</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>dired-mode . nerd-icons-dired-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orga3ee923"></a>Icons in Ibuffer<br />
<div class="outline-text-5" id="text-5-6-1-3">
<p>
Add <a href="https://github.com/seagle0128/nerd-icons-ibuffer">icons</a> to <a href="#org8b896c7">ibuffer</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">nerd-icons-ibuffer</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>nerd-icons-ibuffer-human-readable-size t<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span> <span style="color: #3e999f;">(</span>ibuffer-mode . nerd-icons-ibuffer-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org13b46de"></a>Icons in completion<br />
<div class="outline-text-5" id="text-5-6-1-4">
<p>
<a href="https://github.com/rainstormstudio/nerd-icons-completion">Use icons</a> in the completion systems.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">nerd-icons-completion</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:after</span> marginalia
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>marginalia-mode . nerd-icons-completion-marginalia-setup<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>nerd-icons-completion-mode<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>



<div id="outline-container-orgb8e281c" class="outline-2">
<h2 id="orgb8e281c"><span class="section-number-2">6.</span> Style</h2>
<div class="outline-text-2" id="text-6">
<p>
The following sections describe items that affect the visual
elements of Emacs.
</p>
</div>

<div id="outline-container-orgc84fb0d" class="outline-3">
<h3 id="orgc84fb0d"><span class="section-number-3">6.1.</span> Frame Changes</h3>
<div class="outline-text-3" id="text-6-1">
<p>
These following items make Emacs really beautiful on every
platform. I remove the menu bar, tool bar and the scroll bar for
starters.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">if</span> <span style="color: #3e999f;">(</span>fboundp 'menu-bar-mode<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>menu-bar-mode -1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">if</span> <span style="color: #3e999f;">(</span>fboundp 'tool-bar-mode<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>tool-bar-mode -1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">if</span> <span style="color: #3e999f;">(</span>fboundp 'scroll-bar-mode<span style="color: #3e999f;">)</span> <span style="color: #3e999f;">(</span>scroll-bar-mode -1<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge17d4dc" class="outline-3">
<h3 id="orge17d4dc"><span class="section-number-3">6.2.</span> Window Changes</h3>
<div class="outline-text-3" id="text-6-2">
<p>
In the fringe area, I like to have markers to show me where the
buffer begins/ends on the right. On the left, I have emacs show
little dashes where empty lines exist.
</p>

<p>
In the title bar, I have it print the buffer name, full file name
and size.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq-default</span> indicate-buffer-boundaries 'right<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq-default</span> indicate-empty-lines t<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq-default</span> frame-title-format '<span style="color: #3e999f;">(</span><span style="color: #3e999f;">"%b %f %I"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org28a3710" class="outline-3">
<h3 id="org28a3710"><span class="section-number-3">6.3.</span> Faces</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Emacs <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Faces.html">faces</a> are text styled with attributes including font, slant,
weight, color, etc. These sections go over the necessary settings
to make them exactly right in all circumstances.
</p>

<p>
For configuration and debugging, <code>list-faces-display</code> is useful.
</p>
</div>

<div id="outline-container-orgf9299df" class="outline-4">
<h4 id="orgf9299df"><span class="section-number-4">6.3.1.</span> Default Fonts</h4>
<div class="outline-text-4" id="text-6-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">if</span> window-system
      <span style="color: #eab700;">(</span><span style="color: #718c00;">progn</span>
        <span style="color: #718c00;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/filter-existing-fonts</span> <span style="color: #4271ae;">(</span>fl<span style="color: #4271ae;">)</span>
          <span style="color: #8959a8;">"Filter the list for only existing fonts"</span>
          <span style="color: #4271ae;">(</span>seq-filter #'font-info fl<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span><span style="color: #718c00;">setq</span> bnb/fontlist
              '<span style="color: #4271ae;">(</span><span style="color: #3e999f;">"-*-Lunar Mono-*-expanded-*-12"</span> <span style="color: #3e999f;">"-*-Lunar Mono-*-*-*-12"</span> <span style="color: #3e999f;">"Fira Code-13"</span> <span style="color: #3e999f;">"Source Code Pro-13"</span><span style="color: #4271ae;">)</span>
              bnb/font-ring
              <span style="color: #4271ae;">(</span>ring-convert-sequence-to-ring <span style="color: #4d4d4c;">(</span>seq-filter #'font-info bnb/fontlist<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
              bnb/font
              <span style="color: #4271ae;">(</span>ring-ref bnb/font-ring 0<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-apply</span> <span style="color: #4271ae;">(</span>font<span style="color: #4271ae;">)</span>
          <span style="color: #8959a8;">"Change the default font to FONT."</span>
          <span style="color: #4271ae;">(</span>set-frame-font <span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> bnb/font font<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span>message <span style="color: #3e999f;">"Set default font to %s"</span> bnb/font<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-next</span> <span style="color: #4271ae;">()</span>
          <span style="color: #8959a8;">"Cycle the default font to the next in the ring."</span>
          <span style="color: #4271ae;">(</span><span style="color: #718c00;">interactive</span><span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span>bnb/font-apply <span style="color: #4d4d4c;">(</span>ring-next bnb/font-ring bnb/font<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/font-prev</span> <span style="color: #4271ae;">()</span>
          <span style="color: #8959a8;">"Cycle the default font to the previous in the ring."</span>
          <span style="color: #4271ae;">(</span><span style="color: #718c00;">interactive</span><span style="color: #4271ae;">)</span>
          <span style="color: #4271ae;">(</span>bnb/font-apply <span style="color: #4d4d4c;">(</span>ring-prev bnb/font-ring bnb/font<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
        <span style="color: #718c00;">(</span>set-frame-font bnb/font<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">bind-keys</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"H-f"</span> . bnb/font-next<span style="color: #718c00;">)</span>
     <span style="color: #718c00;">(</span><span style="color: #3e999f;">"H-F"</span> . bnb/font-prev<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4cb140c" class="outline-4">
<h4 id="org4cb140c"><span class="section-number-4">6.3.2.</span> Unicode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h4>
<div class="outline-text-4" id="text-6-3-2">
<p>
Support unicode fonts throughout the system. Be sure to <a href="https://github.com/rolandwalker/unicode-fonts">install
recommended fonts for support</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">unicode-fonts</span>
  <span style="color: #8959a8;">:disabled</span> t
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:defer</span> 10
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>unicode-fonts-setup<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org409de2a" class="outline-4">
<h4 id="org409de2a"><span class="section-number-4">6.3.3.</span> Trying out fonts on Windows</h4>
<div class="outline-text-4" id="text-6-3-3">
<p>
On Windows, this function shows a font selection screen and sets
the default face. This will not persist between sessions, but is
great for test driving.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/windows-set-font</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Use Windows font selection to set the default font."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>set-face-attribute 'default nil <span style="color: #8959a8;">:font</span> <span style="color: #eab700;">(</span>w32-select-font<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org36a7c13" class="outline-4">
<h4 id="org36a7c13"><span class="section-number-4">6.3.4.</span> Dynamic Font sizes</h4>
<div class="outline-text-4" id="text-6-3-4">
<p>
Changing font sizes in presentations is crucial to have at hand. I
use the following keybindings. <code>C--</code> overrides the negative argument
function, but that one is also accessible by <code>M--</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/change-frame-font-size</span> <span style="color: #3e999f;">(</span>fn<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Change the frame font size according to function FN."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">let*</span> <span style="color: #eab700;">(</span><span style="color: #718c00;">(</span>font-name <span style="color: #4271ae;">(</span>frame-parameter nil 'font<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>decomposed-font-name <span style="color: #4271ae;">(</span>x-decompose-font-name font-name<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
         <span style="color: #718c00;">(</span>font-size <span style="color: #4271ae;">(</span>string-to-number <span style="color: #4d4d4c;">(</span>aref decomposed-font-name 5<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>aset decomposed-font-name 5 <span style="color: #718c00;">(</span>int-to-string <span style="color: #4271ae;">(</span>funcall fn font-size<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span>set-frame-font <span style="color: #718c00;">(</span>x-compose-font-name decomposed-font-name<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/frame-text-scale-increase</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Increase the frame font size by 1."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>bnb/change-frame-font-size '1+<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/frame-text-scale-decrease</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Decrease the frame font size by 1."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>bnb/change-frame-font-size '1-<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">bind-keys</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C-+"</span> . text-scale-increase<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"C--"</span> . text-scale-decrease<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s--"</span> . bnb/frame-text-scale-decrease<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-+"</span> . bnb/frame-text-scale-increase<span style="color: #eab700;">)</span>
   <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-="</span> . bnb/frame-text-scale-increase<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd019de3" class="outline-4">
<h4 id="orgd019de3"><span class="section-number-4">6.3.5.</span> Mode Line Style</h4>
<div class="outline-text-4" id="text-6-3-5">
<p>
I dislike the box around the <code>mode-line</code> making it look like a
button. I disable (set to <code>nil</code>) the <code>box</code> face attribute to get a
flat feel. Be sure to do it to all <code>mode-line</code> faces that have this
attribute.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>set-face-attribute 'mode-line nil <span style="color: #8959a8;">:box</span> nil<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>set-face-attribute 'mode-line-inactive nil <span style="color: #8959a8;">:box</span> nil<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>set-face-attribute 'mode-line-highlight nil <span style="color: #8959a8;">:box</span> nil<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9adfbc6" class="outline-4">
<h4 id="org9adfbc6"><span class="section-number-4">6.3.6.</span> Missing Glyphs</h4>
<div class="outline-text-4" id="text-6-3-6">
<p>
If I ever use a font with a missing glyph, this will let Emacs
check the <i>Symbola</i> font for the missing data.
</p>

<p>
<a href="http://users.teilar.gr/~g1951d/">Download Symbola</a> if you do not have it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>set-fontset-font <span style="color: #3e999f;">"fontset-default"</span> nil
                  <span style="color: #3e999f;">(</span>font-spec <span style="color: #8959a8;">:size</span> 20 <span style="color: #8959a8;">:name</span> <span style="color: #3e999f;">"Symbola"</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1dd3f61" class="outline-4">
<h4 id="org1dd3f61"><span class="section-number-4">6.3.7.</span> Cursor width</h4>
<div class="outline-text-4" id="text-6-3-7">
<p>
Make the cursor the full width of the character at point.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> x-stretch-cursor t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5478a0f" class="outline-3">
<h3 id="org5478a0f"><span class="section-number-3">6.4.</span> Themes</h3>
<div class="outline-text-3" id="text-6-4">
<p>
This function ensures that all enabled themes are shut down &#x2013; not
just the most current one.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/disable-all-themes</span> <span style="color: #3e999f;">()</span>
  <span style="color: #8959a8;">"Disable all enabled themes."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">interactive</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>mapc #'disable-theme custom-enabled-themes<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
On creating themes:
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Custom-Themes.html#Creating-Custom-Themes">https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Custom-Themes.html#Creating-Custom-Themes</a>
</p>
</div>

<div id="outline-container-orgff5492f" class="outline-4">
<h4 id="orgff5492f"><span class="section-number-4">6.4.1.</span> Extra Themes</h4>
<div class="outline-text-4" id="text-6-4-1">
<p>
I like to have a few options for themes easily available. This set
respresents my favorite go-to combinations.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">minimal-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">gruvbox-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">material-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">tango-plus-theme</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t<span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">color-theme-sanityinc-tomorrow</span> <span style="color: #8959a8;">:ensure</span> t <span style="color: #8959a8;">:defer</span> t<span style="color: #4d4d4c;">)</span>
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">dichromacy</span>
<span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">adwaita</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4accf49" class="outline-3">
<h3 id="org4accf49"><span class="section-number-3">6.5.</span> Sky Color Clock</h3>
<div class="outline-text-3" id="text-6-5">
<p>
<a href="https://github.com/zk-phi/sky-color-clock">This is a nice addition</a> to any modeline. In a little block, it
shows the date, time, moon phase
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">sky-color-clock</span>
  <span style="color: #8959a8;">:ensure</span>
  <span style="color: #3e999f;">(</span>sky-color-clock <span style="color: #8959a8;">:host</span> github <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"zk-phi/sky-color-clock"</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>sky-color-clock<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>sky-color-clock-enable-emoji-icon t<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>sky-color-clock-initialize 40<span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>sky-color-clock-initialize-openweathermap-client
   bnb/openweathermap-api-key
   bnb/openweathermap-city-id<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The variables containging my city and API key are stored in <a href="#orgc4cf1a5">local
customizations</a>.
</p>
</div>
</div>

<div id="outline-container-orgf4d53af" class="outline-3">
<h3 id="orgf4d53af"><span class="section-number-3">6.6.</span> Doom Modeline</h3>
<div class="outline-text-3" id="text-6-6">
<p>
Keeping with the goal of a clean and tidy Emacs, <a href="https://seagle0128.github.io/doom-modeline/">Doom modeline</a>
provides that fancy, fast, and minimal design.
</p>

<p>
I only customize the height to hug the font and keep everythig
small.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">doom-modeline</span>
  <span style="color: #8959a8;">:ensure</span> t
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span>doom-modeline-mode t<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:custom</span>
  <span style="color: #3e999f;">(</span>doom-modeline-height 0<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org05b537b" class="outline-3">
<h3 id="org05b537b"><span class="section-number-3">6.7.</span> Asterism (‚ÅÇ) Mode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="PENDING">PENDING</span></span></h3>
<div class="outline-text-3" id="text-6-7">
<p>
Let's try ‚ÅÇ-mode for an interesting mini-buffer line. It writes
information into the minibuffer. Here I have it set to show the
output of <a href="#org4accf49">sky color clock</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">asterism-mode</span>
  <span style="color: #8959a8;">:after</span> sky-color-clock
  <span style="color: #8959a8;">:ensure</span>
  <span style="color: #3e999f;">(</span>asterism-mode <span style="color: #8959a8;">:host</span> gitlab <span style="color: #8959a8;">:repo</span> <span style="color: #3e999f;">"lunar.studio/asterism-mode"</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:init</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/smaller-sky-color</span> <span style="color: #eab700;">()</span>
    <span style="color: #eab700;">(</span><span style="color: #718c00;">let*</span> <span style="color: #718c00;">(</span><span style="color: #4271ae;">(</span>scc <span style="color: #4d4d4c;">(</span>sky-color-clock<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span>
           <span style="color: #4271ae;">(</span>len <span style="color: #4d4d4c;">(</span>length scc<span style="color: #4d4d4c;">)</span><span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span>
      <span style="color: #718c00;">(</span>add-face-text-property 0 len '<span style="color: #4271ae;">(</span><span style="color: #8959a8;">:height</span> 90<span style="color: #4271ae;">)</span> t scc<span style="color: #718c00;">)</span>
                                        <span style="color: #8e908c; font-style: italic;">;</span><span style="color: #8e908c; font-style: italic;">(add-face-text-property 0 len '(:justification right) t scc)</span>
      scc<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">setq</span> &#8258;-format '<span style="color: #eab700;">(</span><span style="color: #718c00;">(</span><span style="color: #8959a8;">:eval</span> <span style="color: #4271ae;">(</span>bnb/smaller-sky-color<span style="color: #4271ae;">)</span><span style="color: #718c00;">)</span><span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org650eab9" class="outline-3">
<h3 id="org650eab9"><span class="section-number-3">6.8.</span> Prettify Symbols</h3>
<div class="outline-text-3" id="text-6-8">
<p>
Emacs can be so pretty sometimes. The modes that follow are great
for <a href="https://www.modernemacs.com/post/prettify-mode/">mathematical notation in Emacs</a>.
</p>

<p>
The built-in <code>prettify-symbols-mode</code> is easy to use. Check out what
it does (and how it can be adjusted) in <code>prettify-symbols-alist</code>.
</p>

<p>
I have additional python settings to make it look sharp.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/add-to-prettify-alist</span> <span style="color: #3e999f;">(</span>pair<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"Push a given PAIR onto the prettify-symbols-alist"</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">push</span> pair prettify-symbols-alist<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defun</span> <span style="color: #f5871f;">bnb/make-prettify-mode-hook</span> <span style="color: #3e999f;">(</span>pairs<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">"PAIRS is a list of elements of the form (SYMBOL . CHARACTER)</span>
<span style="color: #8959a8;">where SYMBOL is a string (not regexp)."</span>
  <span style="color: #3e999f;">(</span><span style="color: #718c00;">lambda</span> <span style="color: #eab700;">()</span> <span style="color: #eab700;">(</span>mapc #'bnb/add-to-prettify-alist pairs<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">defvar</span> <span style="color: #eab700;">bnb/pretty-python</span>
  '<span style="color: #3e999f;">(</span><span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Syntax</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"def"</span> .      ?&#8497;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"not"</span> .      ?&#10071;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"in"</span> .       ?&#8712;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"not in"</span> .   ?&#8713;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"return"</span> .   ?&#10236;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"yield"</span> .    ?&#10235;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"for"</span> .      ?&#8704;<span style="color: #eab700;">)</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Base Types</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"int"</span> .      ?&#8484;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"float"</span> .    ?&#8477;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"str"</span> .      ?&#120138;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"True"</span> .     ?&#120139;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"False"</span> .    ?&#120125;<span style="color: #eab700;">)</span>
    <span style="color: #8e908c; font-style: italic;">;; </span><span style="color: #8e908c; font-style: italic;">Mypy</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Dict"</span> .     ?&#120071;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"List"</span> .     ?&#8466;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Tuple"</span> .    ?&#10754;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Set"</span> .      ?&#8486;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Iterable"</span> . ?&#120074;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Any"</span> .      ?&#10068;<span style="color: #eab700;">)</span>
    <span style="color: #eab700;">(</span><span style="color: #3e999f;">"Union"</span> .    ?&#8746;<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>


<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">prog-mode</span> <span style="color: #8e908c; font-style: italic;">; </span><span style="color: #8e908c; font-style: italic;">Contains pretty-symbols-mode</span>
  <span style="color: #8959a8;">:ensure</span> nil
  <span style="color: #8959a8;">:defer</span>
  <span style="color: #8959a8;">:custom</span> 
  <span style="color: #3e999f;">(</span>prettify-symbols-unprettify-at-point 'right-edge<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:config</span>
  <span style="color: #3e999f;">(</span>global-prettify-symbols-mode t<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:hook</span>
  <span style="color: #3e999f;">(</span>python-mode . <span style="color: #eab700;">(</span>bnb/make-prettify-mode-hook bnb/pretty-python<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>

</pre>
</div>

<p>
Some resources for additional customization:
</p>
<ul class="org-ul">
<li><a href="http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html">http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html</a></li>
<li><a href="https://www.emacswiki.org/emacs/PrettySymbolsForLanguages">https://www.emacswiki.org/emacs/PrettySymbolsForLanguages</a></li>
</ul>
</div>
</div>

<div id="outline-container-org539fc13" class="outline-3">
<h3 id="org539fc13"><span class="section-number-3">6.9.</span> Color</h3>
<div class="outline-text-3" id="text-6-9">
<p>
Having nice colors can help understand status, types, symbols, or
even nesting.
</p>
</div>

<div id="outline-container-orgdbd050d" class="outline-4">
<h4 id="orgdbd050d"><span class="section-number-4">6.9.1.</span> Rainbow Mode</h4>
<div class="outline-text-4" id="text-6-9-1">
<p>
In order to see the colors <i>in the buffer</i> this mode higlights
color words and definitions with their values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">rainbow-mode</span>
  <span style="color: #8959a8;">:commands</span> <span style="color: #3e999f;">(</span>rainbow-mode<span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org77f4984" class="outline-4">
<h4 id="org77f4984"><span class="section-number-4">6.9.2.</span> KureColor</h4>
<div class="outline-text-4" id="text-6-9-2">
<p>
Color helper KureColor allows easy modifications of hue,
saturation and brightness.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">use-package</span> <span style="color: #4271ae;">kurecolor</span>
  <span style="color: #8959a8;">:bind</span> <span style="color: #3e999f;">(</span><span style="color: #eab700;">(</span><span style="color: #3e999f;">"H-k"</span> . kurecolor-increase-hue-by-step<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"H-j"</span> . kurecolor-decrease-hue-by-step<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-k"</span> . kurecolor-increase-saturation-by-step<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-j"</span> . kurecolor-decrease-saturation-by-step<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-l"</span> . kurecolor-increase-brightness-by-step<span style="color: #eab700;">)</span>
         <span style="color: #eab700;">(</span><span style="color: #3e999f;">"s-h"</span> . kurecolor-decrease-brightness-by-step<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #8959a8;">:ensure</span> t<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>


<div id="outline-container-orgcb2f728" class="outline-2">
<h2 id="orgcb2f728"><span class="section-number-2">7.</span> Postamble</h2>
<div class="outline-text-2" id="text-7">
<p>
These elements are at the end to keep all customizations tidy.
</p>
</div>

<div id="outline-container-orgee6a0a2" class="outline-3">
<h3 id="orgee6a0a2"><span class="section-number-3">7.1.</span> Local customizations (custom.el)</h3>
<div class="outline-text-3" id="text-7-1">
<p>
I typically use the customize interface to generate any local
settings such as proxies, paths, fonts, etc. that may vary from
machine to machine.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">setq</span> custom-file <span style="color: #3e999f;">"~/.emacs.d/custom.el"</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span>load-file custom-file<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc4cf1a5" class="outline-3">
<h3 id="orgc4cf1a5"><span class="section-number-3">7.2.</span> Local customizations (user-login-name)</h3>
<div class="outline-text-3" id="text-7-2">
<p>
I also intend to have a generic call to an installed local file
that may need to behave differently from <code>custom.el</code>. This loads
last so that it can modify any existing setting made here to work
on the specific system in question.
</p>

<p>
In the code below, I add <code>~/.emacs.d/</code> to the load path and have a
protected call to <code>load-library</code>.  If the file exists, it gets
loaded, otherwise the error normally returned if the file is
non-existent gets ignored.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span><span style="color: #718c00;">condition-case</span> err
    <span style="color: #3e999f;">(</span><span style="color: #718c00;">progn</span>
      <span style="color: #eab700;">(</span>load-file <span style="color: #718c00;">(</span>format <span style="color: #3e999f;">"~/.emacs.d/%s.el"</span>  user-login-name<span style="color: #718c00;">)</span><span style="color: #eab700;">)</span>
      <span style="color: #eab700;">(</span>message <span style="color: #3e999f;">"Loaded local settings file %s.el"</span> user-login-name<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  <span style="color: #3e999f;">(</span>file-error
   <span style="color: #eab700;">(</span>message <span style="color: #3e999f;">"Skipping %s library as it does not exist."</span> user-login-name<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span>
  nil<span style="color: #4d4d4c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga5dc87f" class="outline-3">
<h3 id="orga5dc87f"><span class="section-number-3">7.3.</span> Housekeeping</h3>
<div class="outline-text-3" id="text-7-3">
<p>
This message prints when Elpaca loading is complete
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4d4d4c;">(</span>message <span style="color: #3e999f;">"README EVALUATION DURATION: %3.2f seconds"</span> <span style="color: #3e999f;">(</span>- <span style="color: #eab700;">(</span>float-time<span style="color: #eab700;">)</span> bnb/start-time<span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
<span style="color: #4d4d4c;">(</span><span style="color: #718c00;">elpaca</span> nil
  <span style="color: #3e999f;">(</span>message <span style="color: #3e999f;">"ELPACA LOADING COMPLETE: %s"</span> <span style="color: #eab700;">(</span>emacs-init-time<span style="color: #eab700;">)</span><span style="color: #3e999f;">)</span><span style="color: #4d4d4c;">)</span>
</pre>
</div>

<p>
The local variables here setup a save hook (just in this buffer)
that will create <a href="file:///Users/ben.beckwith/.emacs.d/full.el">full.el</a> for loading.
</p>

<p>
I used to use Org to tangle on the fly during initialization, but
this method supports a pre-tangling that speeds up initialization.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Benjamin Beckwith</p>
<p class="date">Created: 2024-02-16 Fri 08:20</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>